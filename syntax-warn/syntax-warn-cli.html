<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/syntax-warn/syntax-warn-cli.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;The Syntax Warning Command Line Interface</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Syntax Warnings</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="syntax-warn-reference.html" class="tocviewlink" data-pltdoc="x">The Syntax Warnings Reference</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">The Syntax Warning Command Line Interface</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="syntax-warn-lang.html" class="tocviewlink" data-pltdoc="x">The Syntax Warnings Language</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">The Syntax Warning Command Line Interface</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._raco_warn__.Checking_.Syntax_.Warnings%29" class="tocviewlink" data-pltdoc="x"><span class="stt">raco warn</span>:<span class="mywbr"> &nbsp;</span> Checking Syntax Warnings</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._raco_fix__.Fixing_.Syntax_.Warnings%29" class="tocviewlink" data-pltdoc="x"><span class="stt">raco fix</span>:<span class="mywbr"> &nbsp;</span> Fixing Syntax Warnings</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._raco_warn__.Checking_.Syntax_.Warnings%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">raco warn</span>:<span class="mywbr"> &nbsp;</span> Checking Syntax Warnings</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._raco_fix__.Fixing_.Syntax_.Warnings%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">raco fix</span>:<span class="mywbr"> &nbsp;</span> Fixing Syntax Warnings</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="syntax-warn-reference.html" title="backward to &quot;1 The Syntax Warnings Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Syntax Warnings&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="syntax-warn-lang.html" title="forward to &quot;3 The Syntax Warnings Language&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;syntax-warn-doc/main.scrbl&quot;)" x-source-pkg="syntax-warn-doc" x-part-tag="&quot;syntax-warn-cli&quot;">2<tt>&nbsp;</tt><a name="(part._syntax-warn-cli)"></a>The Syntax Warning Command Line Interface</h3><p>This document describes the <span class="stt">raco warn</span> and <span class="stt">raco fix</span>
commands. This commands allow a programmer to check for
<a href="index.html#%28tech._syntax._warning%29" class="techoutside" data-pltdoc="x"><span class="techinside">syntax warnings</span></a> and, where possible, automatically fix
them. The two commands are designed to work together - when
<span class="stt">raco warn</span> outputs no warnings, <span class="stt">raco fix</span> makes no
changes to any modules. Additionally, both commands accept the same
flags for specifying which modules to check.</p><h4 x-source-module="(lib &quot;syntax-warn-doc/main.scrbl&quot;)" x-source-pkg="syntax-warn-doc" x-part-tag="&quot;raco_warn__Checking_Syntax_Warnings&quot;">2.1<tt>&nbsp;</tt><a name="(part._raco_warn__.Checking_.Syntax_.Warnings)"></a><span class="stt">raco warn</span>: Checking Syntax Warnings</h4><p>The <span class="stt">raco warn</span> command searches for <a href="index.html#%28tech._syntax._warning%29" class="techoutside" data-pltdoc="x"><span class="techinside">syntax warnings</span></a>
in a specified set of modules. Any found warnings are displayed with
a message, the offending source code, and a suggested fix (if present).
If any warnings are found the command exits as a failure, making it
suitable for use in continuous integration systems.</p><p>Not all warnings need cause a failure. The <span class="stt">raco warn</span> command
allows certain warnings to be <span style="font-style: italic">suppressed</span> by configuration.
For every module that <span class="stt">raco warn</span> examines, the command looks
for a <a href="syntax-warn-reference.html#%28tech._warning._config%29" class="techoutside" data-pltdoc="x"><span class="techinside">warning configuration</span></a> value named <span class="RktSym">config</span>
provided by that module&rsquo;s <span class="RktVal">'</span><span class="RktVal">warning-config</span> submodule. If this
module or the expected binding isn&rsquo;t present, <span class="RktSym"><a href="syntax-warn-reference.html#%28def._%28%28lib._syntax%2Fwarn..rkt%29._empty-warning-config%29%29" class="RktValLink" data-pltdoc="x">empty-warning-config</a></span>
is used. This allows for per-module suppression of particular kinds
of warnings, see the documentation of <span class="RktSym">warning-config</span> for
details. Warnings may also be suppressed via command line flags.</p><p>The <span class="stt">raco warn</span> command accepts any number of arguments along with
the following flags:</p><ul><li><p><div class="SIntrapara"><span class="nobreak"><span class="stt">--arg-kind</span></span> &#8212;<wbr></wbr> Sets how to interpret the given arguments.
Defaults to "collection". Valid interpretation modes are:
</div><div class="SIntrapara"><ul><li><p><span class="RktVal">"file"</span> &#8212;<wbr></wbr> Each argument is interpreted as a relative or
absolute file path to a module.</p></li><li><p><span class="RktVal">"directory"</span> &#8212;<wbr></wbr> Each argument is interpreted as a
relative or absolute directory path, which is recursively scanned
for modules. All files in the given directories are assumed to be
modules.</p></li><li><p><span class="RktVal">"collection"</span> &#8212;<wbr></wbr> Each argument is interpreted as a
collection, whose modules are checked recursively.</p></li><li><p><span class="RktVal">"package"</span> &#8212;<wbr></wbr> Each argument is interpreted as a package,
whose modules are checked recursively.</p></li></ul></div></p></li><li><p><span class="nobreak"><span class="stt">-f</span></span> or <span class="nobreak"><span class="stt">--files</span></span> &#8212;<wbr></wbr> Shorthand for <span class="stt">--arg-kind file</span>.</p></li><li><p><span class="nobreak"><span class="stt">-d</span></span> or <span class="nobreak"><span class="stt">--directories</span></span> &#8212;<wbr></wbr> Shorthand for <span class="stt">--arg-kind
directory</span>.</p></li><li><p><span class="nobreak"><span class="stt">-c</span></span> or <span class="nobreak"><span class="stt">--collections</span></span> &#8212;<wbr></wbr> Shorthand for <span class="stt">--arg-kind
collection</span>.</p></li><li><p><span class="nobreak"><span class="stt">-p</span></span> or <span class="nobreak"><span class="stt">--packages</span></span> &#8212;<wbr></wbr> Shorthand for <span class="stt">--arg-kind
package</span>.</p></li><li><p><span class="nobreak"><span class="stt">--config-submod</span></span> &#8212;<wbr></wbr> Sets the name of the submodule to
look for warning configuration in. Required prior to loading of
the surrounding module to check. Defaults to <span class="RktVal">'</span><span class="RktVal">warning-config</span>.</p></li><li><p><span class="nobreak"><span class="stt">--config-submod-binding</span></span> &#8212;<wbr></wbr> Sets the name of the value
to look for in the warning configuration submodule. Defaults to
<span class="RktSym">config</span>. The warning configuration submodule should
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span> a <span class="RktSym">warning-configuration?</span> value under this
name.</p></li><li><p><span class="nobreak"><span class="stt">--suppress</span></span> &#8212;<wbr></wbr> Repeated, sets a list of warning kinds to
suppress. Example usage: <span class="stt">raco warn --suppress foo --suppress bar -p
some-package</span>.</p></li><li><p><span class="nobreak"><span class="stt">--unsuppress</span></span> &#8212;<wbr></wbr> Like <span class="stt">--suppress</span> but for unsuppressing
warnings. Use this to turn back on warnings that module configuration turned
off.</p></li></ul><h4 x-source-module="(lib &quot;syntax-warn-doc/main.scrbl&quot;)" x-source-pkg="syntax-warn-doc" x-part-tag="&quot;raco_fix__Fixing_Syntax_Warnings&quot;">2.2<tt>&nbsp;</tt><a name="(part._raco_fix__.Fixing_.Syntax_.Warnings)"></a><span class="stt">raco fix</span>: Fixing Syntax Warnings</h4><p>The <span class="stt">raco fix</span> command searches for <a href="index.html#%28tech._syntax._warning%29" class="techoutside" data-pltdoc="x"><span class="techinside">syntax warnings</span></a>
in a specified set of modules and fixes them, if possible. For each
module checked, the set of warnings is filtered to only warnings with
suggested fixes that won&rsquo;t interfere with each other. For instance, if
two warnings suggest changing the same piece of code, <span class="stt">raco fix</span>
will either fix one of the warnings if its affected source code fully
encompasses the other warning&rsquo;s source code, or fix neither warning if
they only partially overlap. The <span class="stt">raco fix</span> command also accepts
a <span style="font-style: italic">run mode</span> argument that can configure how <span class="stt">raco fix</span>
applies changes, if at all.</p><p>The <span class="stt">raco fix</span> command accepts any number of arguments along with
the following flags:</p><ul><li><p><span class="nobreak"><span class="stt">--arg-kind</span></span> &#8212;<wbr></wbr> Sets how to interpret the given arguments.
This flag accepts the same values and has the same default as it does
for <span class="stt">raco warn</span>. Additionally, the same shorthand flags for the
various values are accepted.</p></li><li><p><div class="SIntrapara"><span class="nobreak"><span class="stt">--run-mode</span></span> &#8212;<wbr></wbr> Sets how to handle fixable warnings. Valid options
are:
</div><div class="SIntrapara"><ul><li><p><span class="RktVal">"wet"</span> &#8212;<wbr></wbr> Default behavior. Write any found fixes to the
module files indicated by source locations.</p></li><li><p><span class="RktVal">"dry"</span> &#8212;<wbr></wbr> Operate as a <span style="font-style: italic">dry run</span>. In a dry run,
            <span class="stt">raco fix</span> performs no file writes and merely outputs what it
would fix in which modules.</p></li></ul></div></p></li><li><p><span class="nobreak"><span class="stt">-D</span></span> or <span class="nobreak"><span class="stt">--dry</span></span> &#8212;<wbr></wbr> Shorthand for <span class="stt">--run-mode dry</span>.</p></li><li><p><span class="nobreak"><span class="stt">-E</span></span> or <span class="nobreak"><span class="stt">--wet</span></span> &#8212;<wbr></wbr> Shorthand for <span class="stt">--run-mode wet</span>.</p></li></ul><p>In addition, the <span class="stt">raco fix</span> command looks for <a href="syntax-warn-reference.html#%28tech._warning._config%29" class="techoutside" data-pltdoc="x"><span class="techinside">warning
configuration</span></a> in the same way as <span class="stt">raco warn</span> with the same flags
to control this behavior. Warnings can also be suppressed and unsuppressed with
direct flags in the same manner as <span class="stt">raco warn</span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="syntax-warn-reference.html" title="backward to &quot;1 The Syntax Warnings Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Syntax Warnings&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="syntax-warn-lang.html" title="forward to &quot;3 The Syntax Warnings Language&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/syntax-warn/syntax-warn-cli.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:38 GMT -->
</html>