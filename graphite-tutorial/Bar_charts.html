<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/graphite-tutorial/Bar_charts.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:27:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4&nbsp;Bar charts</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Graphite:<span class="mywbr"> &nbsp;</span> a guided tour</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Deciding_what_library_to_use.html" class="tocviewlink" data-pltdoc="x">Deciding what library to use</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Key_forms.html" class="tocviewlink" data-pltdoc="x">Key forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Gapminder.html" class="tocviewlink" data-pltdoc="x">Gapminder</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Bar charts</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Faceting.html" class="tocviewlink" data-pltdoc="x">Faceting</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Data_wrangling__101.html" class="tocviewlink" data-pltdoc="x">Data wrangling, 101</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Data_wrangling__201__Wrangle_harder.html" class="tocviewlink" data-pltdoc="x">Data wrangling, 201:<span class="mywbr"> &nbsp;</span> Wrangle harder</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Gapminder.html" title="backward to &quot;3 Gapminder&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Graphite: a guided tour&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Faceting.html" title="forward to &quot;5 Faceting&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;graphite-tutorial/graphite-tutorial.scrbl&quot;)" x-source-pkg="graphite-tutorial" x-part-tag="&quot;Bar_charts&quot;">4<tt>&nbsp;</tt><a name="(part._.Bar_charts)"></a>Bar charts</h3><p>For this section, we&rsquo;ll be using a CSV dump of the 2016 GSS (General Social Survey) from its respective R
library, a dataset that sociologists continually manage to squeeze more and more insights out of. More
importantly, the Gapminder dataset from the previous section has a lot of continuous variables (such as
GDP per capita and life expectancy, which we worked with), but no categorical variables. The GSS has a wide
variety of categorical variables to work with, making it ideal for making bar charts and histograms.</p><p><div class="SIntrapara">Similarly to last time, we load it up and take a gander:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">gss</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=data-frame&amp;rel=index.html%23%2528def._%2528%2528lib._data-frame%252Fmain..rkt%2529._df-read%252Fcsv%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">df-read/csv</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"data/gss_sm.csv"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=sawzall&amp;rel=display.html%23%2528form._%2528%2528lib._sawzall%252Fmain..rkt%2529._show%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">show</a></span><span class="hspace">&nbsp;</span><span class="RktSym">gss</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">data-frame: 2867 rows x 33 columns</span></p></td></tr><tr><td><p><span class="RktOut">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9516;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9516;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9516;&#9472;&#9472;&#9472;&#9472;&#9516;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9516;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;</span></p></td></tr><tr><td><p><span class="RktOut">&#9474;obama&#9474;grass</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;marital</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;kids&#9474;siblings&#9474;relig </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;</span></p></td></tr><tr><td><p><span class="RktOut">&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;</span></p></td></tr><tr><td><p><span class="RktOut">&#9474;0</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;NA </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Married</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;3 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;2 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;None</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;</span></p></td></tr><tr><td><p><span class="RktOut">&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;</span></p></td></tr><tr><td><p><span class="RktOut">&#9474;1</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Legal</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Never Married&#9474;0 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;3 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;None</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;</span></p></td></tr><tr><td><p><span class="RktOut">&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;</span></p></td></tr><tr><td><p><span class="RktOut">&#9474;0</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Not Legal&#9474;Married</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;2 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;3 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Catholic&#9474;</span></p></td></tr><tr><td><p><span class="RktOut">&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;</span></p></td></tr><tr><td><p><span class="RktOut">&#9474;0</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;NA </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Married</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;4+</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;3 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Catholic&#9474;</span></p></td></tr><tr><td><p><span class="RktOut">&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;</span></p></td></tr><tr><td><p><span class="RktOut">&#9474;1</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Legal</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Married</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;2 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;2 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;None</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;</span></p></td></tr><tr><td><p><span class="RktOut">&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;</span></p></td></tr><tr><td><p><span class="RktOut">&#9474;1</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Legal</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;Married</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;2 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;2 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;None</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9474;</span></p></td></tr><tr><td><p><span class="RktOut">&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;</span></p></td></tr><tr><td><p><span class="RktOut">2861 rows, 27 cols elided</span></p></td></tr><tr><td><p><span class="RktOut">(use (show df everything #:n-rows 'all) for full frame)</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>Clearly, we have a lot of data to work with here, but a lot of it is categorical &ndash; meaning we can make some
bar charts!</p><p><div class="SIntrapara">We start off by taking a look at the variable <span class="stt">religion</span>, which contains a condensed version of the religions
in the GSS. (The variable <span class="stt">relig</span> is more descriptive, but has too many categories for simple examples.)
We use the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bar</a></span> renderer, with no arguments, to take a look at the count:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._graph%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">graph</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:data</span><span class="hspace">&nbsp;</span><span class="RktSym">gss</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Religious preferences, GSS 2016"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:mapping</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._aes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">aes</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:x</span><span class="hspace">&nbsp;</span><span class="RktVal">"religion"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bar</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_7.png" alt="image" width="406.0" height="406.0"/></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Let&rsquo;s say that we wanted to, instead, look at the <span style="font-style: italic">proportion</span> of each religion
among the whole, rather than its individual count. We can specify this with the <span class="RktPn">#:mode</span> argument of
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bar</a></span>, which can either be <span class="RktVal">'</span><span class="RktVal">count</span> or <span class="RktVal">'</span><span class="RktVal">prop</span>, with <span class="RktVal">'</span><span class="RktVal">count</span> being the default
behavior we saw before.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._graph%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">graph</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:data</span><span class="hspace">&nbsp;</span><span class="RktSym">gss</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Religious preferences, GSS 2016"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:mapping</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._aes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">aes</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:x</span><span class="hspace">&nbsp;</span><span class="RktVal">"religion"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bar</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:mode</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">prop</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_8.png" alt="image" width="406.0" height="406.0"/></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">With the y-axis representing proportions from 0 to 1, we now have a good idea of what&rsquo;s going on here. Similarly
to the last example with Gapminder, let&rsquo;s say that we wanted to split on each region, cross-classifying between
the categorical variables of <span class="stt">religion</span> and <span class="stt">bigregion</span> (Northeast/Midwest/South/West, in the US). To
accomplish this, we can make the x-axis region, and then group with respect to the variable <span class="stt">religion</span> &ndash; effectively,
making each individual region its own bar chart. To do this, we use the aesthetic <span class="RktPn">#:group</span>, and adjust
the plot size:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._graph%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">graph</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:data</span><span class="hspace">&nbsp;</span><span class="RktSym">gss</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Religious preferences among regions, GSS 2016"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:mapping</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._aes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">aes</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:x</span><span class="hspace">&nbsp;</span><span class="RktVal">"bigregion"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:group</span><span class="hspace">&nbsp;</span><span class="RktVal">"religion"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:width</span><span class="hspace">&nbsp;</span><span class="RktVal">600</span><span class="hspace">&nbsp;</span><span class="RktPn">#:height</span><span class="hspace">&nbsp;</span><span class="RktVal">400</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bar</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:mode</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">prop</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_9.png" alt="image" width="606.0" height="406.0"/></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Another way of laying out this data is to use a stacked bar chart, in which each bar itself is stratified by its
variable. Graphite supports this by simply changing <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bar</a></span> to <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._stacked-bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stacked-bar</a></span>:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._graph%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">graph</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:data</span><span class="hspace">&nbsp;</span><span class="RktSym">gss</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Religious preferences among regions, GSS 2016"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:mapping</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._aes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">aes</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:x</span><span class="hspace">&nbsp;</span><span class="RktVal">"bigregion"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:group</span><span class="hspace">&nbsp;</span><span class="RktVal">"religion"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:width</span><span class="hspace">&nbsp;</span><span class="RktVal">600</span><span class="hspace">&nbsp;</span><span class="RktPn">#:height</span><span class="hspace">&nbsp;</span><span class="RktVal">400</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=graphite&amp;rel=index.html%23%2528def._%2528%2528lib._graphite%252Fmain..rkt%2529._stacked-bar%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stacked-bar</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:mode</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">prop</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_10.png" alt="image" width="606.0" height="406.0"/></p></td></tr></table></blockquote></div></p><p>But both of these methods of presentation, while they have their uses, are still difficult to read. Both of them
require consulting the legend in order to determine the bar type, and furthermore, the stacked bar makes it somewhat
difficult to compare different categories within each region. To remedy this, we need to introduce another concept...</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Gapminder.html" title="backward to &quot;3 Gapminder&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Graphite: a guided tour&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Faceting.html" title="forward to &quot;5 Faceting&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/graphite-tutorial/Bar_charts.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:27:09 GMT -->
</html>