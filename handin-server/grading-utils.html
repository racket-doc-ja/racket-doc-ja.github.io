<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/handin-server/grading-utils.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>8&nbsp;Grading Utilities</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Handin Server</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Handin-Server_and_Client.html" class="tocviewlink" data-pltdoc="x">Handin-<wbr></wbr>Server and Client</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Quick_Start_for_a_Test_Drive.html" class="tocviewlink" data-pltdoc="x">Quick Start for a Test Drive</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="wheres-the-collection.html" class="tocviewlink" data-pltdoc="x">Where is the Collection?</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Client_Customization.html" class="tocviewlink" data-pltdoc="x">Client Customization</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="server-setup.html" class="tocviewlink" data-pltdoc="x">Server Setup</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Checker_Utilities.html" class="tocviewlink" data-pltdoc="x">Checker Utilities</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Additional_Utilities.html" class="tocviewlink" data-pltdoc="x">Additional Utilities</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Grading Utilities</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._check-deadline%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">check-<wbr></wbr>deadline</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._check-max-submissions%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">check-<wbr></wbr>max-<wbr></wbr>submissions</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._update-submission-timestamp%21%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">update-<wbr></wbr>submission-<wbr></wbr>timestamp!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._get-submission-timestamp%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">get-<wbr></wbr>submission-<wbr></wbr>timestamp</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._set-test-max-score%21%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">set-<wbr></wbr>test-<wbr></wbr>max-<wbr></wbr>score!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._score-add-penalty%21%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">score-<wbr></wbr>add-<wbr></wbr>penalty!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-report-line%21%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>report-<wbr></wbr>line!</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._with-output-to-report%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>output-<wbr></wbr>to-<wbr></wbr>report</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-score-to-report%21%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>score-<wbr></wbr>to-<wbr></wbr>report!</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._write-report%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">write-<wbr></wbr>report</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._~40test%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">@test</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._~40test%2Fexn%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">@test/<span class="mywbr"> &nbsp;</span>exn</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Additional_Utilities.html" title="backward to &quot;7 Additional Utilities&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Handin Server&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;handin-server/scribblings/handin-server.scrbl&quot;)" x-source-pkg="handin" x-part-tag="&quot;grading-utils&quot;">8<tt>&nbsp;</tt><a name="(part._grading-utils)"></a><a name="(mod-path._handin-server/grading-utils)"></a>Grading Utilities</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">handin-server/grading-utils</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/handin" title="Install this package using `raco pkg install handin`"><span class="stt">handin</span></a></span></td></tr></table></p><p>This module provides utilities that can serve as the basis for an automated
grading system. In particular, it provides:</p><ul><li><p>A mechanism to establish deadlines with or without allowing late
submissions. The idea is to avoid having someone stop the server at midnight in
order to stop accepting submissions.</p></li><li><p>A mechanism to establish a maximum number of submissions. The idea is
that students can get limited feedback before doing the definitive submission.</p></li><li><p>A mechanism to keep track of the user&rsquo;s score, and where failed tests add
a penalty to that score.</p></li><li><p>A mechanism to create a report (a text file) of the evaluation of the submission,
instead of reporting errors immediately when they are found. Moreover, it is
possible to delay the publication of this report, in order to avoid potential
abuses from the students.</p></li></ul><p>The following example illustrates a checker module using this infrastructure:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym">checker</span><span class="hspace">&nbsp;</span><span class="RktSym">handin-server/checker</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">handin-server/grading-utils</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Checks that submission is on time and that the user has submissions left</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._pre~3a%29%29" class="RktStxLink" data-pltdoc="x">pre:</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._check-deadline%29%29" class="RktValLink" data-pltdoc="x">check-deadline</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._check-max-submissions%29%29" class="RktValLink" data-pltdoc="x">check-max-submissions</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Ends the report by adding the score and writes it in the user directory</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">This way, students can see their reports from the web interface.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._post~3a%29%29" class="RktStxLink" data-pltdoc="x">post:</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-score-to-report%21%29%29" class="RktValLink" data-pltdoc="x">add-score-to-report!</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._write-report%29%29" class="RktStxLink" data-pltdoc="x">write-report</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._check~3a%29%29" class="RktStxLink" data-pltdoc="x">check:</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Get timestamp of the submission and add it to header and report</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._update-submission-timestamp%21%29%29" class="RktValLink" data-pltdoc="x">update-submission-timestamp!</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#%28def._%28%28lib._handin-server%2Fchecker..rkt%29._add-header-line%21%29%29" class="RktValLink" data-pltdoc="x">add-header-line!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._get-submission-timestamp%29%29" class="RktValLink" data-pltdoc="x">get-submission-timestamp</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-report-line%21%29%29" class="RktValLink" data-pltdoc="x">add-report-line!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._get-submission-timestamp%29%29" class="RktValLink" data-pltdoc="x">get-submission-timestamp</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Acceptance tests: reject the submission if any of these tests fail</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._%21test%29%29" class="RktStxLink" data-pltdoc="x">!test</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">...</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Grading</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Initialize max score</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._set-test-max-score%21%29%29" class="RktValLink" data-pltdoc="x">set-test-max-score!</a></span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Failure discounts 25 points</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._~40test%29%29" class="RktStxLink" data-pltdoc="x">@test</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Sample case 1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Error using even? predicate"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bar</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._even%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">even?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">25</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._check-deadline))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._check-deadline%29%29" class="RktValDef RktValLink" data-pltdoc="x">check-deadline</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Checks if the current submission is within the deadline specified for the
  corresponding assignment. If the submission is past this deadline, a submit
  error is thrown. If no deadline is specified the check is trivially
  passed. This function is intended to be used in the pre-checker stage.</div></p><p>Deadlines are configured in the <span class="stt">"config.rktd"</span> file (see
  <a href="server-setup.html" data-pltdoc="x">Server Setup</a>), in a per-assignment basis, through the
  <a name="(idx._(gentag._58._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktVal">"deadline"</span> key. This is an optional keyword that holds an
  association list where each sublist has three elements:</p><ul><li><p>the assignment name, which must coincide with the name used in the
<span class="RktVal">"active-dir"</span> key</p></li><li><p>the deadline date, specified as a list <span class="RktVal">"(year month day hour minutes seconds)"</span></p></li><li><p>a non-negative integer indicating the amount of days allowed for late
submissions. If this value is <span class="RktVal">0</span><span class="RktMeta"></span> then the deadline is strict. Late
submissions are marked as such in the report and in the textual version of the
submission (if created).</p></li></ul><p>Consider an example configuration:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">(deadline (("Assignment 1" (2014 3 11 23 59 59) 3)))</span></p></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._check-max-submissions))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._check-max-submissions%29%29" class="RktValDef RktValLink" data-pltdoc="x">check-max-submissions</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">If the assignment has a limited number of submissions, it checks whether the
user has already used up all of them. If the user has no submissions left, the
current one is rejected. This check is intended for use in the pre-checker stage.</div></p><p>By default users have an unlimited number of submissions. Restrictions on the
number of submissions must be defined in the <span class="stt">"config.rktd"</span> file,
through the optional <span class="RktSym">max-submissions</span> key. This key must hold an
association where each sublist has two elements: the assignment name, and a
non-negative integer specifying the allowed submissions. For example:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(max-submissions (("Assignment 1 5)))</span></p></td></tr></table></p><p><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._check-max-submissions%29%29" class="RktValLink" data-pltdoc="x">check-max-submissions</a></span> only counts the number of existing successful
submissions, more specifically, it counts the number of <span class="RktVal">"\"SUCCESS-n\""</span>
directories specific to each user. Therefore, submissions that rejected by the
pre-checker or checker do not count against the submission limit.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._update-submission-timestamp!))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._update-submission-timestamp%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">update-submission-timestamp!</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Sets the current timestamp as a thread-local value that can be later retrieved
using <span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._get-submission-timestamp%29%29" class="RktValLink" data-pltdoc="x">get-submission-timestamp</a></span>. This value can be then used to
identify submissions and related files, like reports or grading files. The
rationale is that we cannot use the <span class="RktVal">"\"SUCCESS-n\""</span> names because they
will change after new submissions.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._get-submission-timestamp))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._get-submission-timestamp%29%29" class="RktValDef RktValLink" data-pltdoc="x">get-submission-timestamp</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns an string representing the latest timestamp value stored using
<span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._update-submission-timestamp%21%29%29" class="RktValLink" data-pltdoc="x">update-submission-timestamp!</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._set-test-max-score!))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._set-test-max-score%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">set-test-max-score!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">max-score</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-score</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Sets <span class="RktVar">max-score</span> as the maximum score possible for this submission, and
initializes the student&rsquo;s score to this value. Penalties are only applied to
the student&rsquo;s score, while the maximum score is available for reference only.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._score-add-penalty!))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._score-add-penalty%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">score-add-penalty!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">penalty</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">penalty</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._zero%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Discounts <span class="RktVar">penalty</span> points from the student&rsquo;s score.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._add-report-line!))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-report-line%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">add-report-line!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">line</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">line</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="Checker.html#%28def._%28%28lib._handin-server%2Fchecker..rkt%29._add-header-line%21%29%29" class="RktValLink" data-pltdoc="x">add-header-line!</a></span>, but it writes to the report instead of the
textual version of the submission.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._handin-server/grading-utils..rkt)._with-output-to-report))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._with-output-to-report%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">with-output-to-report</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Evaluates <span class="RktVar">expr</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> and redirects output to the report bound to this
submission. Similar to <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-lib.html%23%2528def._%2528%2528lib._racket%252Fport..rkt%2529._with-output-to-string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">with-output-to-string</a></span> or
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=file-ports.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._with-output-to-file%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">with-output-to-file</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._handin-server/grading-utils..rkt)._add-score-to-report!))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-score-to-report%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">add-score-to-report!</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An utility function, defined as:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-score-to-report%21%29%29" class="RktValLink" data-pltdoc="x">add-score-to-report!</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._handin-server%2Fgrading-utils..rkt%29._add-report-line%21%29%29" class="RktValLink" data-pltdoc="x">add-report-line!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Final Score: ~a out of ~a"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-student-score</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-test-max-score</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._handin-server/grading-utils..rkt)._write-report))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._write-report%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">write-report</a></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Writes the report bound to the current submission into the root of the user
folder of the corresponding assignment (for example <span class="stt">"Assignment
1/tester"</span>). By default, the report is written immediately to this folder. It is
possible to configure the delay in the <span class="stt">"config.rktd"</span> file, using the
<span class="RktSym">report-delay-in-minutes</span> key. The value of this key must be a
non-negative number, for example:</div></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">(report-delay-in-minutes 5)</span></p></td></tr></table></p><p>Internally, the macro calls the <span class="RktSym">start-timer</span> procedure in the following
way:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._write-report%29%29" class="RktStxLink" data-pltdoc="x">write-report</a></span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">report-delay</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-report-delay-in-minutes</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start-timer</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start-timer-manager</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">60</span><span class="hspace">&nbsp;</span><span class="RktSym">report-delay</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>The default behavior is obtained because <span class="RktSym">get-report-delay-in-minutes</span>
returns <span class="RktVal">0</span> if the key is not found in <span class="stt">"config.rktd"</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._handin-server/grading-utils..rkt)._~40test))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._~40test%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">@test</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">test-desc</span><span class="hspace">&nbsp;</span><span class="RktVar">error-desc</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">result</span><span class="hspace">&nbsp;</span><span class="RktVar">penalty</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._~40test%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">@test</a></span><span class="hspace">&nbsp;</span><span class="RktVar">test-desc</span><span class="hspace">&nbsp;</span><span class="RktVar">error-desc</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">result</span><span class="hspace">&nbsp;</span><span class="RktVar">equal?</span><span class="hspace">&nbsp;</span><span class="RktVar">penalty</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._%21test%29%29" class="RktStxLink" data-pltdoc="x">!test</a></span>, but is designed to work with a report and a user score. It
evaluates <span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._%21test%29%29" class="RktStxLink" data-pltdoc="x">!test</a></span><span class="stt"> </span><span class="RktVar">expr</span><span class="stt"> </span><span class="RktVar">result</span><span class="RktPn">)</span> or <span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._%21test%29%29" class="RktStxLink" data-pltdoc="x">!test</a></span><span class="stt"> </span><span class="RktVar">expr</span><span class="stt"> </span><span class="RktVar">result</span><span class="stt"> </span><span class="RktVar">equal?</span><span class="RktPn">)</span>
and redirects the output to the report. If the test fails, the error message is
written to the report and no exception is thrown, and the <span class="RktVar">penalty</span> is
added to the score of the user.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._handin-server/grading-utils..rkt)._~40test/exn))"></a><span title="Provided from: handin-server/grading-utils | Package: handin"><span class="RktSym"><a href="#%28form._%28%28lib._handin-server%2Fgrading-utils..rkt%29._~40test%2Fexn%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">@test/exn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">penalty</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="Checker.html#%28form._%28%28lib._handin-server%2Fchecker..rkt%29._%21test%2Fexn%29%29" class="RktStxLink" data-pltdoc="x">!test/exn</a></span> but the output is redirected to the report. In case of
error, the message is written to the report instead of raising an exception.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Additional_Utilities.html" title="backward to &quot;7 Additional Utilities&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Handin Server&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/handin-server/grading-utils.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:18 GMT -->
</html>