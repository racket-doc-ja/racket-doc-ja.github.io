<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/simple-tree-text-markup/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:06:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Simple Tree Text Markup: Simple Markup for Display as Text or in GUI</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Simple Tree Text Markup:<span class="mywbr"> &nbsp;</span> Simple Markup for Display as Text or in GUI</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._simple-tree-text-markup-data%29" class="tocviewlink" data-pltdoc="x">Markup Representation</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._simple-tree-text-markup-construct%29" class="tocviewlink" data-pltdoc="x">Markup Construction</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._simple-tree-text-markup-text%29" class="tocviewlink" data-pltdoc="x">Rendering Markup to Text</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._simple-tree-text-markup-port%29" class="tocviewlink" data-pltdoc="x">Generating Markup From a Port</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Simple Tree Text Markup:<span class="mywbr"> &nbsp;</span> Simple Markup for Display as Text or in GUI</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._simple-tree-text-markup-data%29" class="tocsubseclink" data-pltdoc="x">Markup Representation</a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">markup?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._empty-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">empty-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._horizontal-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">horizontal-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._vertical-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vertical-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._srcloc-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">srcloc-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._framed-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">framed-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._image-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">image-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._record-dc-datum%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">record-<wbr></wbr>dc-<wbr></wbr>datum</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._number-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">number-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup-folder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">markup-<wbr></wbr>folder</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._transform-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transform-<wbr></wbr>markup</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._simple-tree-text-markup-construct%29" class="tocsubseclink" data-pltdoc="x">Markup Construction</a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._srcloc-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">srcloc-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._framed-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">framed-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._empty-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">empty-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._empty-line%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">empty-<wbr></wbr>line</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._number%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">number</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._horizontal%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">horizontal</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._vertical%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vertical</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._transform-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">transform-<wbr></wbr>markup</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._markup-transform-image-data%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">markup-<wbr></wbr>transform-<wbr></wbr>image-<wbr></wbr>data</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._simple-tree-text-markup-text%29" class="tocsubseclink" data-pltdoc="x">Rendering Markup to Text</a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Ftext..rkt%29._display-markup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">display-<wbr></wbr>markup</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Ftext..rkt%29._number-markup-~3estring%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">number-<wbr></wbr>markup-<wbr></wbr>&gt;string</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._simple-tree-text-markup-port%29" class="tocsubseclink" data-pltdoc="x">Generating Markup From a Port</a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._make-markup-output-port%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>markup-<wbr></wbr>output-<wbr></wbr>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._make-markup-output-port%2Funsafe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>markup-<wbr></wbr>output-<wbr></wbr>port/<span class="mywbr"> &nbsp;</span>unsafe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._srclocs-special~3c~25~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">srclocs-<wbr></wbr>special&lt;%&gt;</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._simple-tree-text-markup%2Fport..rkt%29._srclocs-special~3c~25~3e%29._get-srclocs%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">get-<wbr></wbr>srclocs</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;scribblings/simple-tree-text-markup/simple-tree-text-markup.scrbl&quot;)" x-source-pkg="simple-tree-text-markup-doc" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Simple_.Tree_.Text_.Markup__.Simple_.Markup_for_.Display_as_.Text_or_in_.G.U.I)"></a>Simple Tree Text Markup: Simple Markup for Display as Text or in GUI</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Mike Sperber</p></span></div><p>This is a tree-based combinator library for simple markup, mainly for
displaying messages in a REPL. It features horizontal and vertical
composition as well as framed markup.  Its main distinguishing feature
is its ability to embed source locations, which can be rendered as
links.</p><p>This package comes with separate modules for <span class="emph">inspecting</span> and
<span class="emph">constructing</span> markup -
<a href="#%28mod-path._simple-tree-text-markup%2Fdata%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/data</span></a> and
<a href="#%28mod-path._simple-tree-text-markup%2Fconstruct%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/construct</span></a>, respectively.
Markup can also be constructed through a custom output port,
supplied by <a href="#%28mod-path._simple-tree-text-markup%2Fport%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/port</span></a>.</p><p>There&rsquo;s also a module <a href="#%28mod-path._simple-tree-text-markup%2Ftext%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/text</span></a>
that renders markup to text.  Rendering markup to GUI is quite
context-specific.  Hence, the code for rendering to GUIs is
implemented with specific applications, such as DrRacket or the test
engine.</p><h3 x-source-module="(lib &quot;scribblings/simple-tree-text-markup/simple-tree-text-markup.scrbl&quot;)" x-source-pkg="simple-tree-text-markup-doc" x-part-tag="&quot;simple-tree-text-markup-data&quot;">1<tt>&nbsp;</tt><a name="(part._simple-tree-text-markup-data)"></a><a name="(mod-path._simple-tree-text-markup/data)"></a>Markup Representation</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._simple-tree-text-markup%2Fdata%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/data</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/simple-tree-text-markup-lib" title="Install this package using `raco pkg install simple-tree-text-markup-lib`"><span class="stt">simple-tree-text-markup-lib</span></a></span></td></tr></table></p><p>This module defines the representation for markup as a set of struct
definitions.  It should be required when inspecting markup, For
constructing markup, see
<a href="#%28mod-path._simple-tree-text-markup%2Fconstruct%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/construct</span></a>.</p><p>A markup object can be one of the following:</p><ul><li><p>a string</p></li><li><p>an <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._empty-markup%29%29" class="RktValLink" data-pltdoc="x">empty-markup</a></span></p></li><li><p>a <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._horizontal-markup%29%29" class="RktValLink" data-pltdoc="x">horizontal-markup</a></span></p></li><li><p>a <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._vertical-markup%29%29" class="RktValLink" data-pltdoc="x">vertical-markup</a></span></p></li><li><p>a <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._srcloc-markup%29%29" class="RktValLink" data-pltdoc="x">srcloc-markup</a></span></p></li><li><p>a <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._framed-markup%29%29" class="RktValLink" data-pltdoc="x">framed-markup</a></span></p></li><li><p>an <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._image-markup%29%29" class="RktValLink" data-pltdoc="x">image-markup</a></span></p></li><li><p>a <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._number-markup%29%29" class="RktValLink" data-pltdoc="x">number-markup</a></span></p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._markup~3f))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">markup?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">object</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">object</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">object</span> is a markup object, <span class="RktVal">#f</span> otherwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._empty-markup~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3aempty-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._empty-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._empty-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">empty-markup</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This is an empty markup object, which consumes no space.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._horizontal-markup-markups))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._horizontal-markup~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3ahorizontal-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._horizontal-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._horizontal-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">horizontal-markup</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">markups</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">markups</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This markup object contains several sub-markups, which will be
arranged horizontally when rendered.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._vertical-markup-markups))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._vertical-markup~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3avertical-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._vertical-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._vertical-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">vertical-markup</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">markups</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">markups</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This markup object contains several sub-markups, which will be
arranged vertically when rendered.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._srcloc-markup-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._srcloc-markup-srcloc))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._srcloc-markup~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3asrcloc-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._srcloc-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._srcloc-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">srcloc-markup</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">srcloc</span><span class="stt"> </span><span class="RktSym">markup</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">srcloc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._srcloc%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This markup object represents a link to a source location, represented
by <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._srcloc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc</a></span>, where the link visualization is represented by
<span class="RktSym">markup</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._framed-markup-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._framed-markup~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3aframed-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._framed-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._framed-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">framed-markup</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">markup</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This markup object puts a frame around <span class="RktSym">markup</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._image-markup-alt-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._image-markup-data))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._image-markup~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3aimage-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._image-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._image-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">image-markup</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">data</span><span class="stt"> </span><span class="RktSym">alt-markup</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">alt-markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This markup object represents an image.  The <span class="RktSym">data</span> contains the image data.
The format is not exactly specified, but a graphical renderer should accept
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=draw&amp;rel=bitmap_.html&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bitmap%</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=gui&amp;rel=snip_.html&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">snip%</a></span>, and <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._record-dc-datum%29%29" class="RktValLink" data-pltdoc="x">record-dc-datum</a></span> objects.</div></p><p>If rendering of <span class="RktSym">data</span> is not possible, <span class="RktSym">alt-markup</span> can be substituted.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._record-dc-datum-height))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._record-dc-datum-width))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._record-dc-datum-datum))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._record-dc-datum~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3arecord-dc-datum))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._record-dc-datum))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._record-dc-datum%29%29" class="RktValDef RktValLink" data-pltdoc="x">record-dc-datum</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">datum</span><span class="stt"> </span><span class="RktSym">width</span><span class="stt"> </span><span class="RktSym">height</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">datum</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._natural-number%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">natural-number/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">height</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._natural-number%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">natural-number/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This represents an image, containing the result the
<span class="RktSym">get-recorded-datum</span> from <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=draw&amp;rel=record-dc_.html&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">record-dc%</a></span>,
as well as the width and height of that image.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._simple-tree-text-markup/data..rkt)._number-markup-fraction-view))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._number-markup-inexact-prefix))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._number-markup-exact-prefix))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._number-markup-number))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._number-markup~3f))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._struct~3anumber-markup))"></a><a name="(def._((lib._simple-tree-text-markup/data..rkt)._number-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._number-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">number-markup</a></span></span></span></td><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span></td><td><span class="nobreak"><span class="RktSym">number</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">exact-prefix</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">inexact-prefix</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">fraction-view</span><span class="RktPn">))</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">number</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">exact-prefix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">always</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">when-necessary</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">inexact-prefix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">always</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">when-necessary</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">fraction-view</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mixed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">improper</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">decimal</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This represents a number to be rendered in a format that can be read back.</div></p><p>The <span class="RktSym">exact-prefix</span> argument specifies whether the representation
should carry a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#e</span><span class="hspace"></span></span> prefix: Always, never, or when necessary to
identify a representation that would otherwise be considered inexact.</p><p>Similarly for <span class="RktSym">inexact-prefix</span>.  Note however that <span class="RktVal">'</span><span class="RktVal">when-necessary</span>
is usually equivalent to <span class="RktVal">'</span><span class="RktVal">never</span>, as inexact numbers are always
printed with a decimal dot, which is sufficient to identify a number
representation as inexact.</p><p>The <span class="RktSym">fraction-view</span> field specifies how exact non-integer reals
- fractions - should be rendered: As a mixed fraction, an improper fraction,
or a decimal, possibly identifying periodic digits.  For <span class="RktVal">'</span><span class="RktVal">decimal</span>,
if it&rsquo;s not possible to render the number as a decimal exactly, a fraction
representation might be generated. For <span class="RktVal">'</span><span class="RktVal">mixed</span> an improper fraction
representation might be generated if a mixed representation could not be read
back.</p><p>If <span class="RktSym">fraction-view</span> is <span class="RktVal">#f</span>, this option comes from some
unspecified user preference.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._markup-folder))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup-folder%29%29" class="RktValDef RktValLink" data-pltdoc="x">markup-folder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">combine</span><span class="hspace">&nbsp;</span><span class="RktVar">identity</span><span class="hspace">&nbsp;</span><span class="RktVar">extractors</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">combine</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">identity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">extractors</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pair?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This creates a procedure that folds over a markup tree using a monoid:
That procedure maps every node of the markup tree to an element of the monoid, and
returns the result of combining those values.</div></p><p>The monoid itself is defined by <span class="RktVar">combine</span> (its binary operation)
and <span class="RktVar">identity</span> (its identity / neutral element).</p><p>The <span class="RktVar">extractors</span> list consists of pairs: Each pair
consists of a predicate on markup nodes (usually <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._empty-markup~3f%29%29" class="RktValLink" data-pltdoc="x">empty-markup?</a></span>
etc.) and a procedure to map a node, for which the predicate returns
a true value, to an element of the monoid.</p><p>The following example extracts a list of source locations from a markup tree:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">markup-srclocs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup-folder%29%29" class="RktValLink" data-pltdoc="x">markup-folder</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktRdr">,</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._srcloc-markup~3f%29%29" class="RktValLink" data-pltdoc="x">srcloc-markup?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">markup</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._srcloc-markup-srcloc%29%29" class="RktValLink" data-pltdoc="x">srcloc-markup-srcloc</a></span><span class="hspace">&nbsp;</span><span class="RktSym">markup</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/data..rkt)._transform-markup))"></a><span title="Provided from: simple-tree-text-markup/data | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._transform-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">transform-markup</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mappers</span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mappers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pair?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This procedure transforms markup by replacing nodes. The <span class="RktVar">mappers</span> argument
is a list of pairs.  Each pair consists of a predicate on markup nodes (usually
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._empty-markup~3f%29%29" class="RktValLink" data-pltdoc="x">empty-markup?</a></span> etc.) and a procedure that accepts
as argument the struct components of the corresponding node, where
the markup components have been recursively passed through <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._transform-markup%29%29" class="RktValLink" data-pltdoc="x">transform-markup</a></span>.
The node is replaced by the return value of the procedure.</div></p><p>The following example transforms each piece of image data in a markup tree:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">markup-transform-image-data</span><span class="hspace">&nbsp;</span><span class="RktSym">transform-image-data</span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._transform-markup%29%29" class="RktValLink" data-pltdoc="x">transform-markup</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktRdr">,</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._image-markup~3f%29%29" class="RktValLink" data-pltdoc="x">image-markup?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">data</span><span class="hspace">&nbsp;</span><span class="RktSym">alt-markup</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._image-markup%29%29" class="RktValLink" data-pltdoc="x">image-markup</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transform-image-data</span><span class="hspace">&nbsp;</span><span class="RktSym">data</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">alt-markup</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><h3 x-source-module="(lib &quot;scribblings/simple-tree-text-markup/simple-tree-text-markup.scrbl&quot;)" x-source-pkg="simple-tree-text-markup-doc" x-part-tag="&quot;simple-tree-text-markup-construct&quot;">2<tt>&nbsp;</tt><a name="(part._simple-tree-text-markup-construct)"></a><a name="(mod-path._simple-tree-text-markup/construct)"></a>Markup Construction</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._simple-tree-text-markup%2Fconstruct%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/construct</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/simple-tree-text-markup-lib" title="Install this package using `raco pkg install simple-tree-text-markup-lib`"><span class="stt">simple-tree-text-markup-lib</span></a></span></td></tr></table></p><p>While the struct definitions in
<a href="#%28mod-path._simple-tree-text-markup%2Fdata%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/data</span></a> can also be used for
constructing markup, the procedures exported here are somewhat more
convenient to use, and do a fair amount of normalization upon
constructions.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._srcloc-markup))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._srcloc-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">srcloc-markup</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">srcloc</span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">srcloc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._srcloc%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This constructs a markup object that will represent a link to a source
location, represented by <span class="RktVar">srcloc</span>, where the link visualization
is represented by <span class="RktVar">markup</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._framed-markup))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._framed-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">framed-markup</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This markup constructor puts a frame around <span class="RktVar">markup</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._empty-markup))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._empty-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">empty-markup</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This is the empty markup object.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._empty-line))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._empty-line%29%29" class="RktValDef RktValLink" data-pltdoc="x">empty-line</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This is a markup object representing an empty line, i.e. empty
vertical space.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._number))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._number%29%29" class="RktValDef RktValLink" data-pltdoc="x">number</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">number</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:exact-prefix</span><span class="hspace">&nbsp;</span><span class="RktVar">exact-prefix</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:inexact-prefix</span><span class="hspace">&nbsp;</span><span class="RktVar">inexact-prefix</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:fraction-view</span><span class="hspace">&nbsp;</span><span class="RktVar">fraction-view</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">number</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exact-prefix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">always</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">when-necessary</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">inexact-prefix</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">always</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">when-necessary</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">never</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fraction-view</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mixed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">improper</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">decimal</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">This constructs markup for a number to be rendered in a format that can be read back.</div></p><p>The <span class="RktVar">exact-prefix</span> argument specifies whether the representation
should carry a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#e</span><span class="hspace"></span></span> prefix: Always, never, or when necessary to
identify a representation that would otherwise be considered inexact.</p><p>Similarly for <span class="RktVar">inexact-prefix</span>.  Note however that <span class="RktVal">'</span><span class="RktVal">when-necessary</span>
is usually equivalent to <span class="RktVal">'</span><span class="RktVal">never</span>, as inexact numbers are always
printed with a decimal dot, which is sufficient to identify a number
representation as inexact.</p><p>The <span class="RktVar">fraction-view</span> field specifies how exact non-integer reals
- fractions - should be rendered: As a mixed fraction, an improper fraction,
or a decimal, possibly identifying periodic digits.  For <span class="RktVal">'</span><span class="RktVal">decimal</span>,
if it&rsquo;s not possible to render the number as a decimal exactly, a fraction
representation might be generated. For <span class="RktVal">'</span><span class="RktVal">mixed</span> an improper fraction
representation might be generated if a mixed representation could not be read
back.</p><p>If <span class="RktVar">fraction-view</span> is <span class="RktVal">#f</span>, this option comes from some
unspecified user preference.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._horizontal))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._horizontal%29%29" class="RktValDef RktValLink" data-pltdoc="x">horizontal</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This procedure arranges the <span class="RktVar">markup</span> arguments horizontally.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._vertical))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._vertical%29%29" class="RktValDef RktValLink" data-pltdoc="x">vertical</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This procedure arranges the <span class="RktVar">markup</span> arguments vertically.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._transform-markup))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><span class="RktSymDef RktSym">transform-markup</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mappers</span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mappers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pair?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This is the same as <a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._transform-markup%29%29" data-pltdoc="x"><span class="stt">transform-markup</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/construct..rkt)._markup-transform-image-data))"></a><span title="Provided from: simple-tree-text-markup/construct | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fconstruct..rkt%29._markup-transform-image-data%29%29" class="RktValDef RktValLink" data-pltdoc="x">markup-transform-image-data</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">transform-image-data</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">markup</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transform-image-data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This walks over a markup tree, leaving everything unchanged except
<span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._image-markup%29%29" class="RktValLink" data-pltdoc="x">image-markup</a></span> values.  For those, it applies
<span class="RktVar">transform-image-data</span> to its <span class="RktSym">data</span>field, replacing
it by the return value.</div></p><h3 x-source-module="(lib &quot;scribblings/simple-tree-text-markup/simple-tree-text-markup.scrbl&quot;)" x-source-pkg="simple-tree-text-markup-doc" x-part-tag="&quot;simple-tree-text-markup-text&quot;">3<tt>&nbsp;</tt><a name="(part._simple-tree-text-markup-text)"></a><a name="(mod-path._simple-tree-text-markup/text)"></a>Rendering Markup to Text</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._simple-tree-text-markup%2Ftext%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/text</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/simple-tree-text-markup-lib" title="Install this package using `raco pkg install simple-tree-text-markup-lib`"><span class="stt">simple-tree-text-markup-lib</span></a></span></td></tr></table></p><p>This module renders markup to text by printing to a port.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/text..rkt)._display-markup))"></a><span title="Provided from: simple-tree-text-markup/text | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Ftext..rkt%29._display-markup%29%29" class="RktValDef RktValLink" data-pltdoc="x">display-markup</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">output-port</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">output-port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._output-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-output-port%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-output-port</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Renders a textual version of <span class="RktVar">markup</span> to <span class="RktVar">output-port</span>.
It uses Unicode lines and corners to display framed markup.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/text..rkt)._number-markup-~3estring))"></a><span title="Provided from: simple-tree-text-markup/text | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Ftext..rkt%29._number-markup-~3estring%29%29" class="RktValDef RktValLink" data-pltdoc="x">number-markup-&gt;string</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">number</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:exact-prefix</span><span class="hspace">&nbsp;</span><span class="RktVar">exact-prefix</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:inexact-prefix</span><span class="hspace">&nbsp;</span><span class="RktVar">inexact-prefix</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:fraction-view</span><span class="hspace">&nbsp;</span><span class="RktVar">fraction-view</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">number</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exact-prefix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">always</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">when-necessary</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">inexact-prefix</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">always</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">never</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">when-necessary</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">never</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fraction-view</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mixed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">improper</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">decimal</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">This is a convenience function that generates a textual number representation according to
the specification of <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._number-markup%29%29" class="RktValLink" data-pltdoc="x">number-markup</a></span>.</div></p><h3 x-source-module="(lib &quot;scribblings/simple-tree-text-markup/simple-tree-text-markup.scrbl&quot;)" x-source-pkg="simple-tree-text-markup-doc" x-part-tag="&quot;simple-tree-text-markup-port&quot;">4<tt>&nbsp;</tt><a name="(part._simple-tree-text-markup-port)"></a><a name="(mod-path._simple-tree-text-markup/port)"></a>Generating Markup From a Port</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._simple-tree-text-markup%2Fport%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">simple-tree-text-markup/port</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/simple-tree-text-markup-lib" title="Install this package using `raco pkg install simple-tree-text-markup-lib`"><span class="stt">simple-tree-text-markup-lib</span></a></span></td></tr></table></p><p>This modules define procedures for creating output ports whose output
is captured as a markup object.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/port..rkt)._make-markup-output-port))"></a><span title="Provided from: simple-tree-text-markup/port | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._make-markup-output-port%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-markup-output-port</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">special-&gt;markup</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._output-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">output-port?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">special-&gt;markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This procedure returns an output port and a thunk.</div></p><p>The thunk will return whatever has been output to the port as a markup object.</p><p>The port also supports <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Byte_and_String_Output.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write-special%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">write-special</a></span>: Any object output through it will be converted into
markup by the <span class="RktVar">special-&gt;markup</span> procedure.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._simple-tree-text-markup/port..rkt)._make-markup-output-port/unsafe))"></a><span title="Provided from: simple-tree-text-markup/port | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._make-markup-output-port%2Funsafe%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-markup-output-port/unsafe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">special-&gt;markup</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._output-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">output-port?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">special-&gt;markup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fdata..rkt%29._markup~3f%29%29" class="RktValLink" data-pltdoc="x">markup?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Thread-unsafe version of <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._make-markup-output-port%29%29" class="RktValLink" data-pltdoc="x">make-markup-output-port</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>interface</p></div></div><p class="RForeground"><a name="(def._((lib._simple-tree-text-markup/port..rkt)._srclocs-special~3c~25~3e))"></a><span title="Provided from: simple-tree-text-markup/port | Package: simple-tree-text-markup-lib"><span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._srclocs-special~3c~25~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">srclocs-special&lt;%&gt;</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=objectutils.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._interface%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">interface?</a></span></p></blockquote></td></tr></table></div><div class="SIntrapara">This interface is for implementation by objects written via
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Byte_and_String_Output.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write-special%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">write-special</a></span> to a port created by the procedures above: It marks
objects (typically snips) that represent a sequence of source locations, for
which the markup output should render a link.</div><div class="SIntrapara">Note that, in order to make use of this, you will need to
call <span class="RktSym"><a href="#%28def._%28%28lib._simple-tree-text-markup%2Fport..rkt%29._make-markup-output-port%29%29" class="RktValLink" data-pltdoc="x">make-markup-output-port</a></span> with a <span class="RktSym">special-&gt;markup</span> argument
that looks for specials implementing this interface and converts them to
markup appropriately.</div><div class="SIntrapara"><blockquote class="leftindent"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-srclocs-special</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._simple-tree-text-markup/port..rkt)._srclocs-special~3c~25~3e)._get-srclocs))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._simple-tree-text-markup%2Fport..rkt%29._srclocs-special~3c~25~3e%29._get-srclocs%29%29" class="RktValDef RktValLink" data-pltdoc="x">get-srclocs</a></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._srcloc%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"></div><div class="SIntrapara">Returns the source locations represented by the special object,
most relevant first in the list.</div><div class="SIntrapara"></div></p></blockquote></div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/simple-tree-text-markup/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:06:35 GMT -->
</html>