<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/koyo/continuations.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:27:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>6&nbsp;Continuations</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x"><span class="stt">koyo</span>:<span class="mywbr"> &nbsp;</span> Web Development Toolkit</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="getting-started.html" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="architecture.html" class="tocviewlink" data-pltdoc="x">Architecture</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="cors.html" class="tocviewlink" data-pltdoc="x">CORS</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="config.html" class="tocviewlink" data-pltdoc="x">Configuration</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="console.html" class="tocviewlink" data-pltdoc="x">Console</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Continuations</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="csrf.html" class="tocviewlink" data-pltdoc="x">CSRF</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="database.html" class="tocviewlink" data-pltdoc="x">Database</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="dispatch.html" class="tocviewlink" data-pltdoc="x">Dispatch</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="errors.html" class="tocviewlink" data-pltdoc="x">Errors</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="flash.html" class="tocviewlink" data-pltdoc="x">Flash</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="haml.html" class="tocviewlink" data-pltdoc="x">HAML</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="http.html" class="tocviewlink" data-pltdoc="x">HTTP</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="job.html" class="tocviewlink" data-pltdoc="x">Job Queues</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="json.html" class="tocviewlink" data-pltdoc="x">JSON</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="l10n.html" class="tocviewlink" data-pltdoc="x">Localization</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="logging.html" class="tocviewlink" data-pltdoc="x">Logging</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="mail.html" class="tocviewlink" data-pltdoc="x">Mail</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="mime.html" class="tocviewlink" data-pltdoc="x">MIME</a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="password-hashing.html" class="tocviewlink" data-pltdoc="x">Password Hashing</a></td></tr><tr><td align="right">21&nbsp;</td><td><a href="preload.html" class="tocviewlink" data-pltdoc="x">Preloading</a></td></tr><tr><td align="right">22&nbsp;</td><td><a href="profiler.html" class="tocviewlink" data-pltdoc="x">Profiler</a></td></tr><tr><td align="right">23&nbsp;</td><td><a href="random.html" class="tocviewlink" data-pltdoc="x">Random</a></td></tr><tr><td align="right">24&nbsp;</td><td><a href="scheduling.html" class="tocviewlink" data-pltdoc="x">Scheduling</a></td></tr><tr><td align="right">25&nbsp;</td><td><a href="server.html" class="tocviewlink" data-pltdoc="x">Server</a></td></tr><tr><td align="right">26&nbsp;</td><td><a href="session.html" class="tocviewlink" data-pltdoc="x">Sessions</a></td></tr><tr><td align="right">27&nbsp;</td><td><a href="static.html" class="tocviewlink" data-pltdoc="x">Static</a></td></tr><tr><td align="right">28&nbsp;</td><td><a href="testing.html" class="tocviewlink" data-pltdoc="x">Testing</a></td></tr><tr><td align="right">29&nbsp;</td><td><a href="url.html" class="tocviewlink" data-pltdoc="x">URLs</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-key-cookie-path%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>continuation-<wbr></wbr>key-<wbr></wbr>cookie-<wbr></wbr>path</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-key-cookie-secure~3f%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>continuation-<wbr></wbr>key-<wbr></wbr>cookie-<wbr></wbr>secure?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-mismatch-handler%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>continuation-<wbr></wbr>mismatch-<wbr></wbr>handler</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-wrapper%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>continuation-<wbr></wbr>wrapper</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._wrap-protect-continuations%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">wrap-<wbr></wbr>protect-<wbr></wbr>continuations</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._send%2Fsuspend%2Fprotect%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">send/<span class="mywbr"> &nbsp;</span>suspend/<span class="mywbr"> &nbsp;</span>protect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._send%2Fforward%2Fprotect%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">send/<span class="mywbr"> &nbsp;</span>forward/<span class="mywbr"> &nbsp;</span>protect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._send%2Fsuspend%2Fdispatch%2Fprotect%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">send/<span class="mywbr"> &nbsp;</span>suspend/<span class="mywbr"> &nbsp;</span>dispatch/<span class="mywbr"> &nbsp;</span>protect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._redirect%2Fget%2Fprotect%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redirect/<span class="mywbr"> &nbsp;</span>get/<span class="mywbr"> &nbsp;</span>protect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._redirect%2Fget%2Fforget%2Fprotect%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redirect/<span class="mywbr"> &nbsp;</span>get/<span class="mywbr"> &nbsp;</span>forget/<span class="mywbr"> &nbsp;</span>protect</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="console.html" title="backward to &quot;5 Console&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;koyo: Web Development Toolkit&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="csrf.html" title="forward to &quot;7 CSRF&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;koyo/scribblings/koyo.scrbl&quot;)" x-source-pkg="koyo-doc" x-part-tag="&quot;continuations&quot;">6<tt>&nbsp;</tt><a name="(part._continuations)"></a><a name="(mod-path._koyo/continuation)"></a>Continuations</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">koyo/continuation</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/koyo-lib" title="Install this package using `raco pkg install koyo-lib`"><span class="stt">koyo-lib</span></a></span></td></tr></table></p><p>Continuations in a web context are super valuable when it comes to
quickly prototyping certain functionality.  However, because it stores
continuation ids within URLs, the web server is succeptible to session
hijacking.  This is <span style="font-weight: bold">by design</span>.  For some use cases it makes
sense to allow users to share their URLs and have someone else be able
to pick up from where they left off.  In most web applications,
though, that&rsquo;s not what you want.</p><p>Let me illustrate the issue with an example.  Say you have an
e-commerce website and you implement your "add to cart" buttons using
continuations.  If you don&rsquo;t protect your continuations, then a user
could copy the URL for that button and give it to someone else; that
other person would then inherit all of the state associated with that
continuation.  You might think that your users are unlikely to do
that, but there are cases, such as via <span class="stt">Referer</span> headers, in which
browsers can leak information about URLs in a web application.</p><p>To guard against the aforementioned issues, this module provides
variants of the web server&rsquo;s continuation-related functions that
protect themselves against being hijacked.  They do this by
associating a random session cookie with each continuation that is
captured.  When a continuation is called and the visitor&rsquo;s session
does not contain said cookie, <span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-mismatch-handler%29%29" class="RktValLink" data-pltdoc="x">current-continuation-mismatch-handler</a></span> is run instead of the target
continuation function.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._current-continuation-key-cookie-path))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-key-cookie-path%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-key-cookie-path</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-key-cookie-path%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-key-cookie-path</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">"/"</span></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._current-continuation-key-cookie-secure~3f))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-key-cookie-secure~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-key-cookie-secure?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-key-cookie-secure~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-key-cookie-secure?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">secure?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secure?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#t</span></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">These parameters control the <span class="emph">Path=</span> attribute and the
<span class="emph">Secure=</span> attribute, respectively, of the continuation key
cookie.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._current-continuation-mismatch-handler))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-mismatch-handler%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-mismatch-handler</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Fresponse-structs..rkt%2529._response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">response?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-mismatch-handler%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-mismatch-handler</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">handler</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">handler</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Fresponse-structs..rkt%2529._response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">response?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This parameter holds the handler that is run whenever a continuation
is called with an invalid continuation key in the request.  The
default implementation short-circuits the request and redirects the
user to the base path for that continuation, skipping its handler.</div></p><p>If you install a custom mismatch handler, you must avoid modifying
the user session within it.  The session that will get modified is
the session of the original user, not of the "attacker", which is
probably not what you want.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._current-continuation-wrapper))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-wrapper%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-wrapper</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Fresponse-structs..rkt%2529._response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">response?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Fresponse-structs..rkt%2529._response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">response?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._current-continuation-wrapper%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-continuation-wrapper</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">wrapper</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">wrapper</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Fresponse-structs..rkt%2529._response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">response?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Fresponse-structs..rkt%2529._response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">response?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Since continuations are executed outside of the standard request -
response lifecycle, this means that any middleware you set up on
your dispatchers will not wrap your continuation handlers.  To get
around this, you have to register your middleware stack with this
parameter.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._wrap-protect-continuations))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._wrap-protect-continuations%29%29" class="RktValDef RktValLink" data-pltdoc="x">wrap-protect-continuations</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">handler</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Fresponse-structs..rkt%2529._response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">response?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">handler</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This function sets up the continuation key and updates all responses
that pass through it to include the continuation key cookie.</div></p><p>Without this, all protected continuations will fail out so don&rsquo;t
forget to add it to your middleware stack.</p><p>Middleware that themselves wrap <span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._wrap-protect-continuations%29%29" class="RktValLink" data-pltdoc="x">wrap-protect-continuations</a></span>
will wrap the mismatch handler.  This means you have to be careful
not to wrap the middleware inside other middleware that modify the
user session.  Nor should your mismatch handler modify the session,
because the session it modifies will be the one of the original
user, not the "attacker."</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._send/suspend/protect))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._send%2Fsuspend%2Fprotect%29%29" class="RktValDef RktValLink" data-pltdoc="x">send/suspend/protect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=servlet.html%23%2528def._%2528%2528lib._web-server%252Fservlet%252Fservlet-structs..rkt%2529._can-be-response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">can-be-response?</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._send/forward/protect))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._send%2Fforward%2Fprotect%29%29" class="RktValDef RktValLink" data-pltdoc="x">send/forward/protect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=servlet.html%23%2528def._%2528%2528lib._web-server%252Fservlet%252Fservlet-structs..rkt%2529._can-be-response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">can-be-response?</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._send/suspend/dispatch/protect))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._send%2Fsuspend%2Fdispatch%2Fprotect%29%29" class="RktValDef RktValLink" data-pltdoc="x">send/suspend/dispatch/protect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=servlet.html%23%2528def._%2528%2528lib._web-server%252Fservlet%252Fservlet-structs..rkt%2529._can-be-response%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">can-be-response?</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._redirect/get/protect))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._redirect%2Fget%2Fprotect%29%29" class="RktValDef RktValLink" data-pltdoc="x">redirect/get/protect</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._header%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._koyo/continuation..rkt)._redirect/get/forget/protect))"></a><span title="Provided from: koyo/continuation | Package: koyo-lib"><span class="RktSym"><a href="#%28def._%28%28lib._koyo%2Fcontinuation..rkt%29._redirect%2Fget%2Fforget%2Fprotect%29%29" class="RktValDef RktValLink" data-pltdoc="x">redirect/get/forget/protect</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._request%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=http.html%23%2528def._%2528%2528lib._web-server%252Fhttp%252Frequest-structs..rkt%2529._header%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Protected variants of the continuation-related functions in
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server&amp;rel=servlet.html%23%2528part._web%2529&amp;version=8.6" class="Sq" data-pltdoc="x">Web Interaction</a>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="console.html" title="backward to &quot;5 Console&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;koyo: Web Development Toolkit&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="csrf.html" title="forward to &quot;7 CSRF&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/koyo/continuations.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:27:21 GMT -->
</html>