<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/cover/basics.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:14:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1&nbsp;Basic Usage of Cover</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Cover:<span class="mywbr"> &nbsp;</span> A test coverage tool</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Basic Usage of Cover</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="api.html" class="tocviewlink" data-pltdoc="x">Racket API</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="plugin.html" class="tocviewlink" data-pltdoc="x">Creating Custom Output Formats</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Basic Usage of Cover</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="#%28part._.Caveats__.Known_.Bugs__and_.Odd_.Behavior%29" class="tocviewlink" data-pltdoc="x">Caveats, Known Bugs, and Odd Behavior</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Caveats__.Known_.Bugs__and_.Odd_.Behavior%29" class="tocsubseclink" data-pltdoc="x">Caveats, Known Bugs, and Odd Behavior</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Cover: A test coverage tool&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Cover: A test coverage tool&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="api.html" title="forward to &quot;2 Racket API&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;cover/scribblings/cover.scrbl&quot;)" x-source-pkg="cover-doc" x-part-tag="&quot;basics&quot;">1<tt>&nbsp;</tt><a name="(part._basics)"></a>Basic Usage of Cover</h3><p>The cover library adds the command <span class="stt">raco cover</span> command to run test coverage. For
every file it is given it will execute that file and its <span class="RktSym">test</span> submodule (it if
exists). It will then dump the coverage information into a directory, by default
<span class="stt">"coverage"</span>. By default the coverage information will be generated as html.</p><p>The <span class="stt">raco cover</span> command accepts the following flags:</p><ul><li><p><div class="SIntrapara"><span class="nobreak"><span class="stt">-f</span></span> or <span class="nobreak"><span class="stt">--format</span></span>
&#8212;<wbr></wbr> Sets the coverage output type. Can be included more than once.
This flag defaults to html. Valid formats are:
</div><div class="SIntrapara"><ul><li><p>html: Generates one html file per tested file.</p></li></ul></div><div class="SIntrapara">Other packages may install new formats. See <a href="plugin.html" data-pltdoc="x">Creating Custom Output Formats</a></div></p></li><li><p><span class="nobreak"><span class="stt">-b</span></span> or <span class="nobreak"><span class="stt">--exclude-pkg-basics</span></span>
&#8212;<wbr></wbr> Equivalent to <span class="stt">-n tests -n info.rkt -n scribblings</span></p></li><li><p><span class="nobreak"><span class="stt">-d</span></span> or <span class="nobreak"><span class="stt">--directory</span></span>
&#8212;<wbr></wbr> Specifies the directory to output coverage information to.
defaults to <span class="stt">"coverage"</span>.</p></li><li><p><span class="nobreak"><span class="stt">-n</span></span> or <span class="nobreak"><span class="stt">--no-output-for-path</span></span>
&#8212;<wbr></wbr> excludes any directories by name from the coverage report.
Files in these directories are still run, but are not annotated and omitted from the coverage
report. This flag may appear any number of times.</p></li><li><p><span class="nobreak"><span class="stt">-i</span></span> or <span class="nobreak"><span class="stt">--include-extensions</span></span>
&#8212;<wbr></wbr> include the given regular expression in the list of file patterns
    used when expanding directories, searching for files to cover.</p></li><li><p><span class="nobreak"><span class="stt">-v</span></span> or <span class="nobreak"><span class="stt">--verbose</span></span>
&#8212;<wbr></wbr> enable verbose logging</p></li><li><p><span class="nobreak"><span class="stt">-s</span></span> or <span class="nobreak"><span class="stt">--submodule</span></span>
&#8212;<wbr></wbr> run the given submodule instead of the <span class="RktVar">test</span> submodule. Can be
included more than once.</p></li><li><p><span class="nobreak"><span class="stt">-e</span></span> or <span class="nobreak"><span class="stt">--irrelevant-submodules</span></span>
&#8212;<wbr></wbr> Consider the given submodules irrelevant when generating coverage. If not
provided defaults to all submodules. Can be included more than once.</p></li><li><p><span class="nobreak"><span class="stt">-c</span></span> or <span class="nobreak"><span class="stt">--collection</span></span>
&#8212;<wbr></wbr> Interprets the arguments as collections whose content should be
tested (in the same way as directory content).</p></li><li><p><span class="nobreak"><span class="stt">-p</span></span> or <span class="nobreak"><span class="stt">--package</span></span>
&#8212;<wbr></wbr> Interprets all arguments as packages whose contents should be tested
(in the same way as directory content). All package scopes are searched
for the first, most specific
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=pkg&amp;rel=Package_Concepts.html%23%2528tech._package._scope%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">package scope</span></a>.</p></li><li><p><span class="nobreak"><span class="stt">-m</span></span> or <span class="nobreak"><span class="stt">--modules</span></span>
&#8212;<wbr></wbr> Interpret arguments as modules. This ignores arguments unless
they are files with the extension <span class="stt">".rkt"</span>, or <span class="stt">".scrbl"</span>.</p></li><li><p><span class="nobreak"><span class="stt">-l</span></span> or <span class="nobreak"><span class="stt">--lib</span></span>
&#8212;<wbr></wbr> Interpret arguments as libraries.</p></li><li><p><span class="nobreak"><span class="stt">--&ndash;suppress-log-execution</span></span>
&#8212;<wbr></wbr> Stop cover from executing all logging statements in the program
under coverage.</p></li></ul><p>In addition <span class="stt">raco cover</span> supports the <span class="RktVar">test-omit-paths</span> and
<span class="RktVar">test-command-line-arguments</span> <span class="stt">"info.rkt"</span> options like <span class="stt">raco test</span>.  In
addition cover supports <span class="RktVar">cover-omit-paths</span>, which is identical to <span class="RktVar">test-omit-paths</span>,
but is specific to cover. The same holds for <span class="RktVar">test-include-paths</span> and
<span class="RktVar">cover-include-paths</span>.</p><h4 x-source-module="(lib &quot;cover/scribblings/cover.scrbl&quot;)" x-source-pkg="cover-doc" x-part-tag="&quot;Caveats__Known_Bugs__and_Odd_Behavior&quot;">1.1<tt>&nbsp;</tt><a name="(part._.Caveats__.Known_.Bugs__and_.Odd_.Behavior)"></a>Caveats, Known Bugs, and Odd Behavior</h4><p>Cover is capable of covering code at <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval-model.html%23%2528tech._phase%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">phases</span></a> above 0. However cover runs post-expansion, which
means it can only cover the body of macros that are used outside of their defining module.</p><p>Sometimes, if a macro does not propagate the <span class="RktSym">syntax-location</span> for some syntax object in
a way cover understands, the coverage information will appear to be incorrect.</p><p>If a test submodule is not constructed with a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._module%252B%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">module+</a></span> or a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._module%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">module*</a></span> with
<span class="RktVal">#f</span> for the language the enclosing module will not be run.</p><p>Dynamically loading a covered module with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=logging.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-logger%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-logger</a></span> set to a logger who&rsquo;s (transitive)
parent is not the global logger may cause Cover to hang.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Cover: A test coverage tool&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Cover: A test coverage tool&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="api.html" title="forward to &quot;2 Racket API&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/cover/basics.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:14:33 GMT -->
</html>