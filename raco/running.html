<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/raco/running.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:10:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>6.1&nbsp;Running raco setup</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco</span>:<span class="mywbr"> &nbsp;</span> Racket Command-<wbr></wbr>Line Tools</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="make.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco make</span>:<span class="mywbr"> &nbsp;</span> Compiling Source to Bytecode</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="exe.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco exe</span>:<span class="mywbr"> &nbsp;</span> Creating Stand-<wbr></wbr>Alone Executables</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="exe-dist.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco distribute</span>:<span class="mywbr"> &nbsp;</span> Sharing Stand-<wbr></wbr>Alone Executables</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="planet.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco planet</span>:<span class="mywbr"> &nbsp;</span> Automatic Package Distribution</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="pkg.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco pkg</span>:<span class="mywbr"> &nbsp;</span> Package Management</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="setup.html" class="tocviewselflink" data-pltdoc="x"><span class="stt">raco setup</span>:<span class="mywbr"> &nbsp;</span> Installation Management</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="decompile.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco decompile</span>:<span class="mywbr"> &nbsp;</span> Decompiling Bytecode</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="demod.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco demod</span>:<span class="mywbr"> &nbsp;</span> Demodularizing Programs</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="link.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco link</span>:<span class="mywbr"> &nbsp;</span> Library Collection Links</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="plt.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco pack</span>:<span class="mywbr"> &nbsp;</span> Packing Library Collections</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="unpack.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco unpack</span>:<span class="mywbr"> &nbsp;</span> Unpacking Library Collections</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="ctool.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco ctool</span>:<span class="mywbr"> &nbsp;</span> Working with C Code</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="test.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco test</span>:<span class="mywbr"> &nbsp;</span> Run tests</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="docs.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco docs</span>:<span class="mywbr"> &nbsp;</span> Documentation Search</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="expand.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco expand</span>:<span class="mywbr"> &nbsp;</span> Macro Expansion</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="read.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco read</span>:<span class="mywbr"> &nbsp;</span> Reading and Pretty-<wbr></wbr>Printing</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="scribble.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco scribble</span>:<span class="mywbr"> &nbsp;</span> Building Documentation</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="command.html" class="tocviewlink" data-pltdoc="x">Adding a <span class="stt">raco</span> Command</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="config-file.html" class="tocviewlink" data-pltdoc="x">Installation Configuration and Search Paths</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>6&nbsp;</td><td><a href="setup.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco setup</span>:<span class="mywbr"> &nbsp;</span> Installation Management</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">6.1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Running <span class="stt">raco setup</span></a></td></tr><tr><td align="right">6.2&nbsp;</td><td><a href="raco-setup-A.html" class="tocviewlink" data-pltdoc="x">Installing <span class="stt">".plt"</span> Archives</a></td></tr><tr><td align="right">6.3&nbsp;</td><td><a href="setup-info.html" class="tocviewlink" data-pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a></td></tr><tr><td align="right">6.4&nbsp;</td><td><a href="info_rkt.html" class="tocviewlink" data-pltdoc="x"><span class="stt">"info.rkt"</span> File Format</a></td></tr><tr><td align="right">6.5&nbsp;</td><td><a href="setup-check-deps.html" class="tocviewlink" data-pltdoc="x">Package Dependency Checking</a></td></tr><tr><td align="right">6.6&nbsp;</td><td><a href="setup-plt-plt.html" class="tocviewlink" data-pltdoc="x">API for Setup</a></td></tr><tr><td align="right">6.7&nbsp;</td><td><a href="_plt-archives.html" class="tocviewlink" data-pltdoc="x">API for Installing <span class="stt">".plt"</span> Archives</a></td></tr><tr><td align="right">6.8&nbsp;</td><td><a href="dirs.html" class="tocviewlink" data-pltdoc="x">API for Finding Installation Directories</a></td></tr><tr><td align="right">6.9&nbsp;</td><td><a href="getinfo.html" class="tocviewlink" data-pltdoc="x">API for Reading <span class="stt">"info.rkt"</span> Files</a></td></tr><tr><td align="right">6.10&nbsp;</td><td><a href="relative-paths.html" class="tocviewlink" data-pltdoc="x">API for Relative Paths</a></td></tr><tr><td align="right">6.11&nbsp;</td><td><a href="collection-names.html" class="tocviewlink" data-pltdoc="x">API for Collection Names</a></td></tr><tr><td align="right">6.12&nbsp;</td><td><a href="collection-search.html" class="tocviewlink" data-pltdoc="x">API for Collection Searches</a></td></tr><tr><td align="right">6.13&nbsp;</td><td><a href="matching-platform.html" class="tocviewlink" data-pltdoc="x">API for Platform Specifications</a></td></tr><tr><td align="right">6.14&nbsp;</td><td><a href="cross-system.html" class="tocviewlink" data-pltdoc="x">API for Cross-<wbr></wbr>Platform Configuration</a></td></tr><tr><td align="right">6.15&nbsp;</td><td><a href="xref.html" class="tocviewlink" data-pltdoc="x">API for Cross-<wbr></wbr>References for Installed Manuals</a></td></tr><tr><td align="right">6.16&nbsp;</td><td><a href="materialize-user-docs.html" class="tocviewlink" data-pltdoc="x">API for Materializing User-<wbr></wbr>Specific Documentation</a></td></tr><tr><td align="right">6.17&nbsp;</td><td><a href="layered-install.html" class="tocviewlink" data-pltdoc="x">Layered Installations</a></td></tr><tr><td align="right">6.18&nbsp;</td><td><a href="tethered-install.html" class="tocviewlink" data-pltdoc="x">Tethered Installations</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="setup.html" title="backward to &quot;6 raco setup: Installation Management&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="setup.html" title="up to &quot;6 raco setup: Installation Management&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="raco-setup-A.html" title="forward to &quot;6.2 Installing &quot;.plt&quot; Archives&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;scribblings/raco/raco.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;running&quot;">6.1<tt>&nbsp;</tt><a name="(part._running)"></a>Running <span class="stt">raco setup</span></h4><p>With no command-line arguments, <span class="stt">raco setup</span> finds all of the
current collections&#8212;<wbr></wbr>see <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=collects.html&amp;version=8.6" class="Sq" data-pltdoc="x">Libraries and Collections</a>&#8212;<wbr></wbr>and
compiles libraries in each collection.  (Directories that are named
<span class="stt">".git"</span> or <span class="stt">".svn"</span> are not treated as collections.)</p><p>To restrict <span class="stt">raco setup</span> to a set of collections, provide the
collection names as arguments. For example, <span class="stt">raco setup
scribblings/raco</span> would only compile and render the documentation for
<span class="stt">raco</span>, which is implemented in a <span class="stt">"scribblings/raco"</span>
collection.</p><p>An optional <span class="stt">"info.rkt"</span> within the collection can indicate
specifically how the collection&rsquo;s files are to be compiled and other
actions to take in setting up a collection, such as creating
executables or building documentation. See <a href="setup-info.html" data-pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a> for
more information.</p><p>The <span class="stt">raco setup</span> command accepts the following command-line
flags:</p><ul><li><p><div class="SIntrapara">Constraining to specified collections or <span class="planetName">PLaneT</span> packages:
</div><div class="SIntrapara"><ul><li><p><span class="nobreak"><span class="stt">--only</span></span> &#8212;<wbr></wbr> restrict setup to specified collections and
<span class="planetName">PLaneT</span> packages, even if none are specified. This mode is the
default if any collection is specified as a command-line argument
or through the <span class="nobreak"><span class="stt">-l</span></span>, <span class="nobreak"><span class="stt">--pkgs</span></span>, or <span class="nobreak"><span class="stt">-P</span></span> flag.</p></li><li><p><span class="nobreak"><span class="stt">-l</span></span> <span class="sroman">&#8249;<span style="font-style: italic">collection</span>&#8250;</span> <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> &#8212;<wbr></wbr> constrain setup
actions to the specified <span class="sroman">&#8249;<span style="font-style: italic">collection</span>&#8250;</span>s (i.e., the same as
providing <span class="sroman">&#8249;<span style="font-style: italic">collections</span>&#8250;</span>s without a flag, but with no
possibility that a <span class="sroman">&#8249;<span style="font-style: italic">collection</span>&#8250;</span> is interpreted as a flag).</p></li><li><p><span class="nobreak"><span class="stt">--pkgs</span></span> <span class="sroman">&#8249;<span style="font-style: italic">pkg</span>&#8250;</span> <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> &#8212;<wbr></wbr> constrain setup
actions to collections that are within (or partially within) the
named <span class="sroman">&#8249;<span style="font-style: italic">pkg</span>&#8250;</span>s.</p></li><li><p><span class="nobreak"><span class="stt">-P</span></span> <span class="sroman">&#8249;<span style="font-style: italic">owner</span>&#8250;</span> <span class="sroman">&#8249;<span style="font-style: italic">package-name</span>&#8250;</span> <span class="sroman">&#8249;<span style="font-style: italic">maj</span>&#8250;</span>
<span class="sroman">&#8249;<span style="font-style: italic">min</span>&#8250;</span> &#8212;<wbr></wbr> constrain setup actions to the specified <span class="planetName">PLaneT</span>
package, in addition to any other specified <span class="planetName">PLaneT</span> packages or
collections.</p></li><li><p><span class="nobreak"><span class="stt">--doc-index</span></span> &#8212;<wbr></wbr> build collections that implement
documentation indexes (when documentation building is enabled), in
addition to specified collections.</p></li><li><p><span class="nobreak"><span class="stt">--tidy</span></span> &#8212;<wbr></wbr> remove metadata cache information and
documentation for non-existent collections or documentation to
clean up after removal, even when setup actions are otherwise
confined to specified collections. Although tidying is not confined
to specified collections, it can be constrained with <span class="nobreak"><span class="stt">--avoid-main</span></span>
or <span class="nobreak"><span class="stt">--no-user</span></span>.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Constraining to specific tasks:
</div><div class="SIntrapara"><ul><li><p><span class="nobreak"><span class="stt">--clean</span></span> or <span class="nobreak"><span class="stt">-c</span></span> &#8212;<wbr></wbr> delete existing <span class="stt">".zo"</span>
files, thus ensuring a clean build from the source files. The exact
set of deleted files can be controlled by <span class="stt">"info.rkt"</span>; see
<a href="setup-info.html#%28elem._clean%29" data-pltdoc="x"><span class="RktSym">clean</span></a> for more information. Unless
<span class="nobreak"><span class="stt">--no-info-domain</span></span> or <span class="nobreak"><span class="stt">-d</span></span> is also specified, the <span class="stt">"info.rkt"</span>
cache is cleared. Unless <span class="nobreak"><span class="stt">--no-docs</span></span> or <span class="nobreak"><span class="stt">-D</span></span> is also
specified, the documentation-index database is reset.</p></li><li><p><span class="nobreak"><span class="stt">--fast-clean</span></span> &#8212;<wbr></wbr> like <span class="nobreak"><span class="stt">--clean</span></span>, but
without forcing a bootstrap of <span class="stt">raco setup</span> from source (which
means that <span class="nobreak"><span class="stt">--fast-clean</span></span> cannot clean corruption that affects
<span class="stt">raco setup</span> itself).</p></li><li><p><span class="nobreak"><span class="stt">--no-zo</span></span> or <span class="nobreak"><span class="stt">-n</span></span> &#8212;<wbr></wbr> refrain from compiling source
files to <span class="stt">".zo"</span> files.</p></li><li><p><span class="nobreak"><span class="stt">--trust-zos</span></span> &#8212;<wbr></wbr> fix timestamps on <span class="stt">".zo"</span> files on
the assumption that they are already up-to-date (unless the
<span class="stt">PLT_COMPILED_FILE_CHECK</span> environment variable is set to
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">exists</span><span class="hspace"></span></span>, in which case timestamps are ignored).</p></li><li><p><span class="nobreak"><span class="stt">--recompile-only</span></span> &#8212;<wbr></wbr> disallow recompilation of modules
from source, imposing the constraint that each <span class="stt">".zo"</span> file
is up-to-date, needs only a timestamp adjustment, or can be
recompiled from an existing <span class="stt">".zo"</span> in machine-independent
format (when compiling to a machine-dependent format).</p></li><li><p><span class="nobreak"><span class="stt">--sync-docs-only</span></span> &#8212;<wbr></wbr> synchronize or move documentation
into place to &ldquo;build&rdquo; it, but do not run or render documentation
sources.</p></li><li><p><span class="nobreak"><span class="stt">--no-launcher</span></span> or <span class="nobreak"><span class="stt">-x</span></span> &#8212;<wbr></wbr> refrain from creating
executables or installing <span class="stt">man</span> pages (as specified in
<span class="stt">"info.rkt"</span>; see <a href="setup-info.html" data-pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a>).</p></li><li><p><span class="nobreak"><span class="stt">--no-foreign-libs</span></span> or <span class="nobreak"><span class="stt">-F</span></span> &#8212;<wbr></wbr> refrain from installing foreign
libraries (as specified in <span class="stt">"info.rkt"</span>; see
<a href="setup-info.html" data-pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a>).</p></li><li><p><span class="nobreak"><span class="stt">--only-foreign-libs</span></span> &#8212;<wbr></wbr> disable actions other than
installing foreign libraries; equivalent to <span class="nobreak"><span class="stt">-nxiIdD</span></span>, except
that <span class="nobreak"><span class="stt">--only-foreign-libs</span></span> doesn&rsquo;t reject (redundant)
specification of those individual flags.</p></li><li><p><span class="nobreak"><span class="stt">--no-install</span></span> or <span class="nobreak"><span class="stt">-i</span></span> &#8212;<wbr></wbr> refrain from running
pre-install actions (as specified in <span class="stt">"info.rkt"</span> files; see
<a href="setup-info.html" data-pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a>).</p></li><li><p><span class="nobreak"><span class="stt">--no-post-install</span></span> or <span class="nobreak"><span class="stt">-I</span></span> &#8212;<wbr></wbr> refrain from running
post-install actions (as specified in <span class="stt">"info.rkt"</span> files; see
<a href="setup-info.html" data-pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a>).</p></li><li><p><span class="nobreak"><span class="stt">--no-info-domain</span></span> or <span class="nobreak"><span class="stt">-d</span></span> &#8212;<wbr></wbr> refrain from building
a cache of metadata information from <span class="stt">"info.rkt"</span>
files. This cache is needed by other tools. For example,
<span class="stt">raco</span> itself uses the cache to locate plug-in tools.</p></li><li><p><span class="nobreak"><span class="stt">--no-docs</span></span> or <span class="nobreak"><span class="stt">-D</span></span> &#8212;<wbr></wbr> refrain from building
documentation.</p></li><li><p><span class="nobreak"><span class="stt">--doc-pdf</span></span> <span class="sroman">&#8249;<span style="font-style: italic">dir</span>&#8250;</span> &#8212;<wbr></wbr> in addition to building HTML
documentation, render documentation to PDF and place files in
<span class="sroman">&#8249;<span style="font-style: italic">dir</span>&#8250;</span>.</p></li><li><p><span class="nobreak"><span class="stt">--no-pkg-deps</span></span> or <span class="nobreak"><span class="stt">-K</span></span> &#8212;<wbr></wbr> refrain from checking
whether dependencies among libraries are properly reflected by
package-level dependency declarations, whether modules are declared
by multiple packages, and whether package version dependencies are
satisfied. See <a href="setup-check-deps.html" data-pltdoc="x">Package Dependency Checking</a> for more information.</p></li><li><p><span class="nobreak"><span class="stt">--check-pkg-deps</span></span> &#8212;<wbr></wbr> checks package dependencies (unless
explicitly disabled) even when specific collections are provided to
<span class="stt">raco setup</span>, and even for packages that have no dependency
declarations. See <a href="setup-check-deps.html" data-pltdoc="x">Package Dependency Checking</a> for more information.</p></li><li><p><span class="nobreak"><span class="stt">--fix-pkg-deps</span></span> &#8212;<wbr></wbr> attempt to correct dependency
mismatches by adjusting package <span class="stt">"info.rkt"</span> files (which
makes sense only for packages that are installed as links). See
<a href="setup-check-deps.html" data-pltdoc="x">Package Dependency Checking</a> for more information.</p></li><li><p><span class="nobreak"><span class="stt">--unused-pkg-deps</span></span> &#8212;<wbr></wbr> attempt to report dependencies that
are declared but are unused. Beware that some package dependencies
may be intentionally unused (e.g., declared to force installation of
other packages as a convenience), and beware that package
dependencies may be reported as unused only because compilation of
relevant modules has been suppressed.  See
<a href="setup-check-deps.html" data-pltdoc="x">Package Dependency Checking</a> for more information.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Constraining user versus installation setup:
</div><div class="SIntrapara"><ul><li><p><span class="nobreak"><span class="stt">--no-user</span></span> or <span class="nobreak"><span class="stt">-U</span></span> &#8212;<wbr></wbr> refrain from any user-specific
(as opposed to installation-specific) setup actions.</p></li><li><p><span class="nobreak"><span class="stt">--no-planet</span></span> &#8212;<wbr></wbr> refrain from any setup actions for
<span class="planetName">PLaneT</span> actions; this flag is implied by <span class="nobreak"><span class="stt">--no-user</span></span>.</p></li><li><p><span class="nobreak"><span class="stt">--avoid-main</span></span> &#8212;<wbr></wbr> refrain from any setup actions that
affect the installation, as opposed to user-specific actions.</p></li><li><p><span class="nobreak"><span class="stt">--force-user-docs</span></span> &#8212;<wbr></wbr> when building documentation, create
a user-specific documentation entry point even if it has the same
content as the main installation.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Selecting parallelism and other build modes:
</div><div class="SIntrapara"><ul><li><p><span class="nobreak"><span class="stt">--jobs</span></span> <span class="sroman">&#8249;<span style="font-style: italic">n</span>&#8250;</span>, <span class="nobreak"><span class="stt">--workers</span></span> <span class="sroman">&#8249;<span style="font-style: italic">n</span>&#8250;</span>,
or <span class="nobreak"><span class="stt">-j</span></span> <span class="sroman">&#8249;<span style="font-style: italic">n</span>&#8250;</span> &#8212;<wbr></wbr> use up
to <span class="sroman">&#8249;<span style="font-style: italic">n</span>&#8250;</span> parallel processes.  By default, <span class="stt">raco setup</span>
uses <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=futures.html%23%2528def._%2528%2528lib._racket%252Ffuture..rkt%2529._processor-count%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">processor-count</a></span><span class="RktPn">)</span> jobs, which typically uses
all of the machine&rsquo;s processing cores.</p></li><li><p><span class="nobreak"><span class="stt">--places</span></span> &#8212;<wbr></wbr> use Racket places for parallel jobs; this
mode is the default if Racket places run in parallel.</p></li><li><p><span class="nobreak"><span class="stt">--processes</span></span> &#8212;<wbr></wbr> use separate processes for parallel jobs;
this mode is the default if Racket places cannot run in parallel.</p></li><li><p><span class="nobreak"><span class="stt">--verbose</span></span> or <span class="nobreak"><span class="stt">-v</span></span> &#8212;<wbr></wbr> more verbose output about
<span class="stt">raco setup</span> actions.</p></li><li><p><span class="nobreak"><span class="stt">--make-verbose</span></span> or <span class="nobreak"><span class="stt">-m</span></span> &#8212;<wbr></wbr> more verbose output about
dependency checks.</p></li><li><p><span class="nobreak"><span class="stt">--compiler-verbose</span></span> or <span class="nobreak"><span class="stt">-r</span></span> &#8212;<wbr></wbr> even more verbose
output about dependency checks and compilation.</p></li><li><p><span class="nobreak"><span class="stt">--mode</span></span> <span class="sroman">&#8249;<span style="font-style: italic">mode</span>&#8250;</span> &#8212;<wbr></wbr> use a <span class="stt">".zo"</span> compiler
other than the default compiler, and put the resulting
<span class="stt">".zo"</span> files in a subdirectory (of the usual place) named
by <span class="sroman">&#8249;<span style="font-style: italic">mode</span>&#8250;</span>. The compiler is obtained by using <span class="sroman">&#8249;<span style="font-style: italic">mode</span>&#8250;</span>
as a collection name, finding a <span class="stt">"zo-compile.rkt"</span> module in
that collection, and extracting its <span class="RktSym">zo-compile</span> export. The
<span class="RktSym">zo-compile</span> export should be a function like
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._compile%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">compile</a></span>; see the <span class="stt">"errortrace"</span> collection for an
example.</p></li><li><p><span class="nobreak"><span class="stt">--fail-fast</span></span> &#8212;<wbr></wbr> attempt to break as soon as any error is
discovered.</p></li><li><p><span class="nobreak"><span class="stt">--error-out</span></span> <span class="sroman">&#8249;<span style="font-style: italic">file</span>&#8250;</span> &#8212;<wbr></wbr> handle survivable errors
by writing <span class="sroman">&#8249;<span style="font-style: italic">file</span>&#8250;</span> and exiting as successful, which
facilitates chaining multiple <span class="stt">raco setup</span> invocations in
combination with <span class="nobreak"><span class="stt">--error-in</span></span>. If there are no errors and
<span class="sroman">&#8249;<span style="font-style: italic">file</span>&#8250;</span> already exists, it is deleted.</p></li><li><p><span class="nobreak"><span class="stt">--error-in</span></span> <span class="sroman">&#8249;<span style="font-style: italic">file</span>&#8250;</span> &#8212;<wbr></wbr> treat the existence of
<span class="sroman">&#8249;<span style="font-style: italic">file</span>&#8250;</span> as a &ldquo;errors were reported by a previous process&rdquo;
error. Typically, <span class="sroman">&#8249;<span style="font-style: italic">file</span>&#8250;</span> is created by previous <span class="stt">raco
setup</span> run using <span class="nobreak"><span class="stt">--error-out</span></span>. A file for <span class="nobreak"><span class="stt">--error-in</span></span> is
detected before creating a file via <span class="nobreak"><span class="stt">--error-out</span></span>, so the same
file can be used to chain a sequence of <span class="stt">raco setup</span> steps.</p></li><li><p><span class="nobreak"><span class="stt">--pause</span></span> or <span class="nobreak"><span class="stt">-p</span></span> &#8212;<wbr></wbr> pause for user input if any
errors are reported (so that a user has time to inspect output that
might otherwise disappear when the <span class="stt">raco setup</span> process ends).</p></li></ul></div></p></li><li><p><div class="SIntrapara">Unpacking <span class="stt">".plt"</span> archives:
</div><div class="SIntrapara"><ul><li><p><span class="nobreak"><span class="stt">-A</span></span> <span class="sroman">&#8249;<span style="font-style: italic">archive</span>&#8250;</span> <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> &#8212;<wbr></wbr> Install each
<span class="sroman">&#8249;<span style="font-style: italic">archive</span>&#8250;</span>; see <a href="raco-setup-A.html" data-pltdoc="x">Installing <span class="stt">".plt"</span> Archives</a>.</p></li><li><p><span class="nobreak"><span class="stt">--force</span></span> &#8212;<wbr></wbr> for use with <span class="nobreak"><span class="stt">-A</span></span>, treat version
mismatches for archives as mere warnings.</p></li><li><p><span class="nobreak"><span class="stt">--all-users</span></span> or <span class="nobreak"><span class="stt">-a</span></span> &#8212;<wbr></wbr> for use with <span class="nobreak"><span class="stt">-A</span></span>,
install archive into the installation instead of a user-specific
location.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Bootstrapping:
</div><div class="SIntrapara"><ul><li><p><span class="nobreak"><span class="stt">--boot</span></span> <span class="sroman">&#8249;<span style="font-style: italic">module-file</span>&#8250;</span> <span class="sroman">&#8249;<span style="font-style: italic">build-dir</span>&#8250;</span> &#8212;<wbr></wbr> For
use by directly running <a href="setup-plt-plt.html#%28mod-path._setup%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">setup</span></a> instead of
through <span class="stt">raco setup</span>, loads <span class="sroman">&#8249;<span style="font-style: italic">module-file</span>&#8250;</span> in the
same way that <span class="stt">raco setup</span> normally loads itself,
auto-detecting the need to start from sources and rebuild the
compiled files&#8212;<wbr></wbr>even for the compilation manager itself. The
<span class="sroman">&#8249;<span style="font-style: italic">build-dir</span>&#8250;</span> path is installed as the only path in
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-compiled-file-roots%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-compiled-file-roots</a></span>, so all compiled files
go there.</p></li><li><p><span class="nobreak"><span class="stt">--chain</span></span> <span class="sroman">&#8249;<span style="font-style: italic">module-file</span>&#8250;</span> <span class="sroman">&#8249;<span style="font-style: italic">build-dir</span>&#8250;</span> &#8212;<wbr></wbr>
Like <span class="nobreak"><span class="stt">--boot</span></span>, but adds <span class="sroman">&#8249;<span style="font-style: italic">build-dir</span>&#8250;</span> to the start of
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-compiled-file-roots%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-compiled-file-roots</a></span> instead of replacing the
current value, which means that libraries already built in the
normal location (including the compilation manager itself) will
be used instead of rebuilt. This mode makes sense for
cross-compilation.</p></li></ul></div></p></li></ul><p>When building <span class="stt">racket</span>, flags can be provided to <span class="stt">raco
setup</span> as run by <span class="stt">make install</span> by setting the
<a name="(idx._(gentag._11._(lib._scribblings/raco/raco..scrbl)))"></a><span class="stt">PLT_SETUP_OPTIONS</span> makefile variable. For
example, the following command line uses a single process to build
collections during an install:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">make install PLT_SETUP_OPTIONS="-j 1"</span></p><p>Running <span class="stt">raco setup</span> is sensitive to the
<span class="stt">PLT_COMPILED_FILE_CHECK</span> environment variable in the same way
as <span class="stt">raco make</span>. Specifically, if <span class="stt">PLT_COMPILED_FILE_CHECK</span>
is set to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">exists</span><span class="hspace"></span></span>, then <span class="stt">raco make</span> does not attempt to
update a compiled file&rsquo;s timestamp if the file is not recompiled.</p><p>Some additional environment variables are useful for performance
debugging:</p><ul><li><p><a name="(idx._(gentag._12._(lib._scribblings/raco/raco..scrbl)))"></a><span class="stt">PLT_SETUP_DMS_ARGS</span> triggers a call to
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=garbagecollection.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._dump-memory-stats%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">dump-memory-stats</a></span> after each collection is compiled,
where the environment variable&rsquo;s value is parsed with
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Reading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._read%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">read</a></span> to obtain a list of arguments to
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=garbagecollection.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._dump-memory-stats%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">dump-memory-stats</a></span>.</p></li><li><p><a name="(idx._(gentag._13._(lib._scribblings/raco/raco..scrbl)))"></a><span class="stt">PLT_SETUP_LIMIT_CACHE</span> (set to anything) avoids
caching compiled-file information across different collections,
which is useful to reduce noise when looking for memory leaks.</p></li><li><p><a name="(idx._(gentag._14._(lib._scribblings/raco/raco..scrbl)))"></a><span class="stt">PLT_SETUP_NO_FORCE_GC</span> (set to anything)
suppresses a call to <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=garbagecollection.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._collect-garbage%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">collect-garbage</a></span> that is issued by
default for non-parallel builds after each collection is
compiled and after each document is run or rendered.</p></li><li><p><a name="(idx._(gentag._15._(lib._scribblings/raco/raco..scrbl)))"></a><span class="stt">PLT_SETUP_SHOW_TIMESTAMPS</span> (set to anything)
appends the current process time after <span class="RktInBG"><span class="hspace">&nbsp;</span><span class="RktIn">@</span><span class="hspace">&nbsp;</span></span> for each
status message printed by <span class="stt">raco setup</span>.</p></li></ul><p class="SHistory">Changed in version 6.1: Added the <span class="nobreak"><span class="stt">--pkgs</span></span>,
<span class="nobreak"><span class="stt">--check-pkg-deps</span></span>, and
<span class="nobreak"><span class="stt">--fail-fast</span></span> flags.<br/>Changed in version 6.1.1: Added the <span class="nobreak"><span class="stt">--force-user-docs</span></span> flag.<br/>Changed in version 6.1.1.6: Added the <span class="nobreak"><span class="stt">--only-foreign-libs</span></span> flag.<br/>Changed in version 6.6.0.3: Added support for <span class="stt">PLT_COMPILED_FILE_CHECK</span>.<br/>Changed in version 7.0.0.19: Added <span class="nobreak"><span class="stt">--places</span></span> and  <span class="nobreak"><span class="stt">--processes</span></span>.<br/>Changed in version 7.2.0.7: Added <span class="nobreak"><span class="stt">--error-in</span></span> and  <span class="nobreak"><span class="stt">--error-out</span></span>.<br/>Changed in version 7.2.0.8: Added <span class="nobreak"><span class="stt">--recompile-only</span></span>.<br/>Changed in version 7.9.0.3: Added <span class="stt">PLT_SETUP_NO_FORCE_GC</span>,
<span class="stt">PLT_SETUP_SHOW_TIMESTAMPS</span>,
and <span class="nobreak"><span class="stt">--sync-docs-only</span></span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="setup.html" title="backward to &quot;6 raco setup: Installation Management&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="setup.html" title="up to &quot;6 raco setup: Installation Management&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="raco-setup-A.html" title="forward to &quot;6.2 Installing &quot;.plt&quot; Archives&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/raco/running.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:10:28 GMT -->
</html>