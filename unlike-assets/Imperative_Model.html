<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/unlike-assets/Imperative_Model.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;Imperative Model</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Unlike Assets:<span class="mywbr"> &nbsp;</span> Build Video Games, Websites, and Other Creative Projects</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Reactive_Model.html" class="tocviewlink" data-pltdoc="x">Reactive Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Imperative Model</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Logging.html" class="tocviewlink" data-pltdoc="x">Logging</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Policy_authoring_utilities.html" class="tocviewlink" data-pltdoc="x">Policy authoring utilities</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Imperative Model</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Imperative_.A.P.I_.Reference%29" class="tocviewlink" data-pltdoc="x">Imperative API Reference</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._live%29" class="tocviewlink" data-pltdoc="x">Responding to Change</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Command_.Line_.Interface%29" class="tocviewlink" data-pltdoc="x">Command Line Interface</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._.Examples%29" class="tocviewlink" data-pltdoc="x">Examples</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unclear%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">unclear/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">clear/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._fulfilled%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">fulfilled/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">advance/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">unlike-<wbr></wbr>asset/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Imperative_.A.P.I_.Reference%29" class="tocsubseclink" data-pltdoc="x">Imperative API Reference</a></td></tr><tr><td><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">unlike-<wbr></wbr>compiler%</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">clarify</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">delegate</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">compile!</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._lookup%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lookup</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._add%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add!</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._live%29" class="tocsubseclink" data-pltdoc="x">Responding to Change</a></td></tr><tr><td><span class="tocsublinknumber">2.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Overview%29" class="tocsubseclink" data-pltdoc="x">Overview</a></td></tr><tr><td><span class="tocsublinknumber">2.2.2<tt>&nbsp;</tt></span><a href="#%28part._ripproc%29" class="tocsubseclink" data-pltdoc="x">Ripple Procedures</a></td></tr><tr><td><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._ripple%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ripple/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Step-by-.Step_.Example%29" class="tocsubseclink" data-pltdoc="x">Step-<wbr></wbr>by-<wbr></wbr>Step Example</a></td></tr><tr><td><span class="tocsublinknumber">2.2.4<tt>&nbsp;</tt></span><a href="#%28part._.Design_.Implications%29" class="tocsubseclink" data-pltdoc="x">Design Implications</a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Command_.Line_.Interface%29" class="tocsubseclink" data-pltdoc="x">Command Line Interface</a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Examples%29" class="tocsubseclink" data-pltdoc="x">Examples</a></td></tr><tr><td><span class="tocsublinknumber">2.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Basic_use_of_clarify_and_delegate%29" class="tocsubseclink" data-pltdoc="x">Basic use of clarify and delegate</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Reactive_Model.html" title="backward to &quot;1 Reactive Model&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Unlike Assets: Build Video Games, Websites, and Other Creative Projects&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Logging.html" title="forward to &quot;3 Logging&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Imperative_Model&quot;">2<tt>&nbsp;</tt><a name="(part._.Imperative_.Model)"></a>Imperative Model</h3><p>The imperative model uses Stephen Chang&rsquo;s
<a href="../graph/index.html">graph
library</a> in a simple object model to track dependencies between assets
and build them in order. This model is good for those who are used to
classical object-oriented programming and/or anyone who wants to work
on the underlying graph of their project as a whole.</p><p>To use this model, you subclass <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span> and
override two methods called <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span>
and <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span>.</p><p><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span> translates an string like <span class="stt">styles.css</span> into an
unambiguous identifier like an absolute path or full URL.  What
counts as a clear or unclear name is up to you.</p><p><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span> takes a clear name and maps it to
the first procedure that must run to start building the asset of that
name.  That procedure can identify dependencies of your asset and add
them to the graph. So if you process an HTML file, then you can find
dependencies in that file and queue them up for further processing.</p><p>If an asset changes, you can also control how that change propagates
to other assets.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unlike-assets/main..rkt)._unclear/c))"></a><span title="Provided from: unlike-assets | Package: unlike-assets-lib"><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unclear%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">unclear/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unlike-assets/main..rkt)._clear/c))"></a><span title="Provided from: unlike-assets | Package: unlike-assets-lib"><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">clear/c</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">url?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">generic-instance/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3aequal%252Bhash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">gen:equal+hash</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unlike-assets/main..rkt)._fulfilled/c))"></a><span title="Provided from: unlike-assets | Package: unlike-assets-lib"><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._fulfilled%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">fulfilled/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._not%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unlike-assets/main..rkt)._advance/c))"></a><span title="Provided from: unlike-assets | Package: unlike-assets-lib"><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">advance/c</a></span></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fbase..rkt%2529._recursive-contract%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">recursive-contract</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._instanceof%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">instanceof/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._subclass%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">subclass?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValLink" data-pltdoc="x">unlike-asset/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unlike-assets/main..rkt)._unlike-asset/c))"></a><span title="Provided from: unlike-assets | Package: unlike-assets-lib"><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">unlike-asset/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._fulfilled%2Fc%29%29" class="RktValLink" data-pltdoc="x">fulfilled/c</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Let&rsquo;s rehash the fundamentals as contracts set by the context of this model.</div></p><p>When an asset value (as per <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValLink" data-pltdoc="x">unlike-asset/c</a></span>) is fulfilled, it&rsquo;s not a
procedure and its value is final. Otherwise, it is an
<span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span> procedure that returns a new asset that is
fulfilled or unfulfilled.</p><p>An instance of <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span> must <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span> these strings and <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span> work to
procedures that can fulfill the assets under the <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span>
names. An <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span> instance can also mark changes on
an asset&rsquo;s value and control how that change ripples to dependencies.</p><h4 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Imperative_API_Reference&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Imperative_.A.P.I_.Reference)"></a>Imperative API Reference</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>class</p></div></div><p class="RForeground"><a name="(def._((lib._unlike-assets/main..rkt)._unlike-compiler~25))"></a><span title="Provided from: unlike-assets | Package: unlike-assets-lib"><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValDef RktValLink" data-pltdoc="x">unlike-compiler%</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=objectutils.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._class%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">class?</a></span></p></blockquote></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span>superclass:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=createclass.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._object%7E25%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">object%</a></span></p></td></tr></table></div><div class="SIntrapara">An abstract class that coordinates asset fulfillment.</div><div class="SIntrapara">Depending on your requirements and the complexity of your project, you may need to use custodians,
threads, engines, places, or other constructs to coordinate different instances of this class.</div><div class="SIntrapara"><blockquote class="leftindent"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-unlike-compiler</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._unlike-assets/main..rkt)._unlike-compiler~25)._clarify))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValDef RktValLink" data-pltdoc="x">clarify</a></span><span class="hspace">&nbsp;</span><span class="RktVar">unclear</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">unclear</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unclear%2Fc%29%29" class="RktValLink" data-pltdoc="x">unclear/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara"></div></p><p>Override this method to deterministically map an unclear string to a clear name for an asset.
By default, <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span> is the identity function.</p><p>Once assets have clear names we need to decide what to do with them by delegating work out
to appropriate procedures.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-unlike-compiler</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._unlike-assets/main..rkt)._unlike-compiler~25)._delegate))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValDef RktValLink" data-pltdoc="x">delegate</a></span><span class="hspace">&nbsp;</span><span class="RktVar">clear</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValLink" data-pltdoc="x">unlike-asset/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">clear</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara"></div><div class="SIntrapara">Override this abstract method to deterministically return the
<span style="font-weight: bold">first</span> value to represent an asset of name <span class="RktVar">clear</span>.</div></p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>If you want your terminal value to be a procedure, wrap it in a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=boxes.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._box%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">box</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span>, etc.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">If <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span> returns an <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span> procedure, that procedure must
accept the same clear name and the instance of the compiler as arguments, and either return the
<span style="font-weight: bold">next</span> <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span> procedure to pass on responsibility, or a terminal value that
isn&rsquo;t a procedure at all.</div></p><p>Any procedure in the implied chain of fulfillment can (and should) <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._add%21%29%29" class="RktValLink" data-pltdoc="x">add!</a></span>
dependencies to the compiler as they are discovered. If this occurs, the
subsequent procedure will not be called until those dependencies are fulfilled.</p><p>Once clarified names can be used to delegate work to procedures, you can <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="RktValLink" data-pltdoc="x">compile!</a></span></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-unlike-compiler</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._unlike-assets/main..rkt)._unlike-compiler~25)._compile!))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">compile!</a></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:changed</span><span class="hspace">&nbsp;</span><span class="RktVar">changed</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:removed</span><span class="hspace">&nbsp;</span><span class="RktVar">removed</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:strict?</span><span class="hspace">&nbsp;</span><span class="RktVar">strict?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fhash..rkt%2529._hash%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._fulfilled%2Fc%29%29" class="RktValLink" data-pltdoc="x">fulfilled/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">changed</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">removed</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">strict?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara"></div><div class="SIntrapara">Fulfills all assets on the current thread and returns a hash mapping clear names to the final value
associated with each asset. Will raise <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span> if a call to <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="RktValLink" data-pltdoc="x">compile!</a></span> is already
running for the instance.</div></p><p>Side-effects:</p><ul><li><p>The encapsulated model will record all asset activity.</p></li><li><p>Events are sent to <span class="RktSym">unlike-asset-logger</span>.</p></li></ul><p>If <span class="RktVar">changed</span> or <span class="RktVar">removed</span> are not empty, then the compiler will first modify
the underlying model to reflect changed or removed assets according to <a href="#%28part._live%29" data-pltdoc="x">Responding to Change</a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-unlike-compiler</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._unlike-assets/main..rkt)._unlike-compiler~25)._lookup))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._lookup%29%29" class="RktValDef RktValLink" data-pltdoc="x">lookup</a></span><span class="hspace">&nbsp;</span><span class="RktVar">clear</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValLink" data-pltdoc="x">unlike-asset/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">clear</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara"></div><div class="SIntrapara">Return the current value associated with a clear name in the compiler.
Will raise <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span> if no asset is found.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-unlike-compiler</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._unlike-assets/main..rkt)._unlike-compiler~25)._add!))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._add%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">add!</a></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">clear</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">dependent-clear</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">ripple</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">clear</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dependent-clear</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ripple</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._ripple%2Fc%29%29" class="RktValLink" data-pltdoc="x">ripple/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara"></div><div class="SIntrapara">Adds a clear asset name to the compiler. If <span class="RktVar">dependent-clear</span> is a clear name,
then the compiler will understand that <span class="RktVar">clear</span> is a dependency of <span class="RktVar">dependent-clear</span>.
Will raise <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span> if a circular dependency forms.</div></p><p><span class="RktVar">ripple</span> controls how a change in <span class="RktVar">clear</span>&rsquo;s asset propagates to <span class="RktVar">dependent-clear</span>&rsquo;s asset.
By default, the dependent asset will be rebuilt. Otherwise the change will produce an asset value from a provided
<span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._ripple%2Fc%29%29" class="RktValLink" data-pltdoc="x">ripple/c</a></span> procedure.</p><p><div class="SIntrapara">For information on the change model, see <a href="#%28part._live%29" data-pltdoc="x">Responding to Change</a>.</div><div class="SIntrapara"></div></p></blockquote></div></p><h4 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;live&quot;">2.2<tt>&nbsp;</tt><a name="(part._live)"></a>Responding to Change</h4><p>With some work, an <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span> instance can support ongoing builds that perform only the work
thats relevant to reported changes.</p><h5 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Overview&quot;">2.2.1<tt>&nbsp;</tt><a name="(part._.Overview)"></a>Overview</h5><p>Once an <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span> instance finishes a call to <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="RktValLink" data-pltdoc="x">compile!</a></span>, it will
remember the history of each asset value as it advanced to a fulfilled state.</p><p>If you call <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="RktValLink" data-pltdoc="x">compile!</a></span> again, it will simply return the same output it already prepared
unless you report that there were changes.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">compile!</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:strict?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:changed</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Policy_authoring_utilities.html#%28def._%28%28lib._unlike-assets%2Fpolicy..rkt%29._clarify%2Fmulti%29%29" class="RktValLink" data-pltdoc="x">clarify/multi</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktVal">"/etc/config"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:removed</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Policy_authoring_utilities.html#%28def._%28%28lib._unlike-assets%2Fpolicy..rkt%29._clarify%2Fmulti%29%29" class="RktValLink" data-pltdoc="x">clarify/multi</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"leaked-xmas-photo.png"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"only-production-database-backup.sql"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Unlike <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._add%21%29%29" class="RktValLink" data-pltdoc="x">add!</a></span>, which can be called at any time, <span class="RktPn">#:changed</span> and <span class="RktPn">#:removed</span>
assets can only be declared after a prior successful call to <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="RktValLink" data-pltdoc="x">compile!</a></span>. Each following
call to <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._compile%21%29%29" class="RktValLink" data-pltdoc="x">compile!</a></span> will adapt an underlying graph to reflect any assets that were
since changed or removed. Depending on the activity, dependent assets will <span style="font-style: italic">regress</span> to a value they once
had in an attempt to incorporate changes while minimizing rework.</p><p>First, <span class="RktPn">#:removed</span> assets are deleted from the graph, as well as any
edges connecting that that asset to others. Dependent assets are
unconditionally rebuilt, but changes ripple from there according to
<a href="#%28part._ripproc%29" data-pltdoc="x">Ripple Procedures</a>.  Unless <span class="RktSym">strict?</span> is <span class="RktVal">#f</span>, this process will
raise <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span> if any of the names marked as removed are already
absent from the system.</p><p><span class="RktPn">#:changed</span> assets then regress to a value returned from
<span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span>.  This is functionally equivalent to marking
an asset to rebuild from scratch. Changes will ripple to dependents according
to <a href="#%28part._ripproc%29" data-pltdoc="x">Ripple Procedures</a>. Unless <span class="RktSym">strict?</span> is <span class="RktVal">#f</span>, this process
will raise <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span> if any <span class="RktPn">#:changed</span> assets that were not
marked as removed are absent from the system.</p><h5 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;ripproc&quot;">2.2.2<tt>&nbsp;</tt><a name="(part._ripproc)"></a>Ripple Procedures</h5><p>Dependent asset values regress according to a related <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._ripple%2Fc%29%29" class="RktValLink" data-pltdoc="x">ripple/c</a></span> procedure
provided to <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._add%21%29%29" class="RktValLink" data-pltdoc="x">add!</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unlike-assets/main..rkt)._ripple/c))"></a><span title="Provided from: unlike-assets | Package: unlike-assets-lib"><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._ripple%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">ripple/c</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._clear%2Fc%29%29" class="RktValLink" data-pltdoc="x">clear/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._non-empty-listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">non-empty-listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValLink" data-pltdoc="x">unlike-asset/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValLink" data-pltdoc="x">unlike-asset/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a regressed asset value due to a change in a dependency.</div></p><p>The first argument is the clear name of the asset that has been changed.</p><p>The second argument is the clear name of the dependent asset.</p><p>The third argument is the history of the the dependent such that the element at index N
is an <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-asset%2Fc%29%29" class="RktValLink" data-pltdoc="x">unlike-asset/c</a></span> returned by the <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span> element at index N+1.</p><p><span style="font-weight: bold">The ripple procedure must return an element from this list.</span> Otherwise the compiler
will ignore the value, issue a <span class="RktSym"><a href="Logging.html#%28def._%28%28lib._unlike-assets%2Flogging..rkt%29._~3cwarning%29%29" class="RktValLink" data-pltdoc="x">&lt;warning</a></span>, and rebuild the dependent asset from scratch.</p><p>Internally, the compiler will only propogate a change further if the regressed value
is not <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">eq?</a></span> to its previous value. The first element of the asset value&rsquo;s history
is always <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">eq?</a></span> to its current value, so having a <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._ripple%2Fc%29%29" class="RktValLink" data-pltdoc="x">ripple/c</a></span> procedure
return the first element of the history will both maintain the current value of the asset
and prevent change from propogating further.</p><h5 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Step-by-Step_Example&quot;">2.2.3<tt>&nbsp;</tt><a name="(part._.Step-by-.Step_.Example)"></a>Step-by-Step Example</h5><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">replace-link-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">immune</span><span class="hspace">&nbsp;</span><span class="RktSym">changed/clear</span><span class="hspace">&nbsp;</span><span class="RktSym">dependent/clear</span><span class="hspace">&nbsp;</span><span class="RktSym">dependent/history</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">dependent-history</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Policy_authoring_utilities.html#%28def._%28%28lib._unlike-assets%2Fpolicy..rkt%29._rebuild%29%29" class="RktValLink" data-pltdoc="x">rebuild</a></span><span class="hspace">&nbsp;</span><span class="RktSym">changed/clear</span><span class="hspace">&nbsp;</span><span class="RktSym">dependent/clear</span><span class="hspace">&nbsp;</span><span class="RktSym">dependent/history</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._last%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">dependent-history</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">partial</span><span class="hspace">&nbsp;</span><span class="RktSym">changed/clear</span><span class="hspace">&nbsp;</span><span class="RktSym">dependent/clear</span><span class="hspace">&nbsp;</span><span class="RktSym">dependent/history</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">replace-link-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktVal">"index.html"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktVal">"styles.css"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktVal">"about.html"</span><span class="hspace">&nbsp;</span><span class="RktVal">"index.html"</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Policy_authoring_utilities.html#%28def._%28%28lib._unlike-assets%2Fpolicy..rkt%29._rebuild%29%29" class="RktValLink" data-pltdoc="x">rebuild</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktVal">"contact.html"</span><span class="hspace">&nbsp;</span><span class="RktVal">"about.html"</span><span class="hspace">&nbsp;</span><span class="RktSym">immune</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktVal">"styles.css"</span><span class="hspace">&nbsp;</span><span class="RktVal">"about.html"</span><span class="hspace">&nbsp;</span><span class="RktSym">partial</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktVal">"styles.css"</span><span class="hspace">&nbsp;</span><span class="RktVal">"contact.html"</span><span class="hspace">&nbsp;</span><span class="RktSym">partial</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">compile!</span><span class="RktPn">)</span></td></tr></table></blockquote><p>In this example we compile a website of interdependent pages and
walk through the behavior of each subsequent build.</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">compile!</span><span class="hspace">&nbsp;</span><span class="RktPn">#:changed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"about.html"</span><span class="RktVal">)</span><span class="RktPn">)</span></p></blockquote><p>Compile assuming that <span class="RktVal">"about.html"</span> has changed.</p><p>Rebuilds both <span class="RktVal">"about.html"</span> and <span class="RktVal">"index.html"</span>.</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">compile!</span><span class="hspace">&nbsp;</span><span class="RktPn">#:changed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"contact.html"</span><span class="RktVal">)</span><span class="RktPn">)</span></p></blockquote><p>The website is rebuilt assuming only <span class="RktVal">"contact.html"</span> has changed.
The relationship between <span class="RktVal">"contact.html"</span> and <span class="RktVal">"about.html"</span>
is such that the latter <span style="font-weight: bold">will not change</span> when the former changes. Not only
that, <span class="RktVal">"index.html"</span> will also <span style="font-weight: bold">not change</span> because propagation
stopped at <span class="RktVal">"about.html"</span>. In this scenario, only one webpage is fully rebuilt.</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">compile!</span><span class="hspace">&nbsp;</span><span class="RktPn">#:changed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"styles.css"</span><span class="RktVal">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">The website is rebuilt assuming only <span class="RktVal">"styles.css"</span> has changed.
In this scenario, <span class="RktVal">"about.html"</span> and <span class="RktVal">"contact.html"</span> are <span style="font-style: italic">partially</span> rebuilt assuming that
<span class="RktSym">replace-link-node</span> is in their respective histories. But <span class="RktVal">"index.html"</span> is still
fully rebuilt becase <span class="RktVal">"about.html"</span> propagates change in that way.</div></p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">compile!</span><span class="hspace">&nbsp;</span><span class="RktPn">#:removed</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"about.html"</span><span class="RktVal">)</span><span class="RktPn">)</span></p></blockquote><p>The website is rebuilt assuming only <span class="RktVal">"about.html"</span> was removed.
<span class="RktVal">"about.html"</span> sat between <span class="RktVal">"index.html"</span> and <span class="RktVal">"contact.html"</span>,
which means that <span class="RktVal">"contact.html"</span> is no longer a dependency for any HTML asset.
The compiler will still attempt to advance all assets, but does not guarentee that the
output will function as expected. This state will likely result in a broken or missing link
on a web page.</p><p><span class="RktVal">"index.html"</span> is marked to build from scratch, but not because of its declared
relationship with <span class="RktVal">"about.html"</span> this time around. Asset removal causes a full
rebuild of dependents. If <span class="RktVal">"index.html"</span> had dependents, the change implied
by this rebuild would ripple normally.</p><h5 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Design_Implications&quot;">2.2.4<tt>&nbsp;</tt><a name="(part._.Design_.Implications)"></a>Design Implications</h5><ul><li><p>Always rebuilding dependents of a removed asset allows <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._ripple%2Fc%29%29" class="RktValLink" data-pltdoc="x">ripple/c</a></span> procedures
to assume that dependencies exist. Any errors that come as a result of removal would
happen as per the user&rsquo;s implementation and change propogation should not make it harder to find the root cause.</p></li><li><p><span style="font-weight: bold">CAUTION:</span> If you make a new instance of an <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span><span class="stt"> </span><span class="RktSym">subclass</span> and start
a fresh build using the same assets, it might not produce the same graph as an existing instance
that removed assets from an older graph. This is a source of entropy that may warrant periodically
discarding a compiler instance, collecting garbage, and beginning anew.</p></li></ul><h4 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Command_Line_Interface&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Command_.Line_.Interface)"></a>Command Line Interface</h4><p>Use the provided raco command to build unlike assets from the terminal.
Use raco unlike-assets:build -h flag to see options.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">$ raco unlike-assets:build my-compiler.rkt news/index.php blog/index.md shop/index.html</span></p></td></tr></table></p><p>The first argument is the Racket module that provides an instance of an <span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span> subclass
as <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="stt"> </span><span class="RktSym">compiler</span><span class="RktPn">)</span>. With the above command, the instance will be loaded using
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Module_Names_and_Loading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._dynamic-require%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">dynamic-require</a></span><span class="stt"> </span><span class="RktVal">"my-compiler.rkt"</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">compiler</span><span class="RktPn">)</span>.</p><p>Each other argument will be clarified and registered to the compiler using <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._add%21%29%29" class="RktValLink" data-pltdoc="x">add!</a></span>.</p><p><span style="font-weight: bold">CAUTION:</span> The assets you name for compilation are considered unclear and
will be arguments to <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span>. If your implementation of <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span>
assumes that all relative paths are relative to the same directory, then a relative
path prepared via tab completion might surprise you.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">$ raco unlike-assets:build my-compiler.rkt ./project/assets/index.md # whoops</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Cannot clarify ./assets/index.md</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Path not readable: /home/sage/project/assets/project/assets/index.md</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">...</span></p></td></tr></table></p><p>This source of confusion is part of the trade-off in providing consistent behavior
when representing dependencies in the abstract.</p><p>It helps to remember that as the user, you are the first unlike asset and
your dependencies are therefore subject to clarification.</p><h4 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Examples&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Examples)"></a>Examples</h4><h5 x-source-module="(lib &quot;unlike-assets/scribblings/unlike-assets.scrbl&quot;)" x-source-pkg="unlike-assets-doc" x-part-tag="&quot;Basic_use_of_clarify_and_delegate&quot;">2.4.1<tt>&nbsp;</tt><a name="(part._.Basic_use_of_clarify_and_delegate)"></a>Basic use of clarify and delegate</h5><p>This example shows an implementation of <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span> and <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span>
that together build a message in terms of one set of dependencies.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">unlike-assets</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">dependencies</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">complexity</span><span class="hspace">&nbsp;</span><span class="RktVal">only</span><span class="hspace">&nbsp;</span><span class="RktVal">maddens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">people</span><span class="hspace">&nbsp;</span><span class="RktVal">ingesting</span><span class="hspace">&nbsp;</span><span class="RktVal">lengthy</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">elusive</span><span class="hspace">&nbsp;</span><span class="RktVal">documentation</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=attaching-contracts-to-values.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fregion..rkt%2529._define%252Fcontract%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">build-message</span><span class="hspace">&nbsp;</span><span class="RktSym">clear</span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-upcase%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-upcase</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">unclear</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">lookup</span><span class="hspace">&nbsp;</span><span class="RktSym">unclear</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">dependencies</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=attaching-contracts-to-values.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fregion..rkt%2529._define%252Fcontract%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">resolve-dependency</span><span class="hspace">&nbsp;</span><span class="RktSym">clear</span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-ref%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clear</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=attaching-contracts-to-values.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fregion..rkt%2529._define%252Fcontract%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">main</span><span class="hspace">&nbsp;</span><span class="RktSym">clear</span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._advance%2Fc%29%29" class="RktValLink" data-pltdoc="x">advance/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clear-names</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">unclear</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">clarify</span><span class="hspace">&nbsp;</span><span class="RktSym">unclear</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">dependencies</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">dependency</span><span class="hspace">&nbsp;</span><span class="RktSym">clear-names</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktSym">dependency</span><span class="hspace">&nbsp;</span><span class="RktSym">clear</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">build-message</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=objcreation.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._new%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">new</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=createclass.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._class%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">class*</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29%29" class="RktValLink" data-pltdoc="x">unlike-compiler%</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=objcreation.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._super-new%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">super-new</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=createclass.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._define%252Foverride%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/override</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clarify</span><span class="hspace">&nbsp;</span><span class="RktSym">unclear</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">unclear</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=createclass.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._define%252Foverride%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/override</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">delegate</span><span class="hspace">&nbsp;</span><span class="RktSym">clear</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3d%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string=?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clear</span><span class="hspace">&nbsp;</span><span class="RktVal">"start"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">main</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">resolve-dependency</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">add!</span><span class="hspace">&nbsp;</span><span class="RktVal">"start"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash-ref%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash-ref</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">compiler</span><span class="hspace">&nbsp;</span><span class="RktSym">compile!</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"start"</span><span class="RktPn">)</span></td></tr></table></blockquote><ol><li><p>The compiler is informed of a new asset by an unclear name: <span class="RktVal">'</span><span class="RktVal">start</span>.</p></li><li><p><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span> maps the unclear name to <span class="RktVal">"start"</span>.</p></li><li><p><span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span> associates <span class="RktVal">"start"</span> to <span class="RktSym">main</span>.</p></li><li><p><span class="RktSym">main</span> runs, adding dependencies as a side-effect. <span class="RktSym">build-message</span> is returned as the designated next step to fulfill <span class="RktVal">"start"</span>. It will not be called yet.</p></li><li><p>All dependencies are circulated through <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._clarify%29%29" class="RktValLink" data-pltdoc="x">clarify</a></span> and <span class="RktSym"><a href="#%28meth._%28%28%28lib._unlike-assets%2Fmain..rkt%29._unlike-compiler~25%29._delegate%29%29" class="RktValLink" data-pltdoc="x">delegate</a></span> as well, and each end up fulfilled by <span class="RktSym">resolve-dependency</span> as the first letter of their clear names.</p></li><li><p><span class="RktSym">build-message</span> runs, joining the first letter of each dependency in the declared order. The output is <span class="RktVal">"COMPILED"</span></p></li></ol><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Reactive_Model.html" title="backward to &quot;1 Reactive Model&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Unlike Assets: Build Video Games, Websites, and Other Creative Projects&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Logging.html" title="forward to &quot;3 Logging&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/unlike-assets/Imperative_Model.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:47 GMT -->
</html>