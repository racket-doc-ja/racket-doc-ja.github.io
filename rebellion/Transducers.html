<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/rebellion/Transducers.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:25:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3.2&nbsp;Transducers</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Rebellion</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Base_Libraries.html" class="tocviewlink" data-pltdoc="x">Base Libraries</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Data_Types.html" class="tocviewlink" data-pltdoc="x">Data Types</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Streaming_Computations.html" class="tocviewselflink" data-pltdoc="x">Streaming Computations</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Collections.html" class="tocviewlink" data-pltdoc="x">Collections</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Concurrency.html" class="tocviewlink" data-pltdoc="x">Concurrency</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Binary_Data.html" class="tocviewlink" data-pltdoc="x">Binary Data</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Module_Utilities.html" class="tocviewlink" data-pltdoc="x">Module Utilities</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Other_Libraries.html" class="tocviewlink" data-pltdoc="x">Other Libraries</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="Streaming_Computations.html" class="tocviewlink" data-pltdoc="x">Streaming Computations</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="Reducers.html" class="tocviewlink" data-pltdoc="x">Reducers</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Transducers</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>3.2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Transducers</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.2.1&nbsp;</td><td><a href="#%28part._.Element-.Transforming_.Transducers%29" class="tocviewlink" data-pltdoc="x">Element-<wbr></wbr>Transforming Transducers</a></td></tr><tr><td align="right">3.2.2&nbsp;</td><td><a href="#%28part._.Element-.Removing_.Transducers%29" class="tocviewlink" data-pltdoc="x">Element-<wbr></wbr>Removing Transducers</a></td></tr><tr><td align="right">3.2.3&nbsp;</td><td><a href="#%28part._.Element-.Rearranging_.Transducers%29" class="tocviewlink" data-pltdoc="x">Element-<wbr></wbr>Rearranging Transducers</a></td></tr><tr><td align="right">3.2.4&nbsp;</td><td><a href="#%28part._.Transducer_.Composition%29" class="tocviewlink" data-pltdoc="x">Transducer Composition</a></td></tr><tr><td align="right">3.2.5&nbsp;</td><td><a href="#%28part._.The_.Transduction_.Protocol%29" class="tocviewlink" data-pltdoc="x">The Transduction Protocol</a></td></tr><tr><td align="right">3.2.6&nbsp;</td><td><a href="#%28part._.Transducer_.Contracts%29" class="tocviewlink" data-pltdoc="x">Transducer Contracts</a></td></tr><tr><td align="right">3.2.7&nbsp;</td><td><a href="#%28part._.Transducer_.Chaperones_and_.Impersonators%29" class="tocviewlink" data-pltdoc="x">Transducer Chaperones and Impersonators</a></td></tr><tr><td align="right">3.2.8&nbsp;</td><td><a href="#%28part._.Debugging_.Transducers%29" class="tocviewlink" data-pltdoc="x">Debugging Transducers</a></td></tr><tr><td align="right">3.2.9&nbsp;</td><td><a href="#%28part._.Testing_.Transducers%29" class="tocviewlink" data-pltdoc="x">Testing Transducers</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transducer?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transduce</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._in-transduced%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">in-<wbr></wbr>transduced</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._into-transduced%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">into-<wbr></wbr>transduced</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Element-.Transforming_.Transducers%29" class="tocsubseclink" data-pltdoc="x">Element-<wbr></wbr>Transforming Transducers</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._mapping%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mapping</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._append-mapping%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">append-<wbr></wbr>mapping</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._folding%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">folding</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._batching%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">batching</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._windowing%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">windowing</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerating%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">enumerating</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">enumerated?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">enumerated</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated-element%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">enumerated-<wbr></wbr>element</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated-position%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">enumerated-<wbr></wbr>position</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Element-.Removing_.Transducers%29" class="tocsubseclink" data-pltdoc="x">Element-<wbr></wbr>Removing Transducers</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._filtering%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">filtering</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">taking</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-while%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">taking-<wbr></wbr>while</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-maxima%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">taking-<wbr></wbr>maxima</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-minima%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">taking-<wbr></wbr>minima</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-local-maxima%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">taking-<wbr></wbr>local-<wbr></wbr>maxima</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-local-minima%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">taking-<wbr></wbr>local-<wbr></wbr>minima</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-duplicates%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">taking-<wbr></wbr>duplicates</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._dropping%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">dropping</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._dropping-while%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">dropping-<wbr></wbr>while</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">deduplicating</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating-consecutive%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">deduplicating-<wbr></wbr>consecutive</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Element-.Rearranging_.Transducers%29" class="tocsubseclink" data-pltdoc="x">Element-<wbr></wbr>Rearranging Transducers</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._sorting%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sorting</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transposing%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transposing</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.4<tt>&nbsp;</tt></span><a href="#%28part._.Transducer_.Composition%29" class="tocsubseclink" data-pltdoc="x">Transducer Composition</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-pipe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transducer-<wbr></wbr>pipe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-compose%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transducer-<wbr></wbr>compose</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.5<tt>&nbsp;</tt></span><a href="#%28part._.The_.Transduction_.Protocol%29" class="tocsubseclink" data-pltdoc="x">The Transduction Protocol</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._make-transducer%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>transducer</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduction-state%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transduction-<wbr></wbr>state/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-transduction-state%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>transduction-<wbr></wbr>state/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emission?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emission</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission-state%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emission-<wbr></wbr>state</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emission-<wbr></wbr>value</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>emission?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>emission</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission-state%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>emission-<wbr></wbr>state</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>emission-<wbr></wbr>value</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.6<tt>&nbsp;</tt></span><a href="#%28part._.Transducer_.Contracts%29" class="tocsubseclink" data-pltdoc="x">Transducer Contracts</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transducer/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.7<tt>&nbsp;</tt></span><a href="#%28part._.Transducer_.Chaperones_and_.Impersonators%29" class="tocsubseclink" data-pltdoc="x">Transducer Chaperones and Impersonators</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-impersonate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transducer-<wbr></wbr>impersonate</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.8<tt>&nbsp;</tt></span><a href="#%28part._.Debugging_.Transducers%29" class="tocsubseclink" data-pltdoc="x">Debugging Transducers</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._peeking%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peeking</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2.9<tt>&nbsp;</tt></span><a href="#%28part._.Testing_.Transducers%29" class="tocsubseclink" data-pltdoc="x">Testing Transducers</a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._observing-transduction-events%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">observing-<wbr></wbr>transduction-<wbr></wbr>events</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transduction-<wbr></wbr>event?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._start-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">start-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-close-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>close-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._finish-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">finish-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">consume-<wbr></wbr>event?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">consume-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">consume-<wbr></wbr>event-<wbr></wbr>value</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emit-<wbr></wbr>event?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emit-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emit-<wbr></wbr>event-<wbr></wbr>value</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>emit-<wbr></wbr>event?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>emit-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">half-<wbr></wbr>closed-<wbr></wbr>emit-<wbr></wbr>event-<wbr></wbr>value</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Reducers.html" title="backward to &quot;3.1 Reducers&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Streaming_Computations.html" title="up to &quot;3 Streaming Computations&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Collections.html" title="forward to &quot;4 Collections&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Transducers&quot;">3.2<tt>&nbsp;</tt><a name="(part._.Transducers)"></a><a name="(mod-path._rebellion/streaming/transducer)"></a>Transducers</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">rebellion/streaming/transducer</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/rebellion" title="Install this package using `raco pkg install rebellion`"><span class="stt">rebellion</span></a></span></td></tr></table></p><p>A <a name="(tech._transducer)"></a><span style="font-style: italic">transducer</span> is an object that can incrementally transform one
(potentially infinite) sequence of elements into another sequence. Transducers
are state machines; performing a transduction involves <span class="emph">starting</span> the
transducer to get an initial state, then repeatedly updating that state by
either <span class="emph">consuming</span> an element from the input sequence or by <span class="emph">emitting</span>
an element to the output sequence. When the input sequence is exhausted, the
transducer enters a <span class="emph">half closed</span> state where it may emit more output
elements but it will never consume more input elements. When the transducer
stops emitting elements, its <span class="emph">finisher</span> is called to clean up any resources
held in the final transduction state. Optionally, a transducer may half close
early, before the input sequence is fully consumed.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transducer~3f))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">transducer?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A predicate for <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducers</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transduce))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValDef RktValLink" data-pltdoc="x">transduce</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">seq</span><span class="hspace">&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktVar">red</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._sequence%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sequence?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">red</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._reducer~3f%29%29" class="RktValLink" data-pltdoc="x">reducer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Executes a <a name="(tech._transduction._pipeline)"></a><span style="font-style: italic">transduction pipeline</span>, alternatively called a
<a name="(tech._stream._pipeline)"></a><span style="font-style: italic">stream pipeline</span>, which transforms the source <span class="RktVar">seq</span> with a
series of intermediate operations &#8212;<wbr></wbr> represented by the <span class="RktVar">trans</span>
arguments &#8212;<wbr></wbr> then reduces the transformed sequence with <span class="RktVar">red</span>.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._filtering%29%29" class="RktValLink" data-pltdoc="x">filtering</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._even%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">even?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._mapping%29%29" class="RktValLink" data-pltdoc="x">mapping</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Immutable_Strings.html#%28def._%28%28lib._rebellion%2Fbase%2Fimmutable-string..rkt%29._number-~3eimmutable-string%29%29" class="RktValLink" data-pltdoc="x">number-&gt;immutable-string</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._join-into-string%29%29" class="RktValLink" data-pltdoc="x">join-into-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">", "</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"2, 4, 6, 8, 10, 12, 14, 16, 18"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._in-transduced))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._in-transduced%29%29" class="RktValDef RktValLink" data-pltdoc="x">in-transduced</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">seq</span><span class="hspace">&nbsp;</span><span class="RktVar">trans</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._sequence%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sequence?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._sequence%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sequence?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Lazily transduces <span class="RktVar">seq</span> with <span class="RktVar">trans</span>, returning a
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528tech._sequence%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">sequence</span></a> that, when iterated, passes the elements of <span class="RktVar">seq</span> to <span class="RktVar">trans</span> as inputs and uses the emitted outputs of <span class="RktVar">trans</span>
as the wrapper sequence&rsquo;s elements.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._into-transduced))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._into-transduced%29%29" class="RktValDef RktValLink" data-pltdoc="x">into-transduced</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktVar">red</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._reducer~3f%29%29" class="RktValLink" data-pltdoc="x">reducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">red</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._reducer~3f%29%29" class="RktValLink" data-pltdoc="x">reducer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Combines <span class="RktVar">red</span> with each <span class="RktVar">trans</span>, returning a new <a href="Reducers.html#%28tech._reducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">reducer</span></a>
that, when reducing a <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528tech._sequence%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">sequence</span></a>, first passes the elements
through the given chain of <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducers</span></a>. The outputs of the last <span class="RktVar">trans</span> are sent to <span class="RktVar">red</span> as inputs.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">into-first-ten-letters</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._into-transduced%29%29" class="RktValLink" data-pltdoc="x">into-transduced</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._filtering%29%29" class="RktValLink" data-pltdoc="x">filtering</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char-alphabetic%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">char-alphabetic?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._mapping%29%29" class="RktValLink" data-pltdoc="x">mapping</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char-downcase%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">char-downcase</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="RktValLink" data-pltdoc="x">taking</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"The quick brown fox"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym">into-first-ten-letters</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"thequickbr"</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Element-Transforming_Transducers&quot;">3.2.1<tt>&nbsp;</tt><a name="(part._.Element-.Transforming_.Transducers)"></a>Element-Transforming Transducers</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._mapping))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._mapping%29%29" class="RktValDef RktValLink" data-pltdoc="x">mapping</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that applies <span class="RktVar">f</span> to input elements and
emits the returned result downstream.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._mapping%29%29" class="RktValLink" data-pltdoc="x">mapping</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(1 4 9 16 25 36 49 64 81)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._append-mapping))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._append-mapping%29%29" class="RktValDef RktValLink" data-pltdoc="x">append-mapping</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._sequence%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sequence?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that applies <span class="RktVar">f</span> to input elements and
emits <span style="font-style: italic">each</span> element in the returned sequence downstream.</div></p><p>This is similar to Java&rsquo;s
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-"><span class="stt">Stream.flatMap</span></a>
method.</p><p><div class="SIntrapara"><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">red</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">green</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">blue</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._append-mapping%29%29" class="RktValLink" data-pltdoc="x">append-mapping</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Immutable_Strings.html#%28def._%28%28lib._rebellion%2Fbase%2Fimmutable-string..rkt%29._symbol-~3eimmutable-string%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;immutable-string</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"bluegreenred"</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">(transduce (list 3 1 2)
             (append-mapping (lambda (n) (in-range 0 n))
             #:into into-list))</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._folding))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._folding%29%29" class="RktValDef RktValLink" data-pltdoc="x">folding</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">init</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that folds over the input elements and emits the
current fold state after each element. Specifically, the transducer starts with
<span class="RktVar">init</span> as its state and, for each input element, applies <span class="RktVar">f</span> to
its current state and the input element returning the next state, which is also
sent downstream.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._folding%29%29" class="RktValLink" data-pltdoc="x">folding</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(1 3 6 10 15 21 28 36 45)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._batching))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._batching%29%29" class="RktValDef RktValLink" data-pltdoc="x">batching</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">batch-reducer</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">batch-reducer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._reducer~3f%29%29" class="RktValLink" data-pltdoc="x">reducer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that collects elements of the transduced
sequence into batches using <span class="RktVar">batch-reducer</span>. Elements are fed into
<span class="RktVar">batch-reducer</span> until it terminates the reduction, then the reduction
result is emitted downstream. If there are more elements remaining, then the
<span class="RktVar">batch-reducer</span> is restarted to prepare the next batch. When the
transduced sequence has no more elements, if the last batch is only partially
complete, then the <span class="RktVar">batch-reducer</span>&rsquo;s finisher is called to produce the
last batch.</div></p><p>If <span class="RktVar">batch-reducer</span> refuses to consume any elements and immediately
terminates the reduction every time it&rsquo;s started, then the returned transducer
raises <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span>.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._batching%29%29" class="RktValLink" data-pltdoc="x">batching</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._reducer-limit%29%29" class="RktValLink" data-pltdoc="x">reducer-limit</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((0 1 2 3) (4 5 6 7) (8 9))</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._windowing))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._windowing%29%29" class="RktValDef RktValLink" data-pltdoc="x">windowing</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">window-size</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktVar">window-reducer</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">window-size</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">window-reducer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._reducer~3f%29%29" class="RktValLink" data-pltdoc="x">reducer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that groups the elements of the transduced
sequence into sliding windows of size <span class="RktVar">window-size</span>. Each window
contains <span class="RktVar">window-size</span> elements that were adjacent in the original
sequence, and the window "slides" one element to the right at a time.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._windowing%29%29" class="RktValLink" data-pltdoc="x">windowing</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((1 2 3) (2 3 4) (3 4 5))</span></p></td></tr></table></blockquote></div></p><p>If <span class="RktVar">window-reducer</span> is provided, it is used to reduce each window. By
default each window&rsquo;s elements are collected into a list. Only full windows are
reduced and emitted downstream: if <span class="RktVar">window-reducer</span> finishes early for a
window, before consuming <span class="RktVar">window-size</span> elements, the reduction result is
not emitted downstream until after enough elements are consumed from the
transduced sequence to verify that the result corresponds to a full window.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._windowing%29%29" class="RktValLink" data-pltdoc="x">windowing</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("hel" "ell" "llo" "lo " "o w" " wo" "wor" "orl" "rld")</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._windowing%29%29" class="RktValLink" data-pltdoc="x">windowing</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-index-of%29%29" class="RktValLink" data-pltdoc="x">into-index-of</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#\w</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(list</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;absent&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;absent&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;absent&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;absent&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(present 2)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(present 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(present 0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;absent&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;absent&gt;)</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer..rkt)._enumerating))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerating%29%29" class="RktValDef RktValLink" data-pltdoc="x">enumerating</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer%2Fc%29%29" class="RktValLink" data-pltdoc="x">transducer/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated~3f%29%29" class="RktValLink" data-pltdoc="x">enumerated?</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A transducer that emits each element along with its position in the sequence,
as an <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated~3f%29%29" class="RktValLink" data-pltdoc="x">enumerated?</a></span> value.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cat"</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerating%29%29" class="RktValLink" data-pltdoc="x">enumerating</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(list</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(enumerated #:element #\c #:position 0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(enumerated #:element #\a #:position 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(enumerated #:element #\t #:position 2))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._enumerated~3f))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">enumerated?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._enumerated))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated%29%29" class="RktValDef RktValLink" data-pltdoc="x">enumerated</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:element</span><span class="hspace">&nbsp;</span><span class="RktVar">element</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:position</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated~3f%29%29" class="RktValLink" data-pltdoc="x">enumerated?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">element</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._enumerated-element))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated-element%29%29" class="RktValDef RktValLink" data-pltdoc="x">enumerated-element</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">enum</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">enum</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated~3f%29%29" class="RktValLink" data-pltdoc="x">enumerated?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._enumerated-position))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated-position%29%29" class="RktValDef RktValLink" data-pltdoc="x">enumerated-position</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">enum</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">enum</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerated~3f%29%29" class="RktValLink" data-pltdoc="x">enumerated?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Predicate, constructor, and accessors for the enumerated values emitted by the
<span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._enumerating%29%29" class="RktValLink" data-pltdoc="x">enumerating</a></span> transducer.</div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Element-Removing_Transducers&quot;">3.2.2<tt>&nbsp;</tt><a name="(part._.Element-.Removing_.Transducers)"></a>Element-Removing Transducers</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._filtering))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._filtering%29%29" class="RktValDef RktValLink" data-pltdoc="x">filtering</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pred</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pred</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._predicate%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">predicate/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that passes input elements downstream only when
they satisfy <span class="RktVar">pred</span>.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._filtering%29%29" class="RktValLink" data-pltdoc="x">filtering</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._even%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">even?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(2 4 6 8)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._taking))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="RktValDef RktValLink" data-pltdoc="x">taking</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">amount</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">amount</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that limits the upstream sequence to its first
<span class="RktVar">amount</span> elements. There is no buffering; each element is consumed and
emitted downstream before the next one is consumed.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="RktValLink" data-pltdoc="x">taking</a></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"hello"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._taking-while))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-while%29%29" class="RktValDef RktValLink" data-pltdoc="x">taking-while</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pred</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pred</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._predicate%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">predicate/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that terminates the upstream sequence as soon as
<span class="RktVar">pred</span> returns false for an element. Each element for which <span class="RktVar">pred</span> returns true is passed downstream.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"The quick brown fox"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-while%29%29" class="RktValLink" data-pltdoc="x">taking-while</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char-alphabetic%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">char-alphabetic?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"The"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._taking-maxima))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-maxima%29%29" class="RktValDef RktValLink" data-pltdoc="x">taking-maxima</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">comparator</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">comparator</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._comparator~3f%29%29" class="RktValLink" data-pltdoc="x">comparator?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._real~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">real&lt;=&gt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._taking-minima))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-minima%29%29" class="RktValDef RktValLink" data-pltdoc="x">taking-minima</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">comparator</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">comparator</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._comparator~3f%29%29" class="RktValLink" data-pltdoc="x">comparator?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._real~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">real&lt;=&gt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Constructs <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducers</span></a> that remove all elements from the sequence except
for the largest elements (called the <span class="emph">maxima</span>) or the smallest elements
(called the <span class="emph">minima</span>), respectively. If multiple values are tied for
largest or smallest, all of them are kept. The relative order of the maxima or
minima is preserved.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">512</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">512</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-maxima%29%29" class="RktValLink" data-pltdoc="x">taking-maxima</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(512 512)</span></p></td></tr></table></blockquote></div></p><p>Elements are compared using <span class="RktVar">comparator</span>. If <span class="RktVar">key-function</span> is
provided, then elements are not compared directly. Instead, a <span class="emph">key</span> is
extracted from each element using <span class="RktVar">key-function</span> and the keys of
elements are compared instead of the elements themselves.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cat"</span><span class="hspace">&nbsp;</span><span class="RktVal">"dog"</span><span class="hspace">&nbsp;</span><span class="RktVal">"zebra"</span><span class="hspace">&nbsp;</span><span class="RktVal">"horse"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-maxima%29%29" class="RktValLink" data-pltdoc="x">taking-maxima</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._string~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">string&lt;=&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("zebra")</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"red"</span><span class="hspace">&nbsp;</span><span class="RktVal">"yellow"</span><span class="hspace">&nbsp;</span><span class="RktVal">"blue"</span><span class="hspace">&nbsp;</span><span class="RktVal">"purple"</span><span class="hspace">&nbsp;</span><span class="RktVal">"green"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-maxima%29%29" class="RktValLink" data-pltdoc="x">taking-maxima</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("yellow" "purple")</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._taking-local-maxima))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-local-maxima%29%29" class="RktValDef RktValLink" data-pltdoc="x">taking-local-maxima</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">comparator</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">comparator</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._comparator~3f%29%29" class="RktValLink" data-pltdoc="x">comparator?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._real~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">real&lt;=&gt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._taking-local-minima))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-local-minima%29%29" class="RktValDef RktValLink" data-pltdoc="x">taking-local-minima</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">comparator</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">comparator</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._comparator~3f%29%29" class="RktValLink" data-pltdoc="x">comparator?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._real~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">real&lt;=&gt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Constructs <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducers</span></a> that remove all elements from the sequence except for the elements that
are larger than their neighbors (called the <span class="emph">local maxima</span>) or smaller than their neighbors
(called the <span class="emph">local minima</span>), respectively. If a subsequence of values are equivalent but larger
(or smaller) than the subsequence&rsquo;s neighbors, the last element of the subsequence is kept. The
relative order of the local maxima or minima is preserved.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-local-maxima%29%29" class="RktValLink" data-pltdoc="x">taking-local-maxima</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(8 7)</span></p></td></tr></table></blockquote></div></p><p>Elements are compared using <span class="RktVar">comparator</span>. If <span class="RktVar">key-function</span> is
provided, then elements are not compared directly. Instead, a <span class="emph">key</span> is
extracted from each element using <span class="RktVar">key-function</span> and the keys of
elements are compared instead of the elements themselves.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cat"</span><span class="hspace">&nbsp;</span><span class="RktVal">"dog"</span><span class="hspace">&nbsp;</span><span class="RktVal">"aardvark"</span><span class="hspace">&nbsp;</span><span class="RktVal">"zebra"</span><span class="hspace">&nbsp;</span><span class="RktVal">"horse"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-local-maxima%29%29" class="RktValLink" data-pltdoc="x">taking-local-maxima</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._string~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">string&lt;=&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("dog" "zebra")</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"long"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"longer"</span><span class="hspace">&nbsp;</span><span class="RktVal">"longest"</span><span class="hspace">&nbsp;</span><span class="RktVal">"c"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-local-maxima%29%29" class="RktValLink" data-pltdoc="x">taking-local-maxima</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("long" "longest")</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._taking-duplicates))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-duplicates%29%29" class="RktValDef RktValLink" data-pltdoc="x">taking-duplicates</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that keeps only the duplicate elements of the transduced sequence.
The first time an element occurs, it is removed from the sequence. Subsequent occurrences of that
element are emitted downstream.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-duplicates%29%29" class="RktValLink" data-pltdoc="x">taking-duplicates</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"lol"</span></p></td></tr></table></blockquote></div></p><p>If <span class="RktVar">key-function</span> is provided, then it is used to extract a key from each element and only
elements with duplicate keys are emitted downstream.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"red"</span><span class="hspace">&nbsp;</span><span class="RktVal">"yellow"</span><span class="hspace">&nbsp;</span><span class="RktVal">"blue"</span><span class="hspace">&nbsp;</span><span class="RktVal">"purple"</span><span class="hspace">&nbsp;</span><span class="RktVal">"green"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-duplicates%29%29" class="RktValLink" data-pltdoc="x">taking-duplicates</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("purple")</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._dropping))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._dropping%29%29" class="RktValDef RktValLink" data-pltdoc="x">dropping</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">amount</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">amount</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that removes the first <span class="RktVar">amount</span> elements
from the transduced sequence, then passes all remaining elements downstream.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._dropping%29%29" class="RktValLink" data-pltdoc="x">dropping</a></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">" world"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._dropping-while))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._dropping-while%29%29" class="RktValDef RktValLink" data-pltdoc="x">dropping-while</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pred</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pred</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._predicate%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">predicate/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that removes elements from the transduced
sequence until <span class="RktVar">pred</span> returns false for an element, then passes all
remaining elements downstream.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"The quick brown fox"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._dropping-while%29%29" class="RktValLink" data-pltdoc="x">dropping-while</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char-alphabetic%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">char-alphabetic?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">" quick brown fox"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._deduplicating))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating%29%29" class="RktValDef RktValLink" data-pltdoc="x">deduplicating</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that removes duplicate elements from the
transduced sequence. The relative order of unique elements is preserved.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello world!"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating%29%29" class="RktValLink" data-pltdoc="x">deduplicating</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Helo wrd!"</span></p></td></tr></table></blockquote></div></p><p>If <span class="RktVar">key-function</span> is provided, is is applied to each element and
uniqueness is based on the returned key value.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cat"</span><span class="hspace">&nbsp;</span><span class="RktVal">"dog"</span><span class="hspace">&nbsp;</span><span class="RktVal">"CAT"</span><span class="hspace">&nbsp;</span><span class="RktVal">"HORSE"</span><span class="hspace">&nbsp;</span><span class="RktVal">"horse"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating%29%29" class="RktValLink" data-pltdoc="x">deduplicating</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-foldcase%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-foldcase</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("cat" "dog" "HORSE")</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._deduplicating-consecutive))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating-consecutive%29%29" class="RktValDef RktValLink" data-pltdoc="x">deduplicating-consecutive</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that removes <span class="emph">consecutive</span> duplicate
elements from the transduced sequence. The relative order of retained elements
is preserved. If the input sequence is sorted, or if it merely has all
duplicates grouped together, then the constructed transducer behaves
equivalently to <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating%29%29" class="RktValLink" data-pltdoc="x">deduplicating</a></span> except it consumes a constant amount of
memory.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Mississippi"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating-consecutive%29%29" class="RktValLink" data-pltdoc="x">deduplicating-consecutive</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Misisipi"</span></p></td></tr></table></blockquote></div></p><p>If <span class="RktVar">key-function</span> is provided, it is applied to each element and
uniqueness is based on the returned key value.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cat"</span><span class="hspace">&nbsp;</span><span class="RktVal">"Cat"</span><span class="hspace">&nbsp;</span><span class="RktVal">"CAT"</span><span class="hspace">&nbsp;</span><span class="RktVal">"dog"</span><span class="hspace">&nbsp;</span><span class="RktVal">"HORSE"</span><span class="hspace">&nbsp;</span><span class="RktVal">"horse"</span><span class="hspace">&nbsp;</span><span class="RktVal">"Dog"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._deduplicating-consecutive%29%29" class="RktValLink" data-pltdoc="x">deduplicating-consecutive</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-foldcase%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-foldcase</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("cat" "dog" "HORSE" "Dog")</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Element-Rearranging_Transducers&quot;">3.2.3<tt>&nbsp;</tt><a name="(part._.Element-.Rearranging_.Transducers)"></a>Element-Rearranging Transducers</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._sorting))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._sorting%29%29" class="RktValDef RktValLink" data-pltdoc="x">sorting</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">comparator</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-function</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:descending?</span><span class="hspace">&nbsp;</span><span class="RktVar">descending?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">comparator</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._comparator~3f%29%29" class="RktValLink" data-pltdoc="x">comparator?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._real~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">real&lt;=&gt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">descending?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that sorts elements in ascending order according
to <span class="RktVar">comparator</span>. The sort is <span class="emph">stable</span>; the relative order of
equivalent elements is preserved. If <span class="RktVar">descending?</span> is true, the elements
are sorted in descending order instead of ascending order.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._sorting%29%29" class="RktValLink" data-pltdoc="x">sorting</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(1 2 3 4 5)</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"the"</span><span class="hspace">&nbsp;</span><span class="RktVal">"quick"</span><span class="hspace">&nbsp;</span><span class="RktVal">"brown"</span><span class="hspace">&nbsp;</span><span class="RktVal">"fox"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._sorting%29%29" class="RktValLink" data-pltdoc="x">sorting</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Comparators.html#%28def._%28%28lib._rebellion%2Fbase%2Fcomparator..rkt%29._string~3c~3d~3e%29%29" class="RktValLink" data-pltdoc="x">string&lt;=&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("brown" "fox" "quick" "the")</span></p></td></tr></table></blockquote></div></p><p>If <span class="RktVar">key-function</span> is provided, it is applied to each element and the
result is tested with <span class="RktVar">comparator</span> rather than the element itself.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="Record_Types.html#%28form._%28%28lib._rebellion%2Ftype%2Frecord..rkt%29._define-record-type%29%29" class="RktStxLink" data-pltdoc="x">define-record-type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">gem</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">kind</span><span class="hspace">&nbsp;</span><span class="RktSym">weight</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">gems</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">gem</span><span class="hspace">&nbsp;</span><span class="RktPn">#:kind</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ruby</span><span class="hspace">&nbsp;</span><span class="RktPn">#:weight</span><span class="hspace">&nbsp;</span><span class="RktVal">17</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">gem</span><span class="hspace">&nbsp;</span><span class="RktPn">#:kind</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sapphire</span><span class="hspace">&nbsp;</span><span class="RktPn">#:weight</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">gem</span><span class="hspace">&nbsp;</span><span class="RktPn">#:kind</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">emerald</span><span class="hspace">&nbsp;</span><span class="RktPn">#:weight</span><span class="hspace">&nbsp;</span><span class="RktVal">13</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">gem</span><span class="hspace">&nbsp;</span><span class="RktPn">#:kind</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">topaz</span><span class="hspace">&nbsp;</span><span class="RktPn">#:weight</span><span class="hspace">&nbsp;</span><span class="RktVal">17</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktSym">gems</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._sorting%29%29" class="RktValLink" data-pltdoc="x">sorting</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym">gem-weight</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(list</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'sapphire #:weight 9)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'emerald #:weight 13)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'ruby #:weight 17)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'topaz #:weight 17))</span></p></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktSym">gems</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._sorting%29%29" class="RktValLink" data-pltdoc="x">sorting</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym">gem-weight</span><span class="hspace">&nbsp;</span><span class="RktPn">#:descending?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(list</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'ruby #:weight 17)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'topaz #:weight 17)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'emerald #:weight 13)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(gem #:kind 'sapphire #:weight 9))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transposing))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transposing%29%29" class="RktValDef RktValLink" data-pltdoc="x">transposing</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktVar">column-reducer</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:ordered?</span><span class="hspace">&nbsp;</span><span class="RktVar">preserve-column-order?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer%2Fc%29%29" class="RktValLink" data-pltdoc="x">transducer/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fsequence..rkt%2529._sequence%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sequence/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">column-reducer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._reducer~3f%29%29" class="RktValLink" data-pltdoc="x">reducer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">preserve-column-order?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#true</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that transforms a sequence of rows (where each row can be any
single-element sequence) into a sequence of columns, using <span class="RktVar">column-reducer</span> to build each
column. All of the row sequences must have the same length, or else a contract error is raised.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transposing%29%29" class="RktValLink" data-pltdoc="x">transposing</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((1 4 7) (2 5 8) (3 6 9))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"abc"</span><span class="hspace">&nbsp;</span><span class="RktVal">"xyz"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transposing%29%29" class="RktValLink" data-pltdoc="x">transposing</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-string%29%29" class="RktValLink" data-pltdoc="x">into-string</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("ax" "by" "cz")</span></p></td></tr></table></blockquote></div></p><p>If <span class="RktVar">column-reducer</span> finishes early while building a column, that column may be sent downstream
before additional rows are consumed. If <span class="RktVar">preserve-column-order?</span> is true, a column is only
sent downstream once all columns to the left of it have been sent downstream. If
<span class="RktVar">preserve-column-order?</span> is false, columns are sent downstream as soon as they&rsquo;re ready. In
either case, if all columns finish early the transducer stops consuming input rows from upstream.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">into-list-while-positive</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._into-transduced%29%29" class="RktValLink" data-pltdoc="x">into-transduced</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-while%29%29" class="RktValLink" data-pltdoc="x">taking-while</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rows</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rows</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transposing%29%29" class="RktValLink" data-pltdoc="x">transposing</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym">into-list-while-positive</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((1 1) (2) (3 3 3))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rows</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transposing%29%29" class="RktValLink" data-pltdoc="x">transposing</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym">into-list-while-positive</span><span class="hspace">&nbsp;</span><span class="RktPn">#:ordered?</span><span class="hspace">&nbsp;</span><span class="RktVal">#false</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((2) (1 1) (3 3 3))</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Transducer_Composition&quot;">3.2.4<tt>&nbsp;</tt><a name="(part._.Transducer_.Composition)"></a>Transducer Composition</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transducer-pipe))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-pipe%29%29" class="RktValDef RktValLink" data-pltdoc="x">transducer-pipe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Composes each <span class="RktVar">trans</span> into the next, returning a single <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a>. When the returned transducer is used with <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span>, it
has the same behavior as using all of the given transducers in series. That is,
<span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="stt"> </span><span class="RktVar">seq</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-pipe%29%29" class="RktValLink" data-pltdoc="x">transducer-pipe</a></span><span class="stt"> </span><span class="RktVar">trans</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">#:into</span><span class="stt"> </span><span class="RktVar">red</span><span class="RktPn">)</span> always has
the same result as <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="stt"> </span><span class="RktVar">seq</span><span class="stt"> </span><span class="RktVar">trans</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="stt"> </span><span class="RktPn">#:into</span><span class="stt"> </span><span class="RktVar">red</span><span class="RktPn">)</span>.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-naturals%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-naturals</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-pipe%29%29" class="RktValLink" data-pltdoc="x">transducer-pipe</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._filtering%29%29" class="RktValLink" data-pltdoc="x">filtering</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._even%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">even?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="RktValLink" data-pltdoc="x">taking</a></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(0 2 4 6 8)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transducer-compose))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-compose%29%29" class="RktValDef RktValLink" data-pltdoc="x">transducer-compose</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trans</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-pipe%29%29" class="RktValLink" data-pltdoc="x">transducer-pipe</a></span>, but in right-to-left order instead of
left-to-right order. This matches the behavior of the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._compose%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">compose</a></span> and
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._compose1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">compose1</a></span> functions, but right-to-left ordered composition is not
recommended. Left-to-right composition with <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-pipe%29%29" class="RktValLink" data-pltdoc="x">transducer-pipe</a></span> should be
preferred instead as it is far more readable and aligns with the order in which
transducers are given to <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span>.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-naturals%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-naturals</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-compose%29%29" class="RktValLink" data-pltdoc="x">transducer-compose</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._filtering%29%29" class="RktValLink" data-pltdoc="x">filtering</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._even%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">even?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="RktValLink" data-pltdoc="x">taking</a></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(0 2 4)</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;The_Transduction_Protocol&quot;">3.2.5<tt>&nbsp;</tt><a name="(part._.The_.Transduction_.Protocol)"></a>The Transduction Protocol</h5><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._make-transducer))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._make-transducer%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-transducer</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:starter</span><span class="hspace">&nbsp;</span><span class="RktVar">starter</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:consumer</span><span class="hspace">&nbsp;</span><span class="RktVar">consumer</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:emitter</span><span class="hspace">&nbsp;</span><span class="RktVar">emitter</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:half-closer</span><span class="hspace">&nbsp;</span><span class="RktVar">half-closer</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:half-closed-emitter</span><span class="hspace">&nbsp;</span><span class="RktVar">half-closed-emitter</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:finisher</span><span class="hspace">&nbsp;</span><span class="RktVar">finisher</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">starter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduction-state%2Fc%29%29" class="RktValLink" data-pltdoc="x">transduction-state/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">consumer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduction-state%2Fc%29%29" class="RktValLink" data-pltdoc="x">transduction-state/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">emitter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission~3f%29%29" class="RktValLink" data-pltdoc="x">emission?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">half-closer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-transduction-state%2Fc%29%29" class="RktValLink" data-pltdoc="x">half-closed-transduction-state/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">half-closed-emitter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission~3f%29%29" class="RktValLink" data-pltdoc="x">half-closed-emission?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">finisher</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Symbols.html#%28def._%28%28lib._rebellion%2Fbase%2Fsymbol..rkt%29._interned-symbol~3f%29%29" class="RktValLink" data-pltdoc="x">interned-symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transduction-state/c))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduction-state%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">transduction-state/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="Variants.html#%28def._%28%28lib._rebellion%2Fbase%2Fvariant..rkt%29._variant%2Fc%29%29" class="RktValLink" data-pltdoc="x">variant/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:consume</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:emit</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:half-closed-emit</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:finish</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer..rkt)._half-closed-transduction-state/c))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-transduction-state%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-transduction-state/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="Variants.html#%28def._%28%28lib._rebellion%2Fbase%2Fvariant..rkt%29._variant%2Fc%29%29" class="RktValLink" data-pltdoc="x">variant/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:half-closed-emit</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:finish</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._emission~3f))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">emission?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._emission))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission%29%29" class="RktValDef RktValLink" data-pltdoc="x">emission</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission~3f%29%29" class="RktValLink" data-pltdoc="x">emission?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduction-state%2Fc%29%29" class="RktValLink" data-pltdoc="x">transduction-state/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._emission-state))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission-state%29%29" class="RktValDef RktValLink" data-pltdoc="x">emission-state</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">em</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduction-state%2Fc%29%29" class="RktValLink" data-pltdoc="x">transduction-state/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">em</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission~3f%29%29" class="RktValLink" data-pltdoc="x">emission?</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._emission-value))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">emission-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">em</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">em</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._emission~3f%29%29" class="RktValLink" data-pltdoc="x">emission?</a></span></td></tr></table></blockquote></div></p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._half-closed-emission~3f))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-emission?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._half-closed-emission))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-emission</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission~3f%29%29" class="RktValLink" data-pltdoc="x">half-closed-emission?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-transduction-state%2Fc%29%29" class="RktValLink" data-pltdoc="x">half-closed-transduction-state/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._half-closed-emission-state))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission-state%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-emission-state</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">em</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-transduction-state%2Fc%29%29" class="RktValLink" data-pltdoc="x">half-closed-transduction-state/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">em</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission~3f%29%29" class="RktValLink" data-pltdoc="x">half-closed-emission?</a></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._half-closed-emission-value))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-emission-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">em</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">em</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._half-closed-emission~3f%29%29" class="RktValLink" data-pltdoc="x">half-closed-emission?</a></span></td></tr></table></blockquote><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Transducer_Contracts&quot;">3.2.6<tt>&nbsp;</tt><a name="(part._.Transducer_.Contracts)"></a>Transducer Contracts</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transducer/c))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">transducer/c</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">domain-contract</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">range-contract</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">domain-contract</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">range-contract</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contracts.html%23%2528tech._contract._combinator%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">contract combinator</span></a> for <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducers</span></a>. Returns a
contract that enforces that the contracted value is a transducer and wraps the
transducer to enforce <span class="RktVar">domain-contract</span> and <span class="RktVar">range-contract</span>.
Every consumed element is checked with <span class="RktVar">domain-contract</span>, and every
emitted element is checked with <span class="RktVar">range-contract</span>. If both <span class="RktVar">domain-contract</span> and <span class="RktVar">range-contract</span> are <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contracts.html%23%2528tech._chaperone._contract%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">chaperone
contracts</span></a>, then the returned contract is as well.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=attaching-contracts-to-values.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fregion..rkt%2529._define%252Fcontract%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktSym">squaring</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer%2Fc%29%29" class="RktValLink" data-pltdoc="x">transducer/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._mapping%29%29" class="RktValLink" data-pltdoc="x">mapping</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">squaring</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 4 9 16)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"abcd"</span><span class="hspace">&nbsp;</span><span class="RktSym">squaring</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">squaring: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: number?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #\a</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: an element consumed by</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(transducer/c number? number?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: (definition squaring)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: eval:2:0</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Transducer_Chaperones_and_Impersonators&quot;">3.2.7<tt>&nbsp;</tt><a name="(part._.Transducer_.Chaperones_and_.Impersonators)"></a>Transducer Chaperones and Impersonators</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._transducer-impersonate))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-impersonate%29%29" class="RktValDef RktValLink" data-pltdoc="x">transducer-impersonate</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">transducer</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:domain-guard</span><span class="hspace">&nbsp;</span><span class="RktVar">domain-guard</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:range-guard</span><span class="hspace">&nbsp;</span><span class="RktVar">range-guard</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktVar">properties</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:chaperone?</span><span class="hspace">&nbsp;</span><span class="RktVar">chaperone?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transducer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">domain-guard</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">range-guard</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">properties</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fhash..rkt%2529._hash%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=chaperones.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._impersonator-property%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">impersonator-property?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:immutable</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="Hash_Tables.html#%28def._%28%28lib._rebellion%2Fcollection%2Fhash..rkt%29._empty-hash%29%29" class="RktValLink" data-pltdoc="x">empty-hash</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">chaperone?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528lib._racket%252Fbool..rkt%2529._false%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">domain-guard</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528lib._racket%252Fbool..rkt%2529._false%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">range-guard</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns an <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=chaperones.html%23%2528tech._impersonator%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">impersonator</span></a> of <span class="RktVar">transducer</span>. Whenever the
impersonating transducer is used to transduce a sequence, <span class="RktVar">domain-guard</span>
is applied to each element it consumes and <span class="RktVar">range-guard</span> is applied to
each element it emits. Either of <span class="RktVar">domain-guard</span> or <span class="RktVar">range-guard</span>
may be skipped by providing <span class="RktVal">#f</span> (the default). All of the
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=chaperones.html%23%2528tech._impersonator._property%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">impersonator properties</span></a> in <span class="RktVar">properties</span> are attached to
the returned impersonator.</div></p><p>If <span class="RktVar">chaperone?</span> is true, then the returned impersonator is a
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=chaperones.html%23%2528tech._chaperone%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">chaperone</span></a>. In that case, both <span class="RktVar">domain-guard</span> and
<span class="RktVar">range-guard</span> must always return values equal to whatever they&rsquo;re given.
Additionally, if a returned value is an impersonator, it must also be a
chaperone.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">print-domain</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Consuming ~a\n"</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">print-range</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Emitting ~a\n"</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">summing/printing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer-impersonate%29%29" class="RktValLink" data-pltdoc="x">transducer-impersonate</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._folding%29%29" class="RktValLink" data-pltdoc="x">folding</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:domain-guard</span><span class="hspace">&nbsp;</span><span class="RktSym">print-domain</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:range-guard</span><span class="hspace">&nbsp;</span><span class="RktSym">print-range</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">summing/printing</span><span class="hspace">&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">Consuming 1</span></p></td></tr><tr><td><p><span class="RktOut">Emitting 1</span></p></td></tr><tr><td><p><span class="RktOut">Consuming 2</span></p></td></tr><tr><td><p><span class="RktOut">Emitting 3</span></p></td></tr><tr><td><p><span class="RktOut">Consuming 3</span></p></td></tr><tr><td><p><span class="RktOut">Emitting 6</span></p></td></tr><tr><td><p><span class="RktOut">Consuming 4</span></p></td></tr><tr><td><p><span class="RktOut">Emitting 10</span></p></td></tr><tr><td><p><span class="RktOut">Consuming 5</span></p></td></tr><tr><td><p><span class="RktOut">Emitting 15</span></p></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(1 3 6 10 15)</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Debugging_Transducers&quot;">3.2.8<tt>&nbsp;</tt><a name="(part._.Debugging_.Transducers)"></a>Debugging Transducers</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer..rkt)._peeking))"></a><span title="Provided from: rebellion/streaming/transducer | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._peeking%29%29" class="RktValDef RktValLink" data-pltdoc="x">peeking</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">handler</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">handler</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that calls <span class="RktVar">handler</span> on each element for
its side effects. Elements are emitted immediately after <span class="RktVar">handler</span> is
called on them, so if an element is never consumed downstream then <span class="RktVar">handler</span> won&rsquo;t be called on any later elements.</div></p><p>This function is intended mostly for debugging, as <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._peeking%29%29" class="RktValLink" data-pltdoc="x">peeking</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="RktPn">)</span>
can be inserted into a transduction pipeline to investigate what elements are
consumed in that part of the pipeline.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">apple</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._peeking%29%29" class="RktValLink" data-pltdoc="x">peeking</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking-while%29%29" class="RktValLink" data-pltdoc="x">taking-while</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Reducers.html#%28def._%28%28lib._rebellion%2Fstreaming%2Freducer..rkt%29._into-sum%29%29" class="RktValLink" data-pltdoc="x">into-sum</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">1</span></p></td></tr><tr><td><p><span class="RktOut">2</span></p></td></tr><tr><td><p><span class="RktOut">3</span></p></td></tr><tr><td><p><span class="RktOut">apple</span></p></td></tr></table></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;rebellion/main.scrbl&quot;)" x-source-pkg="rebellion" x-part-tag="&quot;Testing_Transducers&quot;">3.2.9<tt>&nbsp;</tt><a name="(part._.Testing_.Transducers)"></a><a name="(mod-path._rebellion/streaming/transducer/testing)"></a>Testing Transducers</h5><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._rebellion%2Fstreaming%2Ftransducer%2Ftesting%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">rebellion/streaming/transducer/testing</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/rebellion" title="Install this package using `raco pkg install rebellion`"><span class="stt">rebellion</span></a></span></td></tr></table></p><p>This module provides utilities for testing <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducers</span></a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._observing-transduction-events))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._observing-transduction-events%29%29" class="RktValDef RktValLink" data-pltdoc="x">observing-transduction-events</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">subject</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer%2Fc%29%29" class="RktValLink" data-pltdoc="x">transducer/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">subject</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transducer~3f%29%29" class="RktValLink" data-pltdoc="x">transducer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> that passes consumed values to <span class="RktVar">subject</span>,
then emits <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span> structures describing the state
transitions that <span class="RktVar">subject</span> performs, including any consumed or emitted
values. This is mostly useful when testing transducers, as the emitted events
can be gathered into a list and asserted against.</div></p><p>The first emitted event is always <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._start-event%29%29" class="RktValLink" data-pltdoc="x">start-event</a></span> and the last one is
always <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._finish-event%29%29" class="RktValLink" data-pltdoc="x">finish-event</a></span>. A <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-close-event%29%29" class="RktValLink" data-pltdoc="x">half-close-event</a></span> is emitted if
<span class="RktVar">subject</span> was half-closed, which means the upstream sequence ran out of
elements while <span class="RktVar">subject</span> was trying to consume one.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-naturals%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-naturals</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._observing-transduction-events%29%29" class="RktValLink" data-pltdoc="x">observing-transduction-events</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="RktValLink" data-pltdoc="x">taking</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(list</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;start-event&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(consume-event 0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(emit-event 0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(consume-event 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(emit-event 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(consume-event 2)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(half-closed-emit-event 2)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;finish-event&gt;)</span></p></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._transduce%29%29" class="RktValLink" data-pltdoc="x">transduce</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._observing-transduction-events%29%29" class="RktValLink" data-pltdoc="x">observing-transduction-events</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer..rkt%29._taking%29%29" class="RktValLink" data-pltdoc="x">taking</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:into</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Lists.html#%28def._%28%28lib._rebellion%2Fcollection%2Flist..rkt%29._into-list%29%29" class="RktValLink" data-pltdoc="x">into-list</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(list</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;start-event&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(consume-event 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(emit-event 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(consume-event 2)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">(emit-event 2)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;half-close-event&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">#&lt;finish-event&gt;)</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._transduction-event~3f))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">transduction-event?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A predicate that identifiers transducer events, which are emitted by <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._observing-transduction-events%29%29" class="RktValLink" data-pltdoc="x">observing-transduction-events</a></span> to describe the behavior of a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._start-event))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._start-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">start-event</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._half-close-event))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-close-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-close-event</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._finish-event))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._finish-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">finish-event</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Constants representing a <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> starting, half-closing, or
finishing, respectively.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._consume-event~3f))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">consume-event?</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._predicate%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">predicate/c</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._consume-event))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">consume-event</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event~3f%29%29" class="RktValLink" data-pltdoc="x">consume-event?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._consume-event-value))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">consume-event-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">event</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">event</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event~3f%29%29" class="RktValLink" data-pltdoc="x">consume-event?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Predicate, constructor, and accessor for transducer events representing a
<a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> consuming a value. The consumed value is wrapped by the
event. Every <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._consume-event~3f%29%29" class="RktValLink" data-pltdoc="x">consume-event?</a></span> is a <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._emit-event~3f))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">emit-event?</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._predicate%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">predicate/c</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._emit-event))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">emit-event</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event~3f%29%29" class="RktValLink" data-pltdoc="x">emit-event?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._emit-event-value))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">emit-event-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">event</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">event</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event~3f%29%29" class="RktValLink" data-pltdoc="x">emit-event?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Predicate, constructor, and accessor for transducer events representing a
<a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> emitting a value. The emitted value is wrapped by the event.
Every <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._emit-event~3f%29%29" class="RktValLink" data-pltdoc="x">emit-event?</a></span> is a <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._half-closed-emit-event~3f))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-emit-event?</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._predicate%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">predicate/c</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._half-closed-emit-event))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-emit-event</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event~3f%29%29" class="RktValLink" data-pltdoc="x">half-closed-emit-event?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rebellion/streaming/transducer/testing..rkt)._half-closed-emit-event-value))"></a><span title="Provided from: rebellion/streaming/transducer/testing | Package: rebellion"><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">half-closed-emit-event-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">event</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">event</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event~3f%29%29" class="RktValLink" data-pltdoc="x">half-closed-emit-event?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Predicate, constructor, and accessor for transducer events representing a
half-closed <a href="#%28tech._transducer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transducer</span></a> emitting a value. The emitted value is wrapped by
the event. Every <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._half-closed-emit-event~3f%29%29" class="RktValLink" data-pltdoc="x">half-closed-emit-event?</a></span> is a <span class="RktSym"><a href="#%28def._%28%28lib._rebellion%2Fstreaming%2Ftransducer%2Ftesting..rkt%29._transduction-event~3f%29%29" class="RktValLink" data-pltdoc="x">transduction-event?</a></span>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Reducers.html" title="backward to &quot;3.1 Reducers&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Streaming_Computations.html" title="up to &quot;3 Streaming Computations&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Collections.html" title="forward to &quot;4 Collections&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/rebellion/Transducers.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:25:31 GMT -->
</html>