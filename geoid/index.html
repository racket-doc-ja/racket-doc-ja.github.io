<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/geoid/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:00:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>geoid -- Efficient storage and queriying of geographic data</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#" class="tocviewselflink" data-pltdoc="x">geoid &ndash; Efficient storage and queriying of geographic data</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Converting_to_and_from_.Latitude_.Longitude%29" class="tocviewlink" data-pltdoc="x">Converting to and from Latitude/<span class="mywbr"> &nbsp;</span>Longitude</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Storing_and_.Retrieving_from_a_.S.Q.Lite_database%29" class="tocviewlink" data-pltdoc="x">Storing and Retrieving from a SQLite database</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Generating_.Test_.Data%29" class="tocviewlink" data-pltdoc="x">Generating Test Data</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.A.P.I_.Documentation%29" class="tocviewlink" data-pltdoc="x">API Documentation</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Waypoint_.Alignment%29" class="tocviewlink" data-pltdoc="x">Waypoint Alignment</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.Region_.Tiling%29" class="tocviewlink" data-pltdoc="x">Region Tiling</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._.Geodesy_.Calculations%29" class="tocviewlink" data-pltdoc="x">Geodesy Calculations</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">geoid &ndash; Efficient storage and queriying of geographic data</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Converting_to_and_from_.Latitude_.Longitude%29" class="tocsubseclink" data-pltdoc="x">Converting to and from Latitude/<span class="mywbr"> &nbsp;</span>Longitude</a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._lat-lng-~3egeoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lat-<wbr></wbr>lng-<wbr></wbr>&gt;geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-~3elat-lng%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">geoid-<wbr></wbr>&gt;lat-<wbr></wbr>lng</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._lat-lng-rect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lat-<wbr></wbr>lng-<wbr></wbr>rect</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Storing_and_.Retrieving_from_a_.S.Q.Lite_database%29" class="tocsubseclink" data-pltdoc="x">Storing and Retrieving from a SQLite database</a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-~3esqlite-integer%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">geoid-<wbr></wbr>&gt;sqlite-<wbr></wbr>integer</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._sqlite-integer-~3egeoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sqlite-<wbr></wbr>integer-<wbr></wbr>&gt;geoid</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Generating_.Test_.Data%29" class="tocsubseclink" data-pltdoc="x">Generating Test Data</a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._random-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">random-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-outline%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">leaf-<wbr></wbr>outline</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.A.P.I_.Documentation%29" class="tocsubseclink" data-pltdoc="x">API Documentation</a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._first-valid-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">first-<wbr></wbr>valid-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._last-valid-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">last-<wbr></wbr>valid-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._sentinel-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sentinel-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._valid-geoid~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">valid-<wbr></wbr>geoid?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-level%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">geoid-<wbr></wbr>level</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-stride%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">geoid-<wbr></wbr>stride</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._enclosing-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">enclosing-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._split-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">split-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-geoid~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">leaf-<wbr></wbr>geoid?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">leaf-<wbr></wbr>span</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">leaf-<wbr></wbr>span*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._contains-geoid~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">contains-<wbr></wbr>geoid?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-corners%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">leaf-<wbr></wbr>corners</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._adjacent-geoids%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">adjacent-<wbr></wbr>geoids</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._approximate-area-for-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">approximate-<wbr></wbr>area-<wbr></wbr>for-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._approximate-area-for-level%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">approximate-<wbr></wbr>area-<wbr></wbr>for-<wbr></wbr>level</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._distance-between-geoids%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">distance-<wbr></wbr>between-<wbr></wbr>geoids</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._distance-from-geoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">distance-<wbr></wbr>from-<wbr></wbr>geoid</span></span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Waypoint_.Alignment%29" class="tocsubseclink" data-pltdoc="x">Waypoint Alignment</a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fwaypoint-alignment..rkt%29._waypoint-alignment-cost%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">waypoint-<wbr></wbr>alignment-<wbr></wbr>cost</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Region_.Tiling%29" class="tocsubseclink" data-pltdoc="x">Region Tiling</a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">region%</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._make-spherical-cap%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>spherical-<wbr></wbr>cap</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._make-open-polyline%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>open-<wbr></wbr>polyline</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._make-closed-polyline%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>closed-<wbr></wbr>polyline</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._join-regions%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">join-<wbr></wbr>regions</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._intersect-regions%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">intersect-<wbr></wbr>regions</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._subtract-regions%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">subtract-<wbr></wbr>regions</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._guess-winding-order%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">guess-<wbr></wbr>winding-<wbr></wbr>order</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._geoid-tiling-for-region%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">geoid-<wbr></wbr>tiling-<wbr></wbr>for-<wbr></wbr>region</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._coarse-geoid-tiling-for-region%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">coarse-<wbr></wbr>geoid-<wbr></wbr>tiling-<wbr></wbr>for-<wbr></wbr>region</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._refine-geoid-tiling-for-region%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">refine-<wbr></wbr>geoid-<wbr></wbr>tiling-<wbr></wbr>for-<wbr></wbr>region</span></span></a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.Geodesy_.Calculations%29" class="tocsubseclink" data-pltdoc="x">Geodesy Calculations</a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ellipsoid?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._make-ellipsoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>ellipsoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._wgs84%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">wgs84</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">geodesy-<wbr></wbr>angle-<wbr></wbr>mode</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">geodesy-<wbr></wbr>ellipsoid</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._distance-between%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">distance-<wbr></wbr>between</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._initial-bearing%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">initial-<wbr></wbr>bearing</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._final-bearing%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">final-<wbr></wbr>bearing</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._destination-point%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">destination-<wbr></wbr>point</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._midway-point%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">midway-<wbr></wbr>point</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._geoid_--_.Efficient_storage_and_queriying_of_geographic_data)"></a><a name="(mod-path._geoid)"></a>geoid &ndash; Efficient storage and queriying of geographic data</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Alex Hars&#225;nyi</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">geoid</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/geoid" title="Install this package using `raco pkg install geoid`"><span class="stt">geoid</span></a></span></td></tr></table></p><p>The <span class="RktSym">geoid</span> library allows representing latidude/longitude coordinates
using 64-bit integers.  The integer values are ordered to preseve locality,
which means that these IDs can be stored in databases and used to query and
efficiently retrieve locations which are in a geographic region.</p><p>This library is inspired by the <a href="http://s2geometry.io/">S2
Geometry</a> library, in the sense that the integer IDs are determined in the
same way.  Until this libary has its own introduction section, you can read
<a href="http://s2geometry.io/devguide/s2cell_hierarchy">S2 Cell
Hierarchy</a> to understand how geoids work.  What this library calls geoids, are
called cells by the S2 libary.</p><p>Also, while inspired by the S2 library, this Racket module is an independent
implementation that does not generate compatible IDs and does not aim to have
the same API and functionality as that library.</p><ul><li><p>A geoid is a 64 bit integer between <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._first-valid-geoid%29%29" class="RktValLink" data-pltdoc="x">first-valid-geoid</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._last-valid-geoid%29%29" class="RktValLink" data-pltdoc="x">last-valid-geoid</a></span>.  In particular, <span class="RktVal">0</span> is not a valid
geoid (they actualy start at <span class="RktVal">1</span>)</p></li><li><p>Geoids which are close together represent geographic locations which are
close together, but the reverse is not true: there are geographic
locations which are close together, but their geoids are very different</p></li><li><p>The projection method, while not uniform accross the globe, it only has
a small distortion and there are no singularities anywhere, including at
the poles</p></li><li><p>Geoids split the earth surface at different levels: the highest level is
level <span class="RktVal">30</span>, where the earch surface is split into 6 faces.  At
each lower level, the geoids are split into four, for example at level
<span class="RktVal">29</span>, each of the 6 faces are split into four, producing 24 total
geois.  The subdivision goes on until level <span class="RktVal">0</span> is reached.  At
level <span class="RktVal">0</span>, each geoid represents a patch of earth of
approximately 0.7 cm<span style="vertical-align: super; font-size: 80%">2</span>.</p></li></ul><h3 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;Converting_to_and_from_Latitude_Longitude&quot;">1<tt>&nbsp;</tt><a name="(part._.Converting_to_and_from_.Latitude_.Longitude)"></a>Converting to and from Latitude/Longitude</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._lat-lng-~3egeoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._lat-lng-~3egeoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">lat-lng-&gt;geoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lat</span><span class="hspace">&nbsp;</span><span class="RktVar">lng</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:level</span><span class="hspace">&nbsp;</span><span class="RktVar">level</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lng</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._geoid-~3elat-lng))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-~3elat-lng%29%29" class="RktValDef RktValLink" data-pltdoc="x">geoid-&gt;lat-lng</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Convert a geographic coordinate (latidude, longitude) to and from a geoid.
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._lat-lng-~3egeoid%29%29" class="RktValLink" data-pltdoc="x">lat-lng-&gt;geoid</a></span> will return a geoid at the specified <span class="RktVar">level</span>
of precision, by default at the highest level of precision, level
<span class="RktVal">0</span>. <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-~3elat-lng%29%29" class="RktValLink" data-pltdoc="x">geoid-&gt;lat-lng</a></span> will accept geoids at any level of
precision.</div></p><p><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-~3elat-lng%29%29" class="RktValLink" data-pltdoc="x">geoid-&gt;lat-lng</a></span> will return the latitude/longitude coordinates
corresponding to the center of the geoid and this will introduce an error in
the conversion from latitude/longitude to geoid and back.  For geoids at
level <span class="RktVal">0</span>, emprirical testing showed this to be less than 9.75
millimeters, which is sufficient for the type of applications intended for
this libary.  Note that this error is not constant accross the globe, and
9.75 millimeters is the maximum error seen.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._lat-lng-rect))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._lat-lng-rect%29%29" class="RktValDef RktValLink" data-pltdoc="x">lat-lng-rect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the latitude / longitude rectangle which encloses the <span class="RktVar">geoid</span>.
The four values returned are: minimum latitude, minimum longitude, maximum
latitude, maximum longitude.  The bounds are slightly extended, to ensure
all leaf geoids are inside the bounding box.</div></p><p>The bounding box encloses the <span class="RktVar">geoid</span> minimally, but geoids and
bounding boxes don&rsquo;t overlap exactly, so the bounding box will always be
bigger than then <span class="RktVar">geoid</span> and there will be other geoids which are
inside the bounding box, but not in the geoid.</p><h3 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;Storing_and_Retrieving_from_a_SQLite_database&quot;">2<tt>&nbsp;</tt><a name="(part._.Storing_and_.Retrieving_from_a_.S.Q.Lite_database)"></a>Storing and Retrieving from a SQLite database</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._geoid-~3esqlite-integer))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-~3esqlite-integer%29%29" class="RktValDef RktValLink" data-pltdoc="x">geoid-&gt;sqlite-integer</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._sqlite-integer-~3egeoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._sqlite-integer-~3egeoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">sqlite-integer-&gt;geoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Convert a <span class="RktVar">geoid</span> into an integer suitable for storage into a SQLite
database, or convert an integer stored in the database back into a geoid.</div></p><p>Geoids are unsigned 64 bit values, and more than half of them have the
highest bit set.  SQLite will store numbers as signed 64 bits and convert
unsigned 64 bit numbers greater than the maximum signed 64 bit value to
floating point numbers, loosing precision.  This means that geoids cannot be
stored directly into a SQLite database.</p><p>These pair of functions subtract 2<span style="vertical-align: super; font-size: 80%">63</span> from the geoid (or add
that value back) to make sure the value is stored correctly.  The ordering
of the geoids is preserved, so they can still be used to index geograpic
information.</p><h3 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;Generating_Test_Data&quot;">3<tt>&nbsp;</tt><a name="(part._.Generating_.Test_.Data)"></a>Generating Test Data</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._random-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._random-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">random-geoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">level</span><span class="hspace">&nbsp;</span><span class="RktPn">#:parent</span><span class="hspace">&nbsp;</span><span class="RktVar">parent</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parent</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">exact-integer</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Generate a random geoid at the specified <span class="RktVar">level</span>.  If <span class="RktVar">parent</span>
is specified, the level has to be lower (mode detailed) than the
<span class="RktVar">parent</span> and a geoid which is inside the <span class="RktVar">parent</span> will be
generated.</div></p><p>This function is intended to generate geoids for unit tests.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._leaf-outline))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-outline%29%29" class="RktValDef RktValLink" data-pltdoc="x">leaf-outline</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">geoid</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:steps</span><span class="hspace">&nbsp;</span><span class="RktVar">steps</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:closed?</span><span class="hspace">&nbsp;</span><span class="RktVar">closed?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">steps</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">10</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">closed?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Return a sequence of leaf geoids representing the outline of <span class="RktVar">geoid</span>.
This can be used to obtain the outline of a geoid to display on a map.</div></p><p><span class="RktVar">steps</span> specifies the number of geoids ot put on each side of the
rectangle, while <span class="RktVar">closed?</span> specifies if the first geoid should be
duplicated as the last element in the list, to close the loop.</p><p>As with <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-corners%29%29" class="RktValLink" data-pltdoc="x">leaf-corners</a></span>, geoids are placed in counter-clockwise order,
but there is no guarantee about the start corner of the loop.</p><h3 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;API_Documentation&quot;">4<tt>&nbsp;</tt><a name="(part._.A.P.I_.Documentation)"></a>API Documentation</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._first-valid-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._first-valid-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">first-valid-geoid</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._last-valid-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._last-valid-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">last-valid-geoid</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the first and last valid integers that represent geoids.  All
integers between these two numbers are valid geoids, but they can be at
different levels.  Note that <span class="RktVal">0</span> is not a valid geoid.</div></p><p>See <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-stride%29%29" class="RktValLink" data-pltdoc="x">geoid-stride</a></span> to determine the amount to add to a geoid to
obtain the next geoid at the same level.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._sentinel-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._sentinel-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">sentinel-geoid</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns an integer which is one bigger than the largest valid geoid (as
returned by <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._last-valid-geoid%29%29" class="RktValLink" data-pltdoc="x">last-valid-geoid</a></span>).  The returned value is not a valid
geoid.</div></p><p>This can be used to create half-open geoid ranges, for example by
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%29%29" class="RktValLink" data-pltdoc="x">leaf-span</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._valid-geoid~3f))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._valid-geoid~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">valid-geoid?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return true if <span class="RktVar">geoid</span> is a valid geoid.  This is the same as testing
that the <span class="RktVar">geoid</span> is between <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._first-valid-geoid%29%29" class="RktValLink" data-pltdoc="x">first-valid-geoid</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._last-valid-geoid%29%29" class="RktValLink" data-pltdoc="x">last-valid-geoid</a></span>, but shorter to type.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._geoid-level))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-level%29%29" class="RktValDef RktValLink" data-pltdoc="x">geoid-level</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._integer-in%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the level of this geoid &ndash; geoids can represent areas at increasing
level of detail.  The highest resolution is at level <span class="RktVal">0</span>, and going
up, geoids become 4 times bigger at each level.  Level <span class="RktVal">30</span> is the
top level, where the entire Earth surface is divided into <span class="RktVal">6</span> faces.</div></p><p>Geoids produced by <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._lat-lng-~3egeoid%29%29" class="RktValLink" data-pltdoc="x">lat-lng-&gt;geoid</a></span> are at level <span class="RktVal">0</span> and you
can use <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._enclosing-geoid%29%29" class="RktValLink" data-pltdoc="x">enclosing-geoid</a></span> to obtain a geoid at a higher level.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._geoid-stride))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-stride%29%29" class="RktValDef RktValLink" data-pltdoc="x">geoid-stride</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the integer step that must be added to a geoid to obtain another
geoid at the same level.  This can be used to generate valid geoids in
sequence.  Note that the geoids at the highest resolution (level <span class="RktVal">2</span>)
have a stride of <span class="RktVal">2</span>, so you cannot simply incremenet geoids.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._enclosing-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._enclosing-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">enclosing-geoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span><span class="RktVar">level</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._integer-in%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return the geoid at <span class="RktVar">level</span> that contains the specified
<span class="RktVar">geoid</span>.  This function can be used to obtain the geoid at a lower
resolution which contains a given point or geoid.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._split-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._split-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">split-geoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._list%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the four geoids at the lower level into which the current
<span class="RktVar">geoid</span> can be split.  An error is raised, if the supplied geoid is a
leaf geoid, at level <span class="RktVal">0</span>.</div></p><p>The returned geoids are not in any particular order.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._leaf-geoid~3f))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-geoid~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">leaf-geoid?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return <span class="RktVal">#t</span> if <span class="RktVar">geoid</span> is a geoid at level 0 (highest level of
detail).  This is equivalent to checking if <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-level%29%29" class="RktValLink" data-pltdoc="x">geoid-level</a></span> returns
<span class="RktVal">0</span>, but faster.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._leaf-span))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%29%29" class="RktValDef RktValLink" data-pltdoc="x">leaf-span</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the half-open geoid range that are valid geoids contained in
<span class="RktVar">geoid</span>.  The first value is the smallest leaf geoid which is inside
this <span class="RktVar">geoid</span>, the second value is either the smallest leaf geoid
which is <span style="font-weight: bold">not</span> part of <span class="RktVar">geoid</span>, or the <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._sentinel-geoid%29%29" class="RktValLink" data-pltdoc="x">sentinel-geoid</a></span>,
whichever is smaller.</div></p><p>All geoids which are inside this geoid, regardless of level, are contained
in the returned number range, so this range can be used to check if any
geoid is inside this one.</p><p>The leaf span returned by this function can be used to search for geoids in
an SQL query, however, if you do that, make sure you adjust them, as noted
in the SQLite section above.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._leaf-span*))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">leaf-span*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoids</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list-of</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoids</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list-of</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return a list of half open geoid ranges which define the valid geoids
contained in all the geoids from <span class="RktVar">geoids</span> list.  This is equivalent
to calling <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%29%29" class="RktValLink" data-pltdoc="x">leaf-span</a></span> for each individual geoid in <span class="RktVar">geoids</span>
and merging all the adjacent ranges together.</div></p><p>This function can be used to create more efficient queries if a geoid is
inside a list of geoids.  A common use case is to use
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._adjacent-geoids%29%29" class="RktValLink" data-pltdoc="x">adjacent-geoids</a></span> to obtain the neighbours of a geoid and using
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%2A%29%29" class="RktValLink" data-pltdoc="x">leaf-span*</a></span> to find the ranges for all geoids in this neighbourhood.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._contains-geoid~3f))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._contains-geoid~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">contains-geoid?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">this-geoid</span><span class="hspace">&nbsp;</span><span class="RktVar">other-geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">this-geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">other-geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return true if the <span class="RktVar">other-geoid</span> is geographically inside
<span class="RktVar">this-geoid</span>.</div></p><p>This a convenient function, but if you need to check lots of geoids, this
will be slower than obtainging the <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-span%29%29" class="RktValLink" data-pltdoc="x">leaf-span</a></span> of <span class="RktVar">this-geoid</span>
and checking of other geoids are inside the returned range.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._leaf-corners))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._leaf-corners%29%29" class="RktValDef RktValLink" data-pltdoc="x">leaf-corners</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._list%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the four leaf geoids which represent the corners of this
<span class="RktVar">geoid</span>.  The corners are returned in couter-clockwise order, but
there is no guarante of which one is first (i.e. there is no guarantee that
the list will start with the top-left corner)</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._adjacent-geoids))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._adjacent-geoids%29%29" class="RktValDef RktValLink" data-pltdoc="x">adjacent-geoids</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list-of</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the adjacent geoids which border <span class="RktVar">geoid</span>.  The returned geoids
will be at the same level as <span class="RktSym">geoids</span>.</div></p><p>Normally, 8 geoids are returned, but only 7 are returned if <span class="RktVar">geoid</span>
is in a corner of a face and only 4 geoids if it is a face level geoid.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._approximate-area-for-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._approximate-area-for-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">approximate-area-for-geoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">geoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._approximate-area-for-level))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._approximate-area-for-level%29%29" class="RktValDef RktValLink" data-pltdoc="x">approximate-area-for-level</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">level</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._between%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">between/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return the approximate area, in square meters, of <span class="RktVar">geoid</span> or
<span class="RktVar">level</span>.  The area is calculated by dividing the earth surface by the
number of geoids at that level and it is approximate because there will be
geoids with smaller area and larger area than this at each level.</div></p><p>These functions can be used to get a general idea of the surface covered by
a geoid.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._distance-between-geoids))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._distance-between-geoids%29%29" class="RktValDef RktValLink" data-pltdoc="x">distance-between-geoids</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">g1</span><span class="hspace">&nbsp;</span><span class="RktVar">g2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">g1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">g2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the distance, in meters, on the Earth surface between the center of
geoids <span class="RktVar">g1</span> and <span class="RktVar">g2</span>.  For leaf geoids this is a good
appoximation for the distance between the locations represented by these
geoids, since the size of a leaf geoid is approximately 8.5 millimeters.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/main..rkt)._distance-from-geoid))"></a><span title="Provided from: geoid | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._distance-from-geoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">distance-from-geoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">g</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">g</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return a function which can be used to calculate the distance on the Earth
surface between the geoid <span class="RktVar">g</span> and another geoid.  The returned
function will accept a single geoid as an argument and will return the
distance between that geoid and <span class="RktVar">g</span>.</div></p><p>If you need to calculate the distance between a single geoid and several
others, it might be faster to use this function to construct a "distance
function".</p><h3 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;Waypoint_Alignment&quot;">5<tt>&nbsp;</tt><a name="(part._.Waypoint_.Alignment)"></a><a name="(mod-path._geoid/waypoint-alignment)"></a>Waypoint Alignment</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._geoid%2Fwaypoint-alignment%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">geoid/waypoint-alignment</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/geoid" title="Install this package using `raco pkg install geoid`"><span class="stt">geoid</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/waypoint-alignment..rkt)._waypoint-alignment-cost))"></a><span title="Provided from: geoid/waypoint-alignment | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fwaypoint-alignment..rkt%29._waypoint-alignment-cost%29%29" class="RktValDef RktValLink" data-pltdoc="x">waypoint-alignment-cost</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path1</span><span class="hspace">&nbsp;</span><span class="RktVar">path2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fvector..rkt%2529._vectorof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vectorof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fvector..rkt%2529._vectorof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vectorof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return a number representing how similar <span class="RktVar">path1</span> is to
<span class="RktVar">path2</span>.  Both paths are vector of integers representing geoids.</div></p><p>A smaller cost indicates that the two paths are more similar.  Ideally, the
cost of a path against itself should be zero, but, due to floating point
errors, this is a small positive number.</p><p>This function returns the
<a href="https://en.wikipedia.org/wiki/Dynamic_time_warping">Dynamic
Time Warping</a> cost of the two paths.</p><p><span style="font-weight: bold">NOTE</span>: the alignment cost will depend not only on how close the two
paths are to each other, but also on the length of the paths, so it is up to
the caller of the funtion to decide how to interpret the resulting cost and
determine if the two paths are the same or not.</p><h3 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;Region_Tiling&quot;">6<tt>&nbsp;</tt><a name="(part._.Region_.Tiling)"></a><a name="(mod-path._geoid/tiling)"></a>Region Tiling</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._geoid%2Ftiling%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">geoid/tiling</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/geoid" title="Install this package using `raco pkg install geoid`"><span class="stt">geoid</span></a></span></td></tr></table></p><p>The <span class="RktSym">geoid/tiling</span> module contains functions to calculate geoid
coverings for regions covering the earth surface.  A geoid covering is a list
of geoids which are inside a region.  This functionality can be used to
implement fast region containment tests for geographic data.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>class</p></div></div><p class="RForeground"><a name="(def._((lib._geoid/tiling..rkt)._region~25))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValDef RktValLink" data-pltdoc="x">region%</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=objectutils.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._class%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">class?</a></span></p></blockquote></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span>superclass:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=createclass.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._object%7E25%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">object%</a></span></p></td></tr></table></div><div class="SIntrapara">Region objects define a region on the earth surface and are used for tiling,
but otherwise they are opaque objects.</div><div class="SIntrapara"><blockquote class="leftindent"></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._make-spherical-cap))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._make-spherical-cap%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-spherical-cap</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lat</span><span class="hspace">&nbsp;</span><span class="RktVar">lon</span><span class="hspace">&nbsp;</span><span class="RktVar">radius</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">radius</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Create a <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span> which is a circle around the
<span class="RktVar">lat</span>/<span class="RktVar">lon</span> point, where <span class="RktVar">radius</span> specifies the radius
of the circle, in meters.  The circle extends around the sphere representing
Earth, thus the name "spherical cap".</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._make-open-polyline))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._make-open-polyline%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-open-polyline</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">track</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">track</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span> representing the lines connecting lat/lon points
in <span class="RktVar">track</span>.</div></p><p>This is not strictly a "region", but sometimes it is useful to determine the
geoid covering for a stretch of road, and this can be done by defining the
road as a sequence of points and tiling it with geoids.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._make-closed-polyline))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._make-closed-polyline%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-closed-polyline</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">track</span><span class="hspace">&nbsp;</span><span class="RktPn">#:ccw?</span><span class="hspace">&nbsp;</span><span class="RktVar">ccw?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">track</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ccw?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span> representing the inside region defined by the
lines connecting lat/lon points in <span class="RktVar">track</span>.</div></p><p>On a sphere (which the geoid library uses as a model for Earth), each closed
list of points defines two regions, since the entire sphere surface is
finite.  The simplest way to visualize this is with a sequence of points
along the Earths equator, which defines two regions: the northen hemisphere
and the southern hemisphere.  The <span class="RktVar">ccw?</span> parameter specifies which
region is the "inside" region defined by the <span class="RktVar">track</span>: when
<span class="RktVar">ccw?</span> is <span class="RktVal">#t</span>, the inside is the region which has the points
in the counter-clockwise order, or to the left of the segments defined by
the points as we go around the <span class="RktVar">track</span>.</p><p>See also <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._guess-winding-order%29%29" class="RktValLink" data-pltdoc="x">guess-winding-order</a></span> for determining the winding order of a
sequence of points.</p><p>The closed polyline defined by <span class="RktVar">track</span> cannot have segments that
intersect each other.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._join-regions))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._join-regions%29%29" class="RktValDef RktValLink" data-pltdoc="x">join-regions</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a new region which is the union of the regions passed in as input.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._intersect-regions))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._intersect-regions%29%29" class="RktValDef RktValLink" data-pltdoc="x">intersect-regions</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a new region which is the intersection of the regions passed in as
input.</div></p><p>This function can be used to define regions from GeoJSON "polygon with
holes" inputs &ndash; since the inner polygons have oposite winding order from
the outer polygon, they can be created with the same winding order as the
outer one, thus defining the opposite, or outer region, and intersecting
them with the outer region.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._subtract-regions))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._subtract-regions%29%29" class="RktValDef RktValLink" data-pltdoc="x">subtract-regions</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r1</span><span class="hspace">&nbsp;</span><span class="RktVar">r2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a region containg the points which are inside <span class="RktVar">r1</span> but not
inside <span class="RktVar">r2</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._guess-winding-order))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._guess-winding-order%29%29" class="RktValDef RktValLink" data-pltdoc="x">guess-winding-order</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">track</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">cw</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ccw</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">track</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Guess the winding order (clockwise or counter-clockwise) for the polygon
defined by <span class="RktVar">track</span>, which is a list of latitude/longitude points. The
guess works for "usual" polygons which are much smaller than a hemisphere
and assumes that the "inside" is the smaller part.</div></p><p>Regions deifned in GeoJSON objects don&rsquo;t specify a winding order, so this
function can be used to determine the winding order of polygons inside
GeoJSON objects, which can be passed on to <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._make-closed-polyline%29%29" class="RktValLink" data-pltdoc="x">make-closed-polyline</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._geoid-tiling-for-region))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._geoid-tiling-for-region%29%29" class="RktValDef RktValLink" data-pltdoc="x">geoid-tiling-for-region</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">r</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">min-level</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">max-level</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">min-level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return a list of geoids which cover the region <span class="RktVar">r</span>.  The region is
covered with geoids of level <span class="RktVar">max-level</span> first, than refined along
the region borders with geoids down to <span class="RktVar">min-level</span>.</div></p><p>See <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-level%29%29" class="RktValLink" data-pltdoc="x">geoid-level</a></span> for a discution on the geoid levels.</p><p>This function calls <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._coarse-geoid-tiling-for-region%29%29" class="RktValLink" data-pltdoc="x">coarse-geoid-tiling-for-region</a></span> than
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._refine-geoid-tiling-for-region%29%29" class="RktValLink" data-pltdoc="x">refine-geoid-tiling-for-region</a></span> for each geoid which intersects the
region, and returns all the geoids in a single list.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._coarse-geoid-tiling-for-region))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._coarse-geoid-tiling-for-region%29%29" class="RktValDef RktValLink" data-pltdoc="x">coarse-geoid-tiling-for-region</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktVar">level</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return two lists of geoids at <span class="RktVar">level</span> which cover the region
<span class="RktVar">r</span>.  All geoids will be the same level.  The first list are all the
geoids which are entirely inside the region <span class="RktVar">r</span>, while the second
list contains all the geoids which intersect the region.</div></p><p>See <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-level%29%29" class="RktValLink" data-pltdoc="x">geoid-level</a></span> for a discution on the geoid levels.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/tiling..rkt)._refine-geoid-tiling-for-region))"></a><span title="Provided from: geoid/tiling | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._refine-geoid-tiling-for-region%29%29" class="RktValDef RktValLink" data-pltdoc="x">refine-geoid-tiling-for-region</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">r</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">geoid</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">min-level</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Ftiling..rkt%29._region~25%29%29" class="RktValLink" data-pltdoc="x">region%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">geoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">min-level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return a list of geoids which cover the region <span class="RktVar">r</span> up to
<span class="RktVar">min-level</span> obtained by recursively splitting the input
<span class="RktVar">geoid</span>.</div></p><p>See <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fmain..rkt%29._geoid-level%29%29" class="RktValLink" data-pltdoc="x">geoid-level</a></span> for a discution on the geoid levels.</p><h3 x-source-module="(lib &quot;geoid/scribblings/geoid.scrbl&quot;)" x-source-pkg="geoid" x-part-tag="&quot;Geodesy_Calculations&quot;">7<tt>&nbsp;</tt><a name="(part._.Geodesy_.Calculations)"></a><a name="(mod-path._geoid/geodesy)"></a>Geodesy Calculations</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._geoid%2Fgeodesy%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">geoid/geodesy</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/geoid" title="Install this package using `raco pkg install geoid`"><span class="stt">geoid</span></a></span></td></tr></table></p><p>The <span class="RktSym">geoid/geodesy</span> module contains functions to calculate distances
and bearings between points on the Earth surface.  Two calculation modes are
provided: one that approximates Earth as an ellipsoid, by default
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._wgs84%29%29" class="RktValLink" data-pltdoc="x">wgs84</a></span>, which is the model used by the GPS satelites, and another
which approximates the Earth as a sphere.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._ellipsoid~3f))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">ellipsoid?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return <span class="RktVal">#t</span> if <span class="RktVar">e</span> is an ellipsoid created by
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._make-ellipsoid%29%29" class="RktValLink" data-pltdoc="x">make-ellipsoid</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._make-ellipsoid))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._make-ellipsoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-ellipsoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">major</span><span class="hspace">&nbsp;</span><span class="RktVar">minor</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">major</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">minor</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Create an ellipsoid with the <span class="RktVar">major</span> and <span class="RktVar">minor</span> semi-axes.
Ellipsoids can be used as values for <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span> or to
individual functions in this module.  The <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._wgs84%29%29" class="RktValLink" data-pltdoc="x">wgs84</a></span> ellipsoid, used by
the GPS satelites, is already defined in this module and it is the default.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._geoid/geodesy..rkt)._wgs84))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._wgs84%29%29" class="RktValDef RktValLink" data-pltdoc="x">wgs84</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">WGS84</a>
ellipsoid.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._geodesy-angle-mode))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">geodesy-angle-mode</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">degrees</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">radians</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">geodesy-angle-mode</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mode</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mode</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">degrees</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">radians</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">degrees</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A parameter that specifies the type of angles which are passed to the
functions in this module as well as the type of angle which are returned for
bearings.  Valid values are <span class="RktVal">'</span><span class="RktVal">degees</span>, which means that latitude,
longitudes are in degrees or <span class="RktVal">'</span><span class="RktVal">radians</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._geodesy-ellipsoid))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValDef RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ellipsoid</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ellipsoid</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._wgs84%29%29" class="RktValLink" data-pltdoc="x">wgs84</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A parameter that specifies the ellipsoid to use for the calculations by the
functions in this module.  By default, the <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._wgs84%29%29" class="RktValLink" data-pltdoc="x">wgs84</a></span> ellipsoid is used
and a value of <span class="RktVal">#f</span> means that the calculations are done assuming a
sperical Earth model.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._distance-between))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._distance-between%29%29" class="RktValDef RktValLink" data-pltdoc="x">distance-between</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:angle-mode</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:ellipsoid</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">degrees</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">radians</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="RktValLink" data-pltdoc="x">geodesy-angle-mode</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return the distance between two points on Earth along the great circle,
which is the shortest distance.  The points are identified by latitude and
longitude, which are angles.</div></p><p><span class="RktVar">m</span> specifies if the latitude and longitude angles are specified in
degrees or radians, while <span class="RktVar">e</span> specifies the ellipsoid to use for the
calculation. If <span class="RktVar">e</span> is <span class="RktVal">#f</span>, the calculation is done assuming
Earth is a sphere.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._initial-bearing))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._initial-bearing%29%29" class="RktValDef RktValLink" data-pltdoc="x">initial-bearing</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:angle-mode</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:ellipsoid</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">degrees</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">radians</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="RktValLink" data-pltdoc="x">geodesy-angle-mode</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return the initial bearing for traveling between two points on Earth along
the great circle.  The points are identified by latitude and longitude,
which are angles and the bearning is also an angle, where <span class="RktVal">0</span> is the
North direction and the angle moves clockwise.</div></p><p>Note that, when traveling along a great circle the bearing will not remain
constant.</p><p>The <span class="RktVar">m</span> and <span class="RktVar">e</span> parameters are the same as for
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._distance-between%29%29" class="RktValLink" data-pltdoc="x">distance-between</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._final-bearing))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._final-bearing%29%29" class="RktValDef RktValLink" data-pltdoc="x">final-bearing</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:angle-mode</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:ellipsoid</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">degrees</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">radians</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="RktValLink" data-pltdoc="x">geodesy-angle-mode</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Similar to <span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._initial-bearing%29%29" class="RktValLink" data-pltdoc="x">initial-bearing</a></span>, but return the final bearing for
traveling between two points on Earth along the great circle.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._destination-point))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._destination-point%29%29" class="RktValDef RktValLink" data-pltdoc="x">destination-point</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">bearing</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">distance</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:angle-mode</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:ellipsoid</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bearing</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">distance</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">degrees</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">radians</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="RktValLink" data-pltdoc="x">geodesy-angle-mode</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return the destination point for traveling from the point <span class="RktVar">lat</span>,
<span class="RktVar">lon</span> along a great circle with an initial <span class="RktVar">bearing</span> for a
given <span class="RktVar">distance</span>.</div></p><p>The <span class="RktVar">m</span> and <span class="RktVar">e</span> parameters are the same as for
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._distance-between%29%29" class="RktValLink" data-pltdoc="x">distance-between</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._geoid/geodesy..rkt)._midway-point))"></a><span title="Provided from: geoid/geodesy | Package: geoid"><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._midway-point%29%29" class="RktValDef RktValLink" data-pltdoc="x">midway-point</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lat2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lon2</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:angle-mode</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:ellipsoid</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lat2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lon2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">degrees</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">radians</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-angle-mode%29%29" class="RktValLink" data-pltdoc="x">geodesy-angle-mode</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._ellipsoid~3f%29%29" class="RktValLink" data-pltdoc="x">ellipsoid?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._geodesy-ellipsoid%29%29" class="RktValLink" data-pltdoc="x">geodesy-ellipsoid</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Return the latitude/longitude point that it half-way between the points
<span class="RktVar">lat1</span>, <span class="RktVar">lon1</span> and <span class="RktVar">lat2</span>, <span class="RktVar">lon2</span>, along the
great circle arc, that is along the shorted distance path between the two
points.</div></p><p>The <span class="RktVar">m</span> and <span class="RktVar">e</span> parameters are the same as for
<span class="RktSym"><a href="#%28def._%28%28lib._geoid%2Fgeodesy..rkt%29._distance-between%29%29" class="RktValLink" data-pltdoc="x">distance-between</a></span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/geoid/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:00:44 GMT -->
</html>