<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/aws/All_Services.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;All Services</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Amazon Web Services</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Introduction.html" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">All Services</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="S3__Storage_.html" class="tocviewlink" data-pltdoc="x">S3 (Storage)</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="DynamoDB.html" class="tocviewlink" data-pltdoc="x">Dynamo<span class="mywbr"> &nbsp;</span>DB (Database)</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="SimpleDB__Database_.html" class="tocviewlink" data-pltdoc="x">Simple<span class="mywbr"> &nbsp;</span>DB (Database)</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="SES__Email_.html" class="tocviewlink" data-pltdoc="x">SES (Email)</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="SNS__Notifications_.html" class="tocviewlink" data-pltdoc="x">SNS (Notifications)</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="SQS__Queues_.html" class="tocviewlink" data-pltdoc="x">SQS (Queues)</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Route_53__DNS_.html" class="tocviewlink" data-pltdoc="x">Route 53 (DNS)</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="CloudWatch__Monitoring_.html" class="tocviewlink" data-pltdoc="x">Cloud<span class="mywbr"> &nbsp;</span>Watch (Monitoring)</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Glacier__Archives_.html" class="tocviewlink" data-pltdoc="x">Glacier (Archives)</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Utilities.html" class="tocviewlink" data-pltdoc="x">Utilities</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Unit_tests.html" class="tocviewlink" data-pltdoc="x">Unit tests</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="License.html" class="tocviewlink" data-pltdoc="x">License</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">All Services</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Names%29" class="tocviewlink" data-pltdoc="x">Names</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._.A.W.S_.Keys%29" class="tocviewlink" data-pltdoc="x">AWS Keys</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Request_authorization%29" class="tocviewlink" data-pltdoc="x">Request authorization</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._.Exception_handling%29" class="tocviewlink" data-pltdoc="x">Exception handling</a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="#%28part._.Connection_pooling%29" class="tocviewlink" data-pltdoc="x">Connection pooling</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Names%29" class="tocsubseclink" data-pltdoc="x">Names</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.A.W.S_.Keys%29" class="tocsubseclink" data-pltdoc="x">AWS Keys</a></td></tr><tr><td><span class="tocsublinknumber">2.2.1<tt>&nbsp;</tt></span><a href="#%28part._credential-parameters%29" class="tocsubseclink" data-pltdoc="x">Credential Parameters</a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">public-<wbr></wbr>key</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">private-<wbr></wbr>key</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._security-token%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">security-<wbr></wbr>token</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.2<tt>&nbsp;</tt></span><a href="#%28part._initialization%29" class="tocsubseclink" data-pltdoc="x">Initialization</a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">credentials-<wbr></wbr>from-<wbr></wbr>file!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-credentials%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">aws-<wbr></wbr>cli-<wbr></wbr>credentials</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-profile%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">aws-<wbr></wbr>cli-<wbr></wbr>profile</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">credentials-<wbr></wbr>from-<wbr></wbr>environment!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">credentials-<wbr></wbr>from-<wbr></wbr>ec2-<wbr></wbr>instance!</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Deprecated%29" class="tocsubseclink" data-pltdoc="x">Deprecated</a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>keys</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._ensure-have-keys%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ensure-<wbr></wbr>have-<wbr></wbr>keys</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%2Faws-cli%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>keys/<span class="mywbr"> &nbsp;</span>aws-<wbr></wbr>cli</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._use-iam-ec2-credentials%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">use-<wbr></wbr>iam-<wbr></wbr>ec2-<wbr></wbr>credentials!</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Request_authorization%29" class="tocsubseclink" data-pltdoc="x">Request authorization</a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fsigv4..rkt%29._add-v4-auth-heads%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>v4-<wbr></wbr>auth-<wbr></wbr>heads</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Exception_handling%29" class="tocsubseclink" data-pltdoc="x">Exception handling</a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>aws</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._header~26response-~3eexn~3afail~3aaws%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">header&amp;response-<wbr></wbr>&gt;exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>aws</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._check-response%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">check-<wbr></wbr>response</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.5<tt>&nbsp;</tt></span><a href="#%28part._.Connection_pooling%29" class="tocsubseclink" data-pltdoc="x">Connection pooling</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Introduction.html" title="backward to &quot;1 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Amazon Web Services&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="S3__Storage_.html" title="forward to &quot;3 S3 (Storage)&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;All_Services&quot;">2<tt>&nbsp;</tt><a name="(part._.All_.Services)"></a>All Services</h3><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Names&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Names)"></a>Names</h4><p>The names of procedures and structs generally do not have special
prefixes. Use the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._prefix-in%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">prefix-in</a></span> option for <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span> if
you prefer a prefix (or need one to avoid a name collision).</p><p>For example if you want the <span class="RktSym">aws/sns</span> procedures to have an <span class="RktSym">sns-</span>
prefix, so that <span class="RktSym"><a href="SNS__Notifications_.html#%28def._%28%28lib._aws%2Fsns..rkt%29._create-topic%29%29" class="RktValLink" data-pltdoc="x">create-topic</a></span> is renamed to <span class="RktSym">sns-create-topic</span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._prefix-in%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">prefix-in</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sns-</span><span class="hspace">&nbsp;</span><span class="RktSym">aws/sns</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">sns-create-topic</span><span class="hspace">&nbsp;</span><span class="RktVal">"foobar"</span><span class="RktPn">)</span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;AWS_Keys&quot;">2.2<tt>&nbsp;</tt><a name="(part._.A.W.S_.Keys)"></a><a name="(mod-path._aws/keys)"></a>AWS Keys</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._aws%2Fkeys%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">aws/keys</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/aws" title="Install this package using `raco pkg install aws`"><span class="stt">aws</span></a></span></td></tr></table></p><h5 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;credential-parameters&quot;">2.2.1<tt>&nbsp;</tt><a name="(part._credential-parameters)"></a>Credential Parameters</h5><p>Various parameters are used by <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fsigv4..rkt%29._add-v4-auth-heads%29%29" class="RktValLink" data-pltdoc="x">add-v4-auth-heads</a></span> to add
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">Authorization</span><span class="hspace"></span></span> and sometimes <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X-Amz-Security-Token</span><span class="hspace"></span></span>
headers to requests.</p><p>Although you may set these directly, see <a href="#%28part._initialization%29" data-pltdoc="x">Initialization</a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._public-key))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">public-key</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">public-key</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">""</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Your AWS public key. AWS documentation often calls this the &ldquo;Access
Key ID.&rdquo;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._private-key))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">private-key</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">private-key</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">""</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Your AWS private key. AWS documention often calls this the &ldquo;Secret
Access Key.&rdquo;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._security-token))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._security-token%29%29" class="RktValDef RktValLink" data-pltdoc="x">security-token</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._security-token%29%29" class="RktValDef RktValLink" data-pltdoc="x">security-token</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">token</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">When this parameter is a non-<span class="RktVal">#f</span> value, an
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">X-Amz-Security-Token</span><span class="hspace"></span></span> header with the value is added to
requests. AWS documentation often calls this the &ldquo;session token&rdquo;.</div></p><p class="SHistory">Added in version 1.15 of package <span class="stt">aws</span>.</p><h5 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;initialization&quot;">2.2.2<tt>&nbsp;</tt><a name="(part._initialization)"></a>Initialization</h5><p>The source of credentials depends on where your code is running. This
package provides functions to initialize the
<a href="#%28part._credential-parameters%29" data-pltdoc="x">Credential Parameters</a> for various scenarios:</p><blockquote><table cellspacing="0" cellpadding="0" class="boxed" style="border-collapse: collapse;"><tr><td style="border-bottom: 1px solid black;"><p><span style="font-style: italic">Credentials source</span></p></td><td style="border-bottom: 1px solid black;"><p><span style="font-style: italic">Example</span></p></td><td style="border-bottom: 1px solid black;"><p><span style="font-style: italic">Use</span></p></td></tr><tr><td><p>AWS CLI configuration file</p></td><td><p>Your PC</p></td><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-file!</a></span></p></td></tr><tr><td><p>Environment variables</p></td><td><p>AWS Lambda</p></td><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-environment!</a></span></p></td></tr><tr><td><p>EC2 instance metadata</p></td><td><p>AWS EC2</p></td><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._credentials-from-file!))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">credentials-from-file!</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._aws-cli-credentials))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-credentials%29%29" class="RktValDef RktValLink" data-pltdoc="x">aws-cli-credentials</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-credentials%29%29" class="RktValDef RktValLink" data-pltdoc="x">aws-cli-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=envvars.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._getenv%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">getenv</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"AWS_SHARED_CREDENTIALS_FILE"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._build-path%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">build-path</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Filesystem.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._find-system-path%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">find-system-path</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">home-dir</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">".aws"</span><span class="hspace">&nbsp;</span><span class="RktVal">"credentials"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._aws-cli-profile))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-profile%29%29" class="RktValDef RktValLink" data-pltdoc="x">aws-cli-profile</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-profile%29%29" class="RktValDef RktValLink" data-pltdoc="x">aws-cli-profile</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=envvars.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._getenv%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">getenv</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"AWS_DEFAULT_PROFILE"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"default"</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Set <a href="#%28part._credential-parameters%29" data-pltdoc="x">Credential Parameters</a> by reading their values from the
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-profile%29%29" class="RktValLink" data-pltdoc="x">aws-cli-profile</a></span> section of the <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._aws-cli-credentials%29%29" class="RktValLink" data-pltdoc="x">aws-cli-credentials</a></span>
file used by the AWS CLI tools:</div></p><blockquote><table cellspacing="0" cellpadding="0" class="boxed" style="border-collapse: collapse;"><tr><td style="border-bottom: 1px solid black;"><p><span style="font-style: italic">Parameter</span></p></td><td style="border-bottom: 1px solid black;"><p><span style="font-style: italic">Configuration file item</span></p></td></tr><tr><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValLink" data-pltdoc="x">public-key</a></span></p></td><td><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">aws_access_key_id</span><span class="hspace"></span></span></p></td></tr><tr><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValLink" data-pltdoc="x">private-key</a></span></p></td><td><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">aws_secret_access_key</span><span class="hspace"></span></span></p></td></tr></table></blockquote><p class="SHistory">Added in version 1.15 of package <span class="stt">aws</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._credentials-from-environment!))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">credentials-from-environment!</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Set <a href="#%28part._credential-parameters%29" data-pltdoc="x">Credential Parameters</a> from environment variables as set
by AWS Lambda:</div></p><blockquote><table cellspacing="0" cellpadding="0" class="boxed" style="border-collapse: collapse;"><tr><td style="border-bottom: 1px solid black;"><p><span style="font-style: italic">Parameter</span></p></td><td style="border-bottom: 1px solid black;"><p><span style="font-style: italic">Environment variable</span></p></td></tr><tr><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValLink" data-pltdoc="x">public-key</a></span></p></td><td><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">AWS_ACCESS_KEY_ID</span><span class="hspace"></span></span></p></td></tr><tr><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValLink" data-pltdoc="x">private-key</a></span></p></td><td><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">AWS_SECRET_ACCESS_KEY</span><span class="hspace"></span></span></p></td></tr><tr><td><p><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._security-token%29%29" class="RktValLink" data-pltdoc="x">security-token</a></span></p></td><td><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">AWS_SESSION_TOKEN</span><span class="hspace"></span></span></p></td></tr></table></blockquote><p class="SHistory">Added in version 1.15 of package <span class="stt">aws</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._credentials-from-ec2-instance!))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">iam-role-name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">iam-role-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Set <a href="#%28part._credential-parameters%29" data-pltdoc="x">Credential Parameters</a> from EC2 instance metadata.</div></p><p>When running on EC2, you can obtain from EC2 instance metadata
temporary credentials for an IAM role. This is easier to manage
securely than using configuration files or environment variables.</p><p>For more information how to configure this, see
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html">&ldquo;IAM Roles for Amazon EC2&rdquo;</a>.</p><p>Step five of those instructions &#8212;<wbr></wbr> &ldquo;Have the application retrieve a
set of temporary credentials and use them&rdquo; &#8212;<wbr></wbr> is done by simply
calling this function once when your program starts.</p><p class="SHistory">Added in version 1.15 of package <span class="stt">aws</span>.</p><h5 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Deprecated&quot;">2.2.3<tt>&nbsp;</tt><a name="(part._.Deprecated)"></a>Deprecated</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._read-keys))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-keys</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">file</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">file</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path?</a></span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._build-path%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">build-path</a></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Filesystem.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._find-system-path%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">find-system-path</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">home-dir</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">".aws-keys"</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Set the parameters <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValLink" data-pltdoc="x">public-key</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValLink" data-pltdoc="x">private-key</a></span> by
reading their values from a plain text file. The file should consist of two
lines:</div></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">AWSAccessKeyId=&lt;key&gt;</span></p></td></tr><tr><td><p><span class="stt">AWSSecretKey=&lt;key&gt;</span></p></td></tr></table></p><p>By default this file is <span class="RktInBG"><span class="hspace"></span><span class="RktIn">~/.aws-keys</span><span class="hspace"></span></span>. You probably want to
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">chmod</span><span class="hspace"></span></span> the permissions of this file carefully.</p><blockquote><p><span style="background-color: yellow"><span style="font-weight: bold">NOTE:</span></span> This function is deprecated; use <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-file!</a></span>, instead. See also
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-environment!</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span>.</p></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._ensure-have-keys))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._ensure-have-keys%29%29" class="RktValDef RktValLink" data-pltdoc="x">ensure-have-keys</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">If either <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValLink" data-pltdoc="x">public-key</a></span> or <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValLink" data-pltdoc="x">private-key</a></span> is <span class="RktVal">""</span>,
call <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%29%29" class="RktValLink" data-pltdoc="x">read-keys</a></span> (for backward compatibility) and also
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%2Faws-cli%29%29" class="RktValLink" data-pltdoc="x">read-keys/aws-cli</a></span>. If either key parameter is <span style="font-style: italic">still</span>
blank, call <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._error%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">error</a></span> with a hopefully helpful reminder about
how to set the parameters.</div></p><p>Although a number of functions in this package call
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._ensure-have-keys%29%29" class="RktValLink" data-pltdoc="x">ensure-have-keys</a></span> in an effort to "just work" even if you
haven&rsquo;t yet set the public and private keys, it&rsquo;s probably smarter if
you don&rsquo;t call it yourself. (It remains <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span>d only to
avoid breaking existing dependents.) Instead you should set the keys
explicitly yourself, before calling functions that need them.</p><blockquote><p><span style="background-color: yellow"><span style="font-weight: bold">NOTE:</span></span> This function is deprecated; use <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-file!</a></span>, instead. See also
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-environment!</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span>.</p></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._read-keys/aws-cli))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%2Faws-cli%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-keys/aws-cli</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The old name for <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-file!</a></span>, preserved
for backward compatibility.</div></p><blockquote><p><span style="background-color: yellow"><span style="font-weight: bold">NOTE:</span></span> This function is deprecated; use <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-file!</a></span>, instead. See also
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-environment!</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span>.</p></blockquote><p class="SHistory">Added in version 1.10 of package <span class="stt">aws</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._use-iam-ec2-credentials!))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._use-iam-ec2-credentials%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">use-iam-ec2-credentials!</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The old name for <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span>, preserved
for backward compatibility.</div></p><blockquote><p><span style="background-color: yellow"><span style="font-weight: bold">NOTE:</span></span> This function is deprecated; use <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span>, instead. See also
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-file%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-file!</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-environment!</a></span></p></blockquote><p class="SHistory">Added in version 1.10 of package <span class="stt">aws</span>.</p><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Request_authorization&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Request_authorization)"></a><a name="(mod-path._aws/sigv4)"></a>Request authorization</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._aws%2Fsigv4%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">aws/sigv4</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/aws" title="Install this package using `raco pkg install aws`"><span class="stt">aws</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._aws/sigv4..rkt)._add-v4-auth-heads))"></a><span title="Provided from: aws/sigv4 | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fsigv4..rkt%29._add-v4-auth-heads%29%29" class="RktValDef RktValLink" data-pltdoc="x">add-v4-auth-heads</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:heads</span><span class="hspace">&nbsp;</span><span class="RktVar">heads</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:method</span><span class="hspace">&nbsp;</span><span class="RktVar">method</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:uri</span><span class="hspace">&nbsp;</span><span class="RktVar">uri</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:sha256</span><span class="hspace">&nbsp;</span><span class="RktVar">sha256</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:region</span><span class="hspace">&nbsp;</span><span class="RktVar">region</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:service</span><span class="hspace">&nbsp;</span><span class="RktVar">service</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=dicts.html%23%2528def._%2528%2528lib._racket%252Fdict..rkt%2529._dict%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">dict?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">heads</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=dicts.html%23%2528def._%2528%2528lib._racket%252Fdict..rkt%2529._dict%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">dict?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">method</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">uri</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sha256</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">region</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">service</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><p class="SHistory">Added in version 1.12 of package <span class="stt">aws</span>.</p></div></p><p>Given a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=dicts.html%23%2528def._%2528%2528lib._racket%252Fdict..rkt%2529._dict%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">dict?</a></span> of HTTP request headers, add one or more
headers required by AWS for authorization:</p><ul><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">Authorization</span><span class="hspace"></span></span>: The value is calculated using
<a href="https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html">AWS version 4 request signing</a>.</p></li><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">X-Amz-Security-Token</span><span class="hspace"></span></span>: This header is added when the
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._security-token%29%29" class="RktValLink" data-pltdoc="x">security-token</a></span> parameter is not <span class="RktVal">#f</span>, typically
because:</p><ul><li><p>You used <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-ec2-instance%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-ec2-instance!</a></span> therefore the token
is automatically obtained periodically from EC2 instance metadata.</p></li><li><p>You used <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._credentials-from-environment%21%29%29" class="RktValLink" data-pltdoc="x">credentials-from-environment!</a></span> to get
credentials from environment variables set by AWS Lambda.</p></li></ul></li></ul><p>Various functions in this library that make requests, use this
function. As a result, you will probably not need to use it directly
&#8212;<wbr></wbr> unless you want to sign requests for AWS functionality that is not
wrapped by this library.</p><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Exception_handling&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Exception_handling)"></a><a name="(mod-path._aws/exn)"></a>Exception handling</h4><p>Most of the functions do not return a failure value. Instead they raise
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws</a></span>, which you need to &ldquo;catch&rdquo; using
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._with-handlers%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">with-handlers</a></span>.</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._aws%2Fexn%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">aws/exn</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/aws" title="Install this package using `raco pkg install aws`"><span class="stt">aws</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-aws-message))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-aws-code))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-http-message))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-http-code))"></a><a name="(def._((lib._aws/exn..rkt)._make-exn~3afail~3aaws))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws~3f))"></a><a name="(def._((lib._aws/exn..rkt)._struct~3aexn~3afail~3aaws))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws))"></a><span title="Provided from: aws/exn | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:aws</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">http-code</span><span class="stt"> </span><span class="RktSym">http-message</span><span class="stt"> </span><span class="RktSym">aws-code</span><span class="stt"> </span><span class="RktSym">aws-message</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-exn:fail:aws</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">http-code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">http-message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">aws-code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">aws-message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Used by <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._header~26response-~3eexn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">header&amp;response-&gt;exn:fail:aws</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._check-response%29%29" class="RktValLink" data-pltdoc="x">check-response</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._aws/exn..rkt)._header~26response-~3eexn~3afail~3aaws))"></a><span title="Provided from: aws/exn | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._header~26response-~3eexn~3afail~3aaws%29%29" class="RktValDef RktValLink" data-pltdoc="x">header&amp;response-&gt;exn:fail:aws</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">headers</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">body</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">ccm</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws~3f%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xexpr?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ccm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contmarks.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._continuation-mark-set%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">continuation-mark-set?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given an HTTP response&rsquo;s <span class="RktVar">headers</span> and <span class="RktVar">body</span>, return a
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws</a></span> constructed with information from the response.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/exn..rkt)._check-response))"></a><span title="Provided from: aws/exn | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._check-response%29%29" class="RktValDef RktValLink" data-pltdoc="x">check-response</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">raise/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws~3f%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Check <span class="RktVar">headers</span>. If the status code is one of 200, 201, 202, 204, 206,
301, 302, or 307, simply return <span class="RktVar">headers</span> (without reading any response
body from <span class="RktVar">in</span>).</div></p><p>Otherwise, read the XML response body from <span class="RktVar">in</span> and use the information
to construct and raise <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws</a></span>.</p><p>Note: This does <span style="font-style: italic">not</span> close the input port <span class="RktVar">in</span> before raising an
exception. It assumes you are using <span class="RktSym">call/requests</span>,
<span class="RktSym">call/input-request</span>, or <span class="RktSym">call/output-request</span> from the
<span class="RktSym">http/request</span> library (or using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=cont.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._dynamic-wind%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">dynamic-wind</a></span> or other
exception handling, or a custodian&#8212;<wbr></wbr>or whatever) to make sure the port is
closed!</p><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Connection_pooling&quot;">2.5<tt>&nbsp;</tt><a name="(part._.Connection_pooling)"></a>Connection pooling</h4><p>This library uses the
<a href="https://github.com/greghendershott/http">http</a> package
to make HTTP connections to AWS. You may cause connections to be
reused ("pooled") by setting the
<a href="https://github.com/greghendershott/http/blob/master/http/manual.md#12-connections-and-requests">current-pool-timeout</a> parameter to some non-zero number of seconds.</p><p>This can be faster, especially for many small requests in a row.</p><p>In the following example, the first <span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span> request will
leave the connection open for 30 seconds. As a result, the second
<span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span> request will reuse the same connection. After
another 30 seconds, the connection will be closed automatically.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">http/request</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">aws/s3</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">current-pool-timeout</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Introduction.html" title="backward to &quot;1 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Amazon Web Services&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="S3__Storage_.html" title="forward to &quot;3 S3 (Storage)&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/aws/All_Services.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:15 GMT -->
</html>