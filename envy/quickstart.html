<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/envy/quickstart.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1&nbsp;Quickstart via #lang envy</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Envy:<span class="mywbr"> &nbsp;</span> An environment variable manager</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Quickstart via <span class="stt">#lang envy</span></a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" data-pltdoc="x">Using Envy with S-<wbr></wbr>expression syntax</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="api-reference.html" class="tocviewlink" data-pltdoc="x">API Reference</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Quickstart via <span class="stt">#lang envy</span></a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="#%28part._.Specifying_types%29" class="tocviewlink" data-pltdoc="x">Specifying types</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="#%28part._.Providing_defaults%29" class="tocviewlink" data-pltdoc="x">Providing defaults</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="#%28part._.Using_explicit_environment_variable_names%29" class="tocviewlink" data-pltdoc="x">Using explicit environment variable names</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Specifying_types%29" class="tocsubseclink" data-pltdoc="x">Specifying types</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Providing_defaults%29" class="tocsubseclink" data-pltdoc="x">Providing defaults</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.Using_explicit_environment_variable_names%29" class="tocsubseclink" data-pltdoc="x">Using explicit environment variable names</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Envy: An environment variable manager&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Envy: An environment variable manager&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="syntax.html" title="forward to &quot;2 Using Envy with S-expression syntax&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;envy/scribblings/envy.scrbl&quot;)" x-source-pkg="envy" x-part-tag="&quot;quickstart&quot;">1<tt>&nbsp;</tt><a name="(part._quickstart)"></a>Quickstart via <span class="stt">#lang envy</span></h3><p>To get started, create a module to manage your application&rsquo;s environment variables (e.g.
<span class="RktSym">environment.rkt</span><span class="RktMeta"></span>).</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">envy</span></a><span class="RktMeta"></span></td></tr></table></blockquote><p>To specify which environment variables your application depends on, specify each variable&rsquo;s name on a
separate line:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">envy</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">some-environment-variable</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">another-environment-variable</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Each line of your environment manifest will produce a variable with the given name bound to the value
of the equivalent environment variable. The name of the environment variable will be generated from
the name of the Racket variable by converting the identifier to <span class="stt">ALL_CAPS</span>, converting dashes to
underscores, and stripping question marks. In the above example, Envy would fetch the values for
<span class="stt">SOME_ENVIRONMENT_VARIABLE</span> and <span class="stt">ANOTHER_ENVIRONMENT_VARIABLE</span>.</p><p>When the module runs, the values for the specified variables will be loaded, but it&rsquo;s possible that
the variables don&rsquo;t actually exist in the environment. In this case, an error will be thrown.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">envy</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">some-environment-variable</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span></td></tr><tr><td><p><span class="RktErr">envy: The required environment variable</span></p></td></tr><tr><td><p><span class="RktErr">"SOME_ENVIRONMENT_VARIABLE" is not defined.</span></p></td></tr></table></blockquote><p>If the environment variable <span class="emph">does</span> exist, its value will be stored in the binding.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">envy</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">some-environment-variable</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">another-environment-variable</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktSym">some-environment-variable</span></td></tr><tr><td><p><span class="RktOut">- : String</span></p></td></tr><tr><td><p><span class="RktRes">"some value"</span></p></td></tr></table></blockquote><p>To use the values of these environment variables in another module, just <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span> the module,
optionally with a prefix.</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._prefix-in%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">prefix-in</a></span><span class="hspace">&nbsp;</span><span class="RktSym">env:</span><span class="hspace">&nbsp;</span><span class="RktVal">"environment.rkt"</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><h4 x-source-module="(lib &quot;envy/scribblings/envy.scrbl&quot;)" x-source-pkg="envy" x-part-tag="&quot;Specifying_types&quot;">1.1<tt>&nbsp;</tt><a name="(part._.Specifying_types)"></a>Specifying types</h4><p>All environment variables are natively strings, but it is extremely common to store other kinds of
configuration data, such as booleans and numbers. Envy permits specifying a type with each variable,
and it will automatically parse the value to match the specified type.</p><p>For example, given the following environment:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">HOST=racket-lang.org</span></p></td></tr><tr><td><p><span class="stt">PARALLEL=true</span></p></td></tr><tr><td><p><span class="stt">THREADS=42</span></p></td></tr></table></p><p>...one could use the following environment definition:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktSym">host</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.String%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">String</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">parallel?</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Boolean%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">Boolean</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">threads</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ts-reference&amp;rel=special-forms.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fprims..rkt%2529._%7E3a%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">:</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Positive-.Integer%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">Positive-Integer</a></span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktSym">host</span></td></tr><tr><td><p><span class="RktOut">- : String</span></p></td></tr><tr><td><p><span class="RktRes">"racket-lang.org"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">parallel?</span></td></tr><tr><td><p><span class="RktOut">- : Boolean</span></p></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">threads</span></td></tr><tr><td><p><span class="RktOut">- : Integer [more precisely: Positive-Integer]</span></p></td></tr><tr><td><p><span class="RktRes">42</span></p></td></tr></table></blockquote><p>Note that the values are defined with the specified types, useful for Typed Racket users. Also, since
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.String%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">String</a></span> is the default type, including it is not strictly necessary.</p><h4 x-source-module="(lib &quot;envy/scribblings/envy.scrbl&quot;)" x-source-pkg="envy" x-part-tag="&quot;Providing_defaults&quot;">1.2<tt>&nbsp;</tt><a name="(part._.Providing_defaults)"></a>Providing defaults</h4><p>Sometimes, configuration variables may be optional, in which case it is useful to provide a default
value instead of raising an error upon an undefined variable. This can be done with the
<span class="RktPn">#:default</span> option.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktSym">optional-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">#:default</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktSym">optional-value</span></td></tr><tr><td><p><span class="RktOut">- : (U False String)</span></p></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote><p>Note that the type is still properly preserved for Typed Racket users, so if the default value&rsquo;s type
is different from the type of the environment variable, the resulting type will be a union.</p><h4 x-source-module="(lib &quot;envy/scribblings/envy.scrbl&quot;)" x-source-pkg="envy" x-part-tag="&quot;Using_explicit_environment_variable_names&quot;">1.3<tt>&nbsp;</tt><a name="(part._.Using_explicit_environment_variable_names)"></a>Using explicit environment variable names</h4><p>Sometimes it is desired to define a variable with a different name from the name used in the
environment. This can be done with the <span class="RktPn">#:name</span> option.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktSym">custom-name</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">#:name</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"ENVIRONMENT_NAME"</span><span class="RktMeta"></span></td></tr></table></blockquote><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Envy: An environment variable manager&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Envy: An environment variable manager&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="syntax.html" title="forward to &quot;2 Using Envy with S-expression syntax&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/envy/quickstart.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:27 GMT -->
</html>