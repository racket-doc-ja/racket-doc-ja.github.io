<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/lens/Unstable_Lenses.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:27:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Unstable Lenses</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Lenses</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="lens-guide.html" class="tocviewlink" data-pltdoc="x">The Lens Guide</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="lens-reference.html" class="tocviewlink" data-pltdoc="x">The Lens Reference</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Unstable Lenses</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Unstable Lenses</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="#%28part._lens-view_thrush__lens-set_thrush__and_lens-transform_thrush%29" class="tocviewlink" data-pltdoc="x">lens-<wbr></wbr>view/<span class="mywbr"> &nbsp;</span>thrush, lens-<wbr></wbr>set/<span class="mywbr"> &nbsp;</span>thrush, and lens-<wbr></wbr>transform/<span class="mywbr"> &nbsp;</span>thrush</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#%28part._.Lenses_for_nested_data%29" class="tocviewlink" data-pltdoc="x">Lenses for nested data</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="#%28part._.Lenses_for_nested_dictionaries%29" class="tocviewlink" data-pltdoc="x">Lenses for nested dictionaries</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="#%28part._.Flattening_and_unflattening_lists%29" class="tocviewlink" data-pltdoc="x">Flattening and unflattening lists</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="#%28part._.Filtering_hash-tables%29" class="tocviewlink" data-pltdoc="x">Filtering hash-<wbr></wbr>tables</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="#%28part._.Conditional_.Lenses%29" class="tocviewlink" data-pltdoc="x">Conditional Lenses</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="#%28part._.Isomorphisms%29" class="tocviewlink" data-pltdoc="x">Isomorphisms</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="#%28part._.Joining_lenses_with_an_association_list%29" class="tocviewlink" data-pltdoc="x">Joining lenses with an association list</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="#%28part._.Lazy_lenses_and_recursive_lenses%29" class="tocviewlink" data-pltdoc="x">Lazy lenses and recursive lenses</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="#%28part._.Lenses_that_map_over_lists_and_vectors%29" class="tocviewlink" data-pltdoc="x">Lenses that map over lists and vectors</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="#%28part._.Lenses_based_on_match_patterns%29" class="tocviewlink" data-pltdoc="x">Lenses based on match patterns</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="#%28part._.Filtering_sets%29" class="tocviewlink" data-pltdoc="x">Filtering sets</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="#%28part._.Lenses_for_membership_of_a_set%29" class="tocviewlink" data-pltdoc="x">Lenses for membership of a set</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="#%28part._.Splitting_.Strings%29" class="tocviewlink" data-pltdoc="x">Splitting Strings</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="#%28part._.Joining_lenses_with_structs%29" class="tocviewlink" data-pltdoc="x">Joining lenses with structs</a></td></tr><tr><td align="right">3.16&nbsp;</td><td><a href="#%28part._.Converting_between_structs_and_lists%29" class="tocviewlink" data-pltdoc="x">Converting between structs and lists</a></td></tr><tr><td align="right">3.17&nbsp;</td><td><a href="#%28part._.Nested_struct_lenses%29" class="tocviewlink" data-pltdoc="x">Nested struct lenses</a></td></tr><tr><td align="right">3.18&nbsp;</td><td><a href="#%28part._.Struct-lens_provide_forms%29" class="tocviewlink" data-pltdoc="x">Struct-<wbr></wbr>lens provide forms</a></td></tr><tr><td align="right">3.19&nbsp;</td><td><a href="#%28part._.Sublist_lenses%29" class="tocviewlink" data-pltdoc="x">Sublist lenses</a></td></tr><tr><td align="right">3.20&nbsp;</td><td><a href="#%28part._.Substring_.Lenses%29" class="tocviewlink" data-pltdoc="x">Substring Lenses</a></td></tr><tr><td align="right">3.21&nbsp;</td><td><a href="#%28part._.Syntax_.Lenses%29" class="tocviewlink" data-pltdoc="x">Syntax Lenses</a></td></tr><tr><td align="right">3.22&nbsp;</td><td><a href="#%28part._.Syntax_object_lenses_based_on_syntax_stx%29" class="tocviewlink" data-pltdoc="x">Syntax object lenses based on <span class="RktModLink"><span class="RktSym">syntax/<span class="mywbr"> &nbsp;</span>stx</span></span></a></td></tr><tr><td align="right">3.23&nbsp;</td><td><a href="#%28part._.Syntax_object_source_locations%29" class="tocviewlink" data-pltdoc="x">Syntax object source locations</a></td></tr><tr><td align="right">3.24&nbsp;</td><td><a href="#%28part._.More_.Viewing_and_.Setting%29" class="tocviewlink" data-pltdoc="x">More Viewing and Setting</a></td></tr><tr><td align="right">3.25&nbsp;</td><td><a href="#%28part._.Lenses_that_transform_subpieces%29" class="tocviewlink" data-pltdoc="x">Lenses that transform subpieces</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._lens-view_thrush__lens-set_thrush__and_lens-transform_thrush%29" class="tocsubseclink" data-pltdoc="x">lens-<wbr></wbr>view/<span class="mywbr"> &nbsp;</span>thrush, lens-<wbr></wbr>set/<span class="mywbr"> &nbsp;</span>thrush, and lens-<wbr></wbr>transform/<span class="mywbr"> &nbsp;</span>thrush</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view%2Fthrush%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>view/<span class="mywbr"> &nbsp;</span>thrush</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view~7e~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>view~&gt;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set%2Fthrush%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>set/<span class="mywbr"> &nbsp;</span>thrush</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set~7e~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>set~&gt;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform%2Fthrush%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>transform/<span class="mywbr"> &nbsp;</span>thrush</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform~7e~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>transform~&gt;</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Lenses_for_nested_data%29" class="tocsubseclink" data-pltdoc="x">Lenses for nested data</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._define-nested-lenses%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>nested-<wbr></wbr>lenses</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Lenses_for_nested_dictionaries%29" class="tocsubseclink" data-pltdoc="x">Lenses for nested dictionaries</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._dict-ref-nested-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">dict-<wbr></wbr>ref-<wbr></wbr>nested-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.4<tt>&nbsp;</tt></span><a href="#%28part._.Flattening_and_unflattening_lists%29" class="tocsubseclink" data-pltdoc="x">Flattening and unflattening lists</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">append*-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">flatten/<span class="mywbr"> &nbsp;</span>depth-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">flatten/<span class="mywbr"> &nbsp;</span>depth</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._unflatten%2Fdepth%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">unflatten/<span class="mywbr"> &nbsp;</span>depth</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2An-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">append*n-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.5<tt>&nbsp;</tt></span><a href="#%28part._.Filtering_hash-tables%29" class="tocsubseclink" data-pltdoc="x">Filtering hash-<wbr></wbr>tables</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fkey%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>filterer-<wbr></wbr>lens/<span class="mywbr"> &nbsp;</span>key</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fvalue%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>filterer-<wbr></wbr>lens/<span class="mywbr"> &nbsp;</span>value</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>filterer-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.6<tt>&nbsp;</tt></span><a href="#%28part._.Conditional_.Lenses%29" class="tocsubseclink" data-pltdoc="x">Conditional Lenses</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-if%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>if</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-cond%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lens-<wbr></wbr>cond</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-match%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lens-<wbr></wbr>match</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.7<tt>&nbsp;</tt></span><a href="#%28part._.Isomorphisms%29" class="tocsubseclink" data-pltdoc="x">Isomorphisms</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>isomorphism-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">isomorphism-<wbr></wbr>lens?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens-inverse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">isomorphism-<wbr></wbr>lens-<wbr></wbr>inverse</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lenses%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>isomorphism-<wbr></wbr>lenses</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-compose%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">isomorphism-<wbr></wbr>compose</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-thrush%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">isomorphism-<wbr></wbr>thrush</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3esymbol-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">string-<wbr></wbr>&gt;symbol-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">symbol-<wbr></wbr>&gt;string-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._number-~3estring-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">number-<wbr></wbr>&gt;string-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3enumber-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">string-<wbr></wbr>&gt;number-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._list-~3evector-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>&gt;vector-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._vector-~3elist-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>&gt;list-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._list-~3estring-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>&gt;string-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3elist-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">string-<wbr></wbr>&gt;list-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.8<tt>&nbsp;</tt></span><a href="#%28part._.Joining_lenses_with_an_association_list%29" class="tocsubseclink" data-pltdoc="x">Joining lenses with an association list</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fassoc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>join/<span class="mywbr"> &nbsp;</span>assoc</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.9<tt>&nbsp;</tt></span><a href="#%28part._.Lazy_lenses_and_recursive_lenses%29" class="tocsubseclink" data-pltdoc="x">Lazy lenses and recursive lenses</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lazy-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lazy-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._rec-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">rec-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.10<tt>&nbsp;</tt></span><a href="#%28part._.Lenses_that_map_over_lists_and_vectors%29" class="tocsubseclink" data-pltdoc="x">Lenses that map over lists and vectors</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._map-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">map-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._vector-map-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>map-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.11<tt>&nbsp;</tt></span><a href="#%28part._.Lenses_based_on_match_patterns%29" class="tocsubseclink" data-pltdoc="x">Lenses based on match patterns</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._match-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">match-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.12<tt>&nbsp;</tt></span><a href="#%28part._.Filtering_sets%29" class="tocsubseclink" data-pltdoc="x">Filtering sets</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-filterer-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">set-<wbr></wbr>filterer-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.13<tt>&nbsp;</tt></span><a href="#%28part._.Lenses_for_membership_of_a_set%29" class="tocsubseclink" data-pltdoc="x">Lenses for membership of a set</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-member-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">set-<wbr></wbr>member-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.14<tt>&nbsp;</tt></span><a href="#%28part._.Splitting_.Strings%29" class="tocsubseclink" data-pltdoc="x">Splitting Strings</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">string-<wbr></wbr>split-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.15<tt>&nbsp;</tt></span><a href="#%28part._.Joining_lenses_with_structs%29" class="tocsubseclink" data-pltdoc="x">Joining lenses with structs</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lens-<wbr></wbr>join/<span class="mywbr"> &nbsp;</span>struct</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.16<tt>&nbsp;</tt></span><a href="#%28part._.Converting_between_structs_and_lists%29" class="tocsubseclink" data-pltdoc="x">Converting between structs and lists</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-~3elist-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct-<wbr></wbr>&gt;list-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._list-~3estruct-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">list-<wbr></wbr>&gt;struct-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.17<tt>&nbsp;</tt></span><a href="#%28part._.Nested_struct_lenses%29" class="tocsubseclink" data-pltdoc="x">Nested struct lenses</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct-<wbr></wbr>nested-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct-<wbr></wbr>nested-<wbr></wbr>lens*</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.18<tt>&nbsp;</tt></span><a href="#%28part._.Struct-lens_provide_forms%29" class="tocsubseclink" data-pltdoc="x">Struct-<wbr></wbr>lens provide forms</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-lenses-out%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct-<wbr></wbr>lenses-<wbr></wbr>out</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct%2Blenses-out%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct+<span class="mywbr"> &nbsp;</span>lenses-<wbr></wbr>out</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.19<tt>&nbsp;</tt></span><a href="#%28part._.Sublist_lenses%29" class="tocsubseclink" data-pltdoc="x">Sublist lenses</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._sublist-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sublist-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.20<tt>&nbsp;</tt></span><a href="#%28part._.Substring_.Lenses%29" class="tocsubseclink" data-pltdoc="x">Substring Lenses</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._substring-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">substring-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.21<tt>&nbsp;</tt></span><a href="#%28part._.Syntax_.Lenses%29" class="tocsubseclink" data-pltdoc="x">Syntax Lenses</a></td></tr><tr><td><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._syntax-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">syntax-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-keyword-seq-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">syntax-<wbr></wbr>keyword-<wbr></wbr>seq-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.22<tt>&nbsp;</tt></span><a href="#%28part._.Syntax_object_lenses_based_on_syntax_stx%29" class="tocsubseclink" data-pltdoc="x">Syntax object lenses based on <span class="RktModLink"><span class="RktSym">syntax/<span class="mywbr"> &nbsp;</span>stx</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-~3elist-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>&gt;list-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-map-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>map-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-car-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>car-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdr-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cdr-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caar-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>caar-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdar-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cdar-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cadr-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cadr-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cddr-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cddr-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caaar-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>caaar-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdaar-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cdaar-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cadar-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cadar-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cddar-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cddar-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caadr-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>caadr-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdadr-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cdadr-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caddr-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>caddr-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdddr-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>cdddr-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-append%2A-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>append*-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>flatten/<span class="mywbr"> &nbsp;</span>depth-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-append%2An-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>append*n-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.23<tt>&nbsp;</tt></span><a href="#%28part._.Syntax_object_source_locations%29" class="tocsubseclink" data-pltdoc="x">Syntax object source locations</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-srcloc-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">syntax-<wbr></wbr>srcloc-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-source-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">syntax-<wbr></wbr>source-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-line-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">syntax-<wbr></wbr>line-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-column-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">syntax-<wbr></wbr>column-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-position-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">syntax-<wbr></wbr>position-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-span-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">syntax-<wbr></wbr>span-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-~3esrcloc-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>&gt;srcloc-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-~3elist-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>&gt;list-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-~3evector-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>&gt;vector-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-source-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>source-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-line-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>line-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-column-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>column-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-position-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>position-<wbr></wbr>lens</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-span-lens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>location-<wbr></wbr>span-<wbr></wbr>lens</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.24<tt>&nbsp;</tt></span><a href="#%28part._.More_.Viewing_and_.Setting%29" class="tocsubseclink" data-pltdoc="x">More Viewing and Setting</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>set-<wbr></wbr>all</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.25<tt>&nbsp;</tt></span><a href="#%28part._.Lenses_that_transform_subpieces%29" class="tocsubseclink" data-pltdoc="x">Lenses that transform subpieces</a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>zoom</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lens-<wbr></wbr>zoom*</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="lens-reference.html" title="backward to &quot;2 The Lens Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Lenses&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Unstable_Lenses&quot;">3<tt>&nbsp;</tt><a name="(part._.Unstable_.Lenses)"></a><a name="(mod-path._unstable/lens)"></a>Unstable Lenses</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">unstable/lens</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lens-unstable" title="Install this package using `raco pkg install lens-unstable`"><span class="stt">lens-unstable</span></a></span></td></tr></table></p><p>This library provides additional features for the
<a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">lens</span></a> library that are non-final and
may change in future releases. Do not depend on
this library being backwards-compatible.</p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;lens-view_thrush__lens-set_thrush__and_lens-transform_thrush&quot;">3.1<tt>&nbsp;</tt><a name="(part._lens-view_thrush__lens-set_thrush__and_lens-transform_thrush)"></a>lens-view/thrush, lens-set/thrush, and lens-transform/thrush</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-view/thrush))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view%2Fthrush%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-view/thrush</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-view~7e~3e))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view~7e~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-view~&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span>, except that it can take multiple lenses,
which are combined into a nested lens. The argument order is
switched, so that the <span class="RktVar">target</span> comes first and the
<span class="RktVar">lens</span> arguments come after it.
<span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view%2Fthrush%29%29" class="RktValLink" data-pltdoc="x">lens-view/thrush</a></span><span class="stt"> </span><span class="RktVar">target</span><span class="stt"> </span><span class="RktVar">lens</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> produces the same value as
<span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span><span class="stt"> </span><span class="RktVar">lens</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">target</span><span class="RktPn">)</span>, but can be more
efficient.
The function <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view~7e~3e%29%29" class="RktValLink" data-pltdoc="x">lens-view~&gt;</a></span> is provided as a shorter version.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view%2Fthrush%29%29" class="RktValLink" data-pltdoc="x">lens-view/thrush</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">g</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'d</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-view~7e~3e%29%29" class="RktValLink" data-pltdoc="x">lens-view~&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">g</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'d</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-set/thrush))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set%2Fthrush%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-set/thrush</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">target</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktVar">new-view</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">new-view</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-set~7e~3e))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set~7e~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-set~&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktVar">new-view</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">new-view</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span>, except that it can take multiple lenses,
which again are combined into a nested lens.
<span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set%2Fthrush%29%29" class="RktValLink" data-pltdoc="x">lens-set/thrush</a></span><span class="stt"> </span><span class="RktVar">target</span><span class="stt"> </span><span class="RktVar">lens</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="stt"> </span><span class="RktPn">#:-&gt;</span><span class="stt"> </span><span class="RktVar">new-view</span><span class="RktPn">)</span> is equivalent
to <span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span><span class="stt"> </span><span class="RktVar">lens</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">target</span><span class="stt"> </span><span class="RktVar">new-view</span><span class="RktPn">)</span>, and
<span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set~7e~3e%29%29" class="RktValLink" data-pltdoc="x">lens-set~&gt;</a></span> is the shorter version.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set%2Fthrush%29%29" class="RktValLink" data-pltdoc="x">lens-set/thrush</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">g</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktVal">"sea"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b ((c "sea") e f) g)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set~7e~3e%29%29" class="RktValLink" data-pltdoc="x">lens-set~&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">g</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktVal">"sea"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b ((c "sea") e f) g)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-transform/thrush))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform%2Fthrush%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-transform/thrush</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">target</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktVar">transformer</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transformer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-transform~7e~3e))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform~7e~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-transform~&gt;</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">target</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktVar">transformer</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transformer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-transform%29%29" class="RktValLink" data-pltdoc="x">lens-transform</a></span>, except that it can take multiple lenses,
just like <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set%2Fthrush%29%29" class="RktValLink" data-pltdoc="x">lens-set/thrush</a></span>.
<span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform%2Fthrush%29%29" class="RktValLink" data-pltdoc="x">lens-transform/thrush</a></span><span class="stt"> </span><span class="RktVar">target</span><span class="stt"> </span><span class="RktVar">lens</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="stt"> </span><span class="RktPn">#:-&gt;</span><span class="stt"> </span><span class="RktVar">transformer</span><span class="RktPn">)</span> is
equivalent to
<span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-transform%29%29" class="RktValLink" data-pltdoc="x">lens-transform</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span><span class="stt"> </span><span class="RktVar">lens</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">target</span><span class="stt"> </span><span class="RktVar">transformer</span><span class="RktPn">)</span>,
and <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform~7e~3e%29%29" class="RktValLink" data-pltdoc="x">lens-transform~&gt;</a></span> is the shorter verison.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform%2Fthrush%29%29" class="RktValLink" data-pltdoc="x">lens-transform/thrush</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">g</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b ((c "d") e f) g)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-transform~7e~3e%29%29" class="RktValLink" data-pltdoc="x">lens-transform~&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">g</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:-&gt;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b ((c "d") e f) g)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Lenses_for_nested_data&quot;">3.2<tt>&nbsp;</tt><a name="(part._.Lenses_for_nested_data)"></a>Lenses for nested data</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._define-nested-lenses))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._define-nested-lenses%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-nested-lenses</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">base-id</span><span class="hspace">&nbsp;</span><span class="RktVar">base-lens-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">clause</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">[</span><span class="RktVar">sub-id</span><span class="hspace">&nbsp;</span><span class="RktVar">sub-lens-expr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">clause</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A shorthand for defining composed lenses for nested data structures.</div></p><p><div class="SIntrapara">For example, if there is a <span class="RktSym">top</span> struct containing a
<span class="RktSym">middle</span> struct, which contains an <span class="RktSym">x</span> field and a
<span class="RktSym">y</span> field, a form like:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._define-nested-lenses%29%29" class="RktStxLink" data-pltdoc="x">define-nested-lenses</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">top-middle</span><span class="hspace">&nbsp;</span><span class="RktSym">top-middle-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">middle-x-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">middle-y-lens</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Will define <span class="RktSym">top-middle-x-lens</span> and <span class="RktSym">top-middle-y-lens</span>
as <span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span><span class="stt"> </span><span class="RktSym">top-middle-lens</span><span class="stt"> </span><span class="RktSym">middle-x-lens</span><span class="RktPn">)</span> and
<span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span><span class="stt"> </span><span class="RktSym">top-middle-lens</span><span class="stt"> </span><span class="RktSym">middle-y-lens</span><span class="RktPn">)</span>.</div></p><p>Clauses can be nested within other clauses as well:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28form._%28%28lib._lens%2Fdata%2Fstruct..rkt%29._struct%2Flens%29%29" class="RktStxLink" data-pltdoc="x">struct/lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">player1</span><span class="hspace">&nbsp;</span><span class="RktSym">player2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28form._%28%28lib._lens%2Fdata%2Fstruct..rkt%29._struct%2Flens%29%29" class="RktStxLink" data-pltdoc="x">struct/lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">position</span><span class="hspace">&nbsp;</span><span class="RktSym">score</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28form._%28%28lib._lens%2Fdata%2Fstruct..rkt%29._struct%2Flens%29%29" class="RktStxLink" data-pltdoc="x">struct/lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">position</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._define-nested-lenses%29%29" class="RktStxLink" data-pltdoc="x">define-nested-lenses</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">game-player1</span><span class="hspace">&nbsp;</span><span class="RktSym">game-player1-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">score</span><span class="hspace">&nbsp;</span><span class="RktSym">player-score-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">position</span><span class="hspace">&nbsp;</span><span class="RktSym">player-position-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">position-x-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">position-y-lens</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._define-nested-lenses%29%29" class="RktStxLink" data-pltdoc="x">define-nested-lenses</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">game-player2</span><span class="hspace">&nbsp;</span><span class="RktSym">game-player2-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">score</span><span class="hspace">&nbsp;</span><span class="RktSym">player-score-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">position</span><span class="hspace">&nbsp;</span><span class="RktSym">player-position-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">position-x-lens</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">position-y-lens</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">position</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">position</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player1-score-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player1-position-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(position 1 2)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player1-position-x-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player1-score-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktVal">9005</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(game (player (position 1 2) 9005) (player (position 3 4) 6))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player1-position-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">position</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(game (player (position 2 0) 5) (player (position 3 4) 6))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player1-position-x-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(game (player (position 3 2) 5) (player (position 3 4) 6))</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Lenses_for_nested_dictionaries&quot;">3.3<tt>&nbsp;</tt><a name="(part._.Lenses_for_nested_dictionaries)"></a>Lenses for nested dictionaries</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._dict-ref-nested-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._dict-ref-nested-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">dict-ref-nested-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">functional-dict?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">k</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Similar to <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Fhash..rkt%29._hash-ref-nested-lens%29%29" class="RktValLink" data-pltdoc="x">hash-ref-nested-lens</a></span>, but for dicts.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._dict-ref-nested-lens%29%29" class="RktValLink" data-pltdoc="x">dict-ref-nested-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">[</span><span class="RktVal">a</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">[</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">1</span><span class="RktVal">]</span><span class="hspace">&nbsp;</span><span class="RktVal">[</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">2</span><span class="RktVal">]</span><span class="RktVal">]</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">[</span><span class="RktVal">b</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">[</span><span class="RktVal">z</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">3</span><span class="RktVal">]</span><span class="RktVal">]</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">[</span><span class="RktVal">a</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">[</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">1</span><span class="RktVal">]</span><span class="hspace">&nbsp;</span><span class="RktVal">[</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">2</span><span class="RktVal">]</span><span class="RktVal">]</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">[</span><span class="RktVal">b</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">[</span><span class="RktVal">z</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">3</span><span class="RktVal">]</span><span class="RktVal">]</span><span class="RktVal">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((a (x . 100) (y . 2)) '(b (z . 3)))</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Flattening_and_unflattening_lists&quot;">3.4<tt>&nbsp;</tt><a name="(part._.Flattening_and_unflattening_lists)"></a>Flattening and unflattening lists</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._append*-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">append*-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A lens that flattens a list one-level down when viewing, and restores
the original structure when setting. The target list must be a nested
list at least 2 levels deep, or a list of lists. Viewing with this
lens is equivalent to using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._append%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append*</a></span>, and setting with this
lens restores the structure of the original nested list.</div></p><p>When setting, the new view must have the same length as the old view,
so it must have the same length as <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._append%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append*</a></span><span class="stt"> </span><span class="RktSym">target</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara">This is equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span>, since it
flattens lists of depth 2.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c 1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"do"</span><span class="hspace">&nbsp;</span><span class="RktVal">"re"</span><span class="hspace">&nbsp;</span><span class="RktVal">"mi"</span><span class="hspace">&nbsp;</span><span class="RktVal">"re"</span><span class="hspace">&nbsp;</span><span class="RktVal">"mi"</span><span class="hspace">&nbsp;</span><span class="RktVal">"do"</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("do" "re" "mi") ("re" "mi" "do"))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c d e f)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1) (2 3) () (4 5 6))</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">The further nested elements don&rsquo;t have to be atomic, they could be
other lists. <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span> doesn&rsquo;t recur into those.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((a) (b) (c) (1) (2) (3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"mi"</span><span class="hspace">&nbsp;</span><span class="RktVal">"re"</span><span class="hspace">&nbsp;</span><span class="RktVal">"do"</span><span class="hspace">&nbsp;</span><span class="RktVal">"re"</span><span class="hspace">&nbsp;</span><span class="RktVal">"re"</span><span class="hspace">&nbsp;</span><span class="RktVal">"mi"</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("mi" "re" "do") ("re" "re" "mi"))</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._flatten/depth-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">flatten/depth-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that flattens a list of depth <span class="RktVar">n</span> when
viewing, and restores the original structure when setting.</div></p><p>A list of depth <span class="RktVal">0</span> is a single element, a list of depth
<span class="RktVal">1</span> is a list, a list of depth <span class="RktVal">2</span> is a list of lists,
and so on.</p><p>This is a generalization of <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span>, with that being
equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span>. It uses
<span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">flatten/depth</a></span> to view, and <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._unflatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">unflatten/depth</a></span> to set.</p><p><div class="SIntrapara">When setting, the new view must have the same length as the old view,
so it must have the same length as <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">flatten/depth</a></span><span class="stt"> </span><span class="RktVar">n</span><span class="stt"> </span><span class="RktSym">target</span><span class="RktPn">)</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c d e f)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1) (2 3) () (4 5 6))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c d e f)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(((1) ()) (() (2) (3)) () ((4 5) () (6)))</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._flatten/depth))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValDef RktValLink" data-pltdoc="x">flatten/depth</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">structure</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">structure</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Flattens a list of depth <span class="RktVar">n</span>. For depth <span class="RktVar">n</span> = <span class="RktVal">0</span>,
it returns <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVar">structure</span><span class="RktPn">)</span>. For a depth of <span class="RktVal">1</span>, it
returns <span class="RktVar">structure</span>. For a depth of <span class="RktVal">2</span>, it returns
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._append%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append*</a></span><span class="stt"> </span><span class="RktVar">structure</span><span class="RktPn">)</span>. For a depth of <span class="RktVal">3</span>, it returns
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._append%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append*</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._append%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append*</a></span><span class="stt"> </span><span class="RktVar">structure</span><span class="RktPn">)</span><span class="RktPn">)</span>, and so on for higher depths.</div></p><p><div class="SIntrapara">This is what <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span> uses for viewing.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">flatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">flatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">flatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c d e f)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">flatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c d e f)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._unflatten/depth))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._unflatten%2Fdepth%29%29" class="RktValDef RktValLink" data-pltdoc="x">unflatten/depth</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">structure</span><span class="hspace">&nbsp;</span><span class="RktVar">flattened</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">structure</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">flattened</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Un-does the work done by <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">flatten/depth</a></span>, to return an
un-flattened version of <span class="RktVar">flattened</span>, with the structure restored based
on <span class="RktVar">structure</span>.</div></p><p><div class="SIntrapara">This is what <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span> uses for setting.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._unflatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">unflatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._unflatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">unflatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._unflatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">unflatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1) (2 3) () (4 5 6))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._unflatten%2Fdepth%29%29" class="RktValLink" data-pltdoc="x">unflatten/depth</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">e</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(((1) ()) (() (2) (3)) () ((4 5) () (6)))</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._append*n-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2An-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">append*n-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This is deprecated. Use <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="stt"> </span><span class="RktVar">n</span><span class="RktPn">)</span><span class="RktPn">)</span> instead.</div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Filtering_hash-tables&quot;">3.5<tt>&nbsp;</tt><a name="(part._.Filtering_hash-tables)"></a>Filtering hash-tables</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._hash-filterer-lens/key))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fkey%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-filterer-lens/key</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keep?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">immutable-hash?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._immutable%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keep?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that filters a hash-table to keys that pass the predicate
<span class="RktVar">keep?</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fkey%29%29" class="RktValLink" data-pltdoc="x">hash-filterer-lens/key</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((a . 1) (c . 3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fkey%29%29" class="RktValLink" data-pltdoc="x">hash-filterer-lens/key</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((d . 4) (e . 5) ("b" . 2))</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._hash-filterer-lens/value))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fvalue%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-filterer-lens/value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keep?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">immutable-hash?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._immutable%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keep?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fvalue%29%29" class="RktValLink" data-pltdoc="x">hash-filterer-lens/value</a></span>, but filters based on values that pass
<span class="RktVar">keep?</span>, not keys.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fvalue%29%29" class="RktValLink" data-pltdoc="x">hash-filterer-lens/value</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">"two"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((a . 1) (c . 3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%2Fvalue%29%29" class="RktValLink" data-pltdoc="x">hash-filterer-lens/value</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">"two"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((b . "two") (d . 4))</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._hash-filterer-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-filterer-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keep?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">immutable-hash?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._immutable%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keep?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that filters a hash-table by the predicate <span class="RktVar">keep?</span>, which
takes the key and the value as its two arguments.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%29%29" class="RktValLink" data-pltdoc="x">hash-filterer-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1.0</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">45</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((1 . 1.0) (3 . 3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._hash-filterer-lens%29%29" class="RktValLink" data-pltdoc="x">hash-filterer-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1.0</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">45</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">4.0</span><span class="hspace">&nbsp;</span><span class="RktVal">5.0</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((2 . 45) (4 . 4.0) (5.0 . 5))</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Conditional_Lenses&quot;">3.6<tt>&nbsp;</tt><a name="(part._.Conditional_.Lenses)"></a>Conditional Lenses</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-if))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-if%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-if</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pred</span><span class="hspace">&nbsp;</span><span class="RktVar">lens1</span><span class="hspace">&nbsp;</span><span class="RktVar">lens2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">target/c</span><span class="hspace">&nbsp;</span><span class="RktSym">view/c</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pred</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">target/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">target/c</span><span class="hspace">&nbsp;</span><span class="RktSym">view/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">target/c</span><span class="hspace">&nbsp;</span><span class="RktSym">view/c</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that uses <span class="RktVar">lens1</span> when the target satisfies
<span class="RktVar">pred</span>, and uses <span class="RktVar">lens2</span> when the target doesn&rsquo;t satisfy
<span class="RktVar">pred</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">if-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-if%29%29" class="RktValLink" data-pltdoc="x">lens-if</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Fvector..rkt%29._vector-ref-lens%29%29" class="RktValLink" data-pltdoc="x">vector-ref-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">if-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">if-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">if-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">if-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(a 2 3)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._lens-cond))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-cond%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lens-cond</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">pred-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">lens-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktVar">else-lens-expr</span><span class="RktPn">]</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-cond%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lens-cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">pred-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">lens-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-if%29%29" class="RktValLink" data-pltdoc="x">lens-if</a></span>, but based on <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">cond</a></span> instead of
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span>. It creates a lens that uses the first lens if the target matches the first
predicate, the second lens if the target matches the second predicate, and so on. If the
target matches none of the predicates, an error is raised.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-cond%29%29" class="RktStxLink" data-pltdoc="x">lens-cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Fvector..rkt%29._vector-ref-lens%29%29" class="RktValLink" data-pltdoc="x">vector-ref-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Fstring..rkt%29._string-ref-lens%29%29" class="RktValLink" data-pltdoc="x">string-ref-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">"123"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#\1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(a 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">"123"</span><span class="hspace">&nbsp;</span><span class="RktVal">#\a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"a23"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cond-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">none-of-the-above</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">lens-cond: no matching clause for target</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">target: 'none-of-the-above</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: '(or/c list? vector? string?)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._lens-match))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-match%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lens-match</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">lens-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-if%29%29" class="RktValLink" data-pltdoc="x">lens-if</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-cond%29%29" class="RktStxLink" data-pltdoc="x">lens-cond</a></span>, but based on pattern
matching the target against each <span class="RktVar">pat</span> with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">match</a></span>.
It creates a lens that uses the first lens if the target matches the
first <span class="RktVar">pat</span>, the second lens if it matches the second
<span class="RktVar">pat</span>, and so on.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-match%29%29" class="RktStxLink" data-pltdoc="x">lens-match</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 a)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Isomorphisms&quot;">3.7<tt>&nbsp;</tt><a name="(part._.Isomorphisms)"></a>Isomorphisms</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._make-isomorphism-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-isomorphism-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">inv</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">b/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">inv</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">a/c</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens for an isomorphism. The <span class="RktVar">f</span> argument should be a function
with an inverse, and the <span class="RktVar">inv</span> argument should be its inverse.
The <span class="RktVar">f</span> function converts targets to views, and the <span class="RktVar">inv</span> function
converts views to targets.</div></p><p><div class="SIntrapara">So for instance a <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span> could be defined with:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lens%29%29" class="RktValLink" data-pltdoc="x">make-isomorphism-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3esymbol%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;symbol</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">something</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"something"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-transform%29%29" class="RktValLink" data-pltdoc="x">lens-transform</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">something</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"make-"</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'make-something</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._isomorphism-lens~3f))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A predicate that returns true when <span class="RktVar">v</span> is a lens constructed with
<span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lens%29%29" class="RktValLink" data-pltdoc="x">make-isomorphism-lens</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens-inverse%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens-inverse</a></span>, or
<span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lenses%29%29" class="RktValLink" data-pltdoc="x">make-isomorphism-lenses</a></span>, and returns false otherwise.
All isomorphism lenses are also lenses according to <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._isomorphism-lens-inverse))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens-inverse%29%29" class="RktValDef RktValLink" data-pltdoc="x">isomorphism-lens-inverse</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">iso-lens</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">iso-lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the inverse of <span class="RktVar">iso-lens</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._make-isomorphism-lenses))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lenses%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-isomorphism-lenses</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">inv</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">b/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">inv</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">a/c</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns two values. The first value is the result of
<span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lens%29%29" class="RktValLink" data-pltdoc="x">make-isomorphism-lens</a></span><span class="stt"> </span><span class="RktVar">f</span><span class="stt"> </span><span class="RktVar">inv</span><span class="RktPn">)</span>, and the second value is the inverse of that
lens.</div></p><p><div class="SIntrapara">The lenses <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3esymbol-lens%29%29" class="RktValLink" data-pltdoc="x">string-&gt;symbol-lens</a></span>, for
example, are defined like this:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3esymbol-lens%29%29" class="RktValLink" data-pltdoc="x">string-&gt;symbol-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._make-isomorphism-lenses%29%29" class="RktValLink" data-pltdoc="x">make-isomorphism-lenses</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3esymbol%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;symbol</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._isomorphism-compose))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-compose%29%29" class="RktValDef RktValLink" data-pltdoc="x">isomorphism-compose</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-compose%29%29" class="RktValLink" data-pltdoc="x">lens-compose</a></span>, but works only on isomorphism lenses, and returns an
isomorphism lens. It is also more efficient than <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-compose%29%29" class="RktValLink" data-pltdoc="x">lens-compose</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._isomorphism-thrush))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-thrush%29%29" class="RktValDef RktValLink" data-pltdoc="x">isomorphism-thrush</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._isomorphism-lens~3f%29%29" class="RktValLink" data-pltdoc="x">isomorphism-lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span>, but works only on isomorphism lenses, and returns an
isomorphism lens. It is also more efficient than <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._string-~3esymbol-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3esymbol-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">string-&gt;symbol-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._symbol-~3estring-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._number-~3estring-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._number-~3estring-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">number-&gt;string-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._string-~3enumber-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3enumber-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">string-&gt;number-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._list-~3evector-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._list-~3evector-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-&gt;vector-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._vector-~3elist-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._vector-~3elist-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-&gt;list-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._list-~3estring-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._list-~3estring-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-&gt;string-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._string-~3elist-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-~3elist-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">string-&gt;list-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Isomorphim lenses for <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3esymbol%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;symbol</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number-&gt;string</a></span>, and so on.</div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Joining_lenses_with_an_association_list&quot;">3.8<tt>&nbsp;</tt><a name="(part._.Joining_lenses_with_an_association_list)"></a>Joining lenses with an association list</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-join/assoc))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fassoc%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-join/assoc</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">target/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">key/c</span><span class="hspace">&nbsp;</span><span class="RktSym">value/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">key/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">target/c</span><span class="hspace">&nbsp;</span><span class="RktSym">value/c</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Fhash..rkt%29._lens-join%2Fhash%29%29" class="RktValLink" data-pltdoc="x">lens-join/hash</a></span>, except joins the keys and values into an
association list instead of a hash-table.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-b-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fassoc%29%29" class="RktValLink" data-pltdoc="x">lens-join/assoc</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-b-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((a . 1) (b . 3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-b-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">100</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">200</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(100 2 200)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Lazy_lenses_and_recursive_lenses&quot;">3.9<tt>&nbsp;</tt><a name="(part._.Lazy_lenses_and_recursive_lenses)"></a>Lazy lenses and recursive lenses</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._lazy-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lazy-lens%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lazy-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lens-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lazy lens that lazily evaluates <span class="RktVar">lens-expr</span> and uses it to view
and set the target.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lazy-first-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lazy-lens%29%29" class="RktStxLink" data-pltdoc="x">lazy-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"evaluating"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">lazy-first-lens</span></td></tr><tr><td><p><span class="RktRes">#&lt;lens&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lazy-first-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">evaluating</span></p></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lazy-first-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a 2 3)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._rec-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._rec-lens%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">rec-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rec-id</span><span class="hspace">&nbsp;</span><span class="RktVar">lens-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a potentially recursive lens, where <span class="RktVar">lens-expr</span> can refer to
<span class="RktVar">rec-id</span> as a lazy version of itself.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tree-map-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">item-lens</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._rec-lens%29%29" class="RktStxLink" data-pltdoc="x">rec-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-tree-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-cond%29%29" class="RktStxLink" data-pltdoc="x">lens-cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._map-lens%29%29" class="RktValLink" data-pltdoc="x">map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-tree-lens</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktSym">item-lens</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tree-map-lens</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("a" ("b" (() "c")) ("d"))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tree-map-lens</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._symbol-~3estring-lens%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string-lens</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"hay"</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">"bee"</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"sea"</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">"deep"</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(hay (bee (() sea)) (deep))</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Lenses_that_map_over_lists_and_vectors&quot;">3.10<tt>&nbsp;</tt><a name="(part._.Lenses_that_map_over_lists_and_vectors)"></a>Lenses that map over lists and vectors</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._map-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._map-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">map-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that maps <span class="RktVar">lens</span> over a target list.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._map-lens%29%29" class="RktValLink" data-pltdoc="x">map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a c e)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._map-lens%29%29" class="RktValLink" data-pltdoc="x">map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1 b) (2 d) (3 f))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-transform%29%29" class="RktValLink" data-pltdoc="x">lens-transform</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._map-lens%29%29" class="RktValLink" data-pltdoc="x">map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("a" b) ("c" d) ("e" f))</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._vector-map-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._vector-map-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-map-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that maps <span class="RktVar">lens</span> over a target vector with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528lib._racket%252Fvector..rkt%2529._vector-map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector-map</a></span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._vector-map-lens%29%29" class="RktValLink" data-pltdoc="x">vector-map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(a c e)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._vector-map-lens%29%29" class="RktValLink" data-pltdoc="x">vector-map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#((1 b) (2 d) (3 f))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-transform%29%29" class="RktValLink" data-pltdoc="x">lens-transform</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._vector-map-lens%29%29" class="RktValLink" data-pltdoc="x">vector-map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">e</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector-%7E3eimmutable-vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector-&gt;immutable-vector</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528lib._racket%252Fvector..rkt%2529._vector-map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector-map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'#(("a" b) ("c" d) ("e" f))</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Lenses_based_on_match_patterns&quot;">3.11<tt>&nbsp;</tt><a name="(part._.Lenses_based_on_match_patterns)"></a>Lenses based on match patterns</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._match-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._match-lens%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">match-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">replacement</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens for viewing the <span class="RktVar">id</span> within the <span class="RktVar">pattern</span>.</div></p><p><div class="SIntrapara">The <span class="RktVar">replacement</span> expression should be an expression such that
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">match</a></span><span class="stt"> </span><span class="RktSym">target</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">pattern</span><span class="stt"> </span><span class="RktVar">replacement</span><span class="RktPn">]</span><span class="RktPn">)</span> produces a value equivalent to
<span class="RktSym">target</span>, and should use <span class="RktVar">id</span> as the view.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._car-lens%29%29" class="RktValLink" data-pltdoc="x">car-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._match-lens%29%29" class="RktStxLink" data-pltdoc="x">match-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._cdr-lens%29%29" class="RktValLink" data-pltdoc="x">cdr-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._match-lens%29%29" class="RktStxLink" data-pltdoc="x">match-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._match-lens%29%29" class="RktStxLink" data-pltdoc="x">match-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vector-second-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._match-lens%29%29" class="RktStxLink" data-pltdoc="x">match-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v2-of-l3-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._match-lens%29%29" class="RktStxLink" data-pltdoc="x">match-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">d</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%252A%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Filtering_sets&quot;">3.12<tt>&nbsp;</tt><a name="(part._.Filtering_sets)"></a>Filtering sets</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._set-filterer-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-filterer-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">set-filterer-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pred</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">functional-set?</span><span class="hspace">&nbsp;</span><span class="RktSym">functional-set?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pred</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that filters a set by the predicate <span class="RktVar">pred</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-filterer-lens%29%29" class="RktValLink" data-pltdoc="x">set-filterer-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">e</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(set 1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-filterer-lens%29%29" class="RktValLink" data-pltdoc="x">set-filterer-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">d</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(set 'c 'b 'a 4 5 6 'e 7 'd)</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">Lists are also sets, so <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-filterer-lens%29%29" class="RktValLink" data-pltdoc="x">set-filterer-lens</a></span> works for lists too, but it
does not preserve ordering. It follows the lens laws only if you compare using
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%7E3d%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set=?</a></span>, not <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-filterer-lens%29%29" class="RktValLink" data-pltdoc="x">set-filterer-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-filterer-lens%29%29" class="RktValLink" data-pltdoc="x">set-filterer-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(3 2 1 a)</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">this breaks the lens laws according to equal?</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">but not according to set=?</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%7E3d%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set=?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Lenses_for_membership_of_a_set&quot;">3.13<tt>&nbsp;</tt><a name="(part._.Lenses_for_membership_of_a_set)"></a>Lenses for membership of a set</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._set-member-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-member-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">set-member-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">functional-set?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens for telling whether <span class="RktVar">v</span> is a member of the target set.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">2-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._set-member-lens%29%29" class="RktValLink" data-pltdoc="x">set-member-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">2-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">2-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">2-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(set 1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">2-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(set 1 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">2-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(set 1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">2-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(set 1 3)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Splitting_Strings&quot;">3.14<tt>&nbsp;</tt><a name="(part._.Splitting_.Strings)"></a>Splitting Strings</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._string-split-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">string-split-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">sep</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sep</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">char?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=regexp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._regexp%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">regexp?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that splits a string into multiple pieces like
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=regexp.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._regexp-split%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">regexp-split</a></span> or <span class="RktSym">string-split</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValLink" data-pltdoc="x">string-split-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">","</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"a,b,c"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("a" "b" "c")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValLink" data-pltdoc="x">string-split-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">","</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"a,b,c"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"1"</span><span class="hspace">&nbsp;</span><span class="RktVal">"2"</span><span class="hspace">&nbsp;</span><span class="RktVal">"3"</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"1,2,3"</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">Lenses created by <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValLink" data-pltdoc="x">string-split-lens</a></span> do not trim strings first, so that
when viewing a target that either starts or ends with something matching
<span class="RktVar">sep</span>, the view will include empty strings as the first or last element,
which is consistant with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=regexp.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._regexp-split%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">regexp-split</a></span> or <span class="RktSym">string-split</span> with
<span class="RktPn">#:trim?</span><span class="stt"> </span><span class="RktVal">#f</span>. This is also more useful when using <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValLink" data-pltdoc="x">string-split-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">","</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">",b,c"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("" "b" "c")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValLink" data-pltdoc="x">string-split-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">","</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">",b,c"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"c"</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"a,b,c"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValLink" data-pltdoc="x">string-split-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">","</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"a,b,c,"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("a" "b" "c" "")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._string-split-lens%29%29" class="RktValLink" data-pltdoc="x">string-split-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">","</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"a,b,c,"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"c"</span><span class="hspace">&nbsp;</span><span class="RktVal">"d"</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"a,b,c,d"</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Joining_lenses_with_structs&quot;">3.15<tt>&nbsp;</tt><a name="(part._.Joining_lenses_with_structs)"></a>Joining lenses with structs</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._lens-join/struct))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lens-join/struct</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-id</span><span class="hspace">&nbsp;</span><span class="RktVar">field-lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">field-lens</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">lens-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">field-keyword</span><span class="hspace">&nbsp;</span><span class="RktVar">lens-expr</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._lens-join%2Flist%29%29" class="RktValLink" data-pltdoc="x">lens-join/list</a></span>, except that the views of the given
lenses are put in an instance of the <span class="RktVar">struct-id</span> struct instead
of in a list.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="RktStxLink" data-pltdoc="x">lens-join/struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(foo 1 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a 2 b)</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">Struct fields in a <span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="RktStxLink" data-pltdoc="x">lens-join/struct</a></span> form can also be
specified by keywords, in any order, and even with some fields specied
by position and some by keywords:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="RktStxLink" data-pltdoc="x">lens-join/struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(foo 1 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="RktStxLink" data-pltdoc="x">lens-join/struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(foo 1 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="RktStxLink" data-pltdoc="x">lens-join/struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(foo 1 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._lens-join%2Fstruct%29%29" class="RktStxLink" data-pltdoc="x">lens-join/struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(foo 1 3)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Converting_between_structs_and_lists&quot;">3.16<tt>&nbsp;</tt><a name="(part._.Converting_between_structs_and_lists)"></a>Converting between structs and lists</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._struct-~3elist-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-~3elist-lens%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct-&gt;list-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._list-~3estruct-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._list-~3estruct-lens%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">list-&gt;struct-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Lenses that convert between structs and lists.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-~3elist-lens%29%29" class="RktStxLink" data-pltdoc="x">struct-&gt;list-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-~3elist-lens%29%29" class="RktStxLink" data-pltdoc="x">struct-&gt;list-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(foo 4 5 6)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._list-~3estruct-lens%29%29" class="RktStxLink" data-pltdoc="x">list-&gt;struct-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(foo 1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._list-~3estruct-lens%29%29" class="RktStxLink" data-pltdoc="x">list-&gt;struct-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(4 5 6)</span></p></td></tr></table></blockquote></div></p><p>For structs that inherit from other structs, it puts the inherited
fields first, so that it matches the arguments to the constructor:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-~3elist-lens%29%29" class="RktStxLink" data-pltdoc="x">struct-&gt;list-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bar</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3 4 5)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-~3elist-lens%29%29" class="RktStxLink" data-pltdoc="x">struct-&gt;list-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bar</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(bar 6 7 8 ...)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._list-~3estruct-lens%29%29" class="RktStxLink" data-pltdoc="x">list-&gt;struct-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(bar 1 2 3 ...)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._list-~3estruct-lens%29%29" class="RktStxLink" data-pltdoc="x">list-&gt;struct-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bar</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(6 7 8 9 10)</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Nested_struct_lenses&quot;">3.17<tt>&nbsp;</tt><a name="(part._.Nested_struct_lenses)"></a>Nested struct lenses</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._struct-nested-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct-nested-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">struct-id</span><span class="hspace">&nbsp;</span><span class="RktVar">field-id</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a lens that views nested structures. Each <span class="RktVar">struct-id</span> and
<span class="RktVar">field-id</span> pair is paired into a lens for viewing that field of that
struct, then the list of lenses are <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span>ed together.</div></p><p><div class="SIntrapara">For example, given a complicated nested tree of state representing a game:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktSym">level</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktSym">stats</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">combat-stats</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">health</span><span class="hspace">&nbsp;</span><span class="RktSym">attack</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">combat-stats</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">foo-level</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">the-game</span></td></tr><tr><td><p><span class="RktRes">(game (player (posn 0 0) (combat-stats 10 1)) 'foo-level)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara">We can create a lens for traversing the nested structures of the game state.
At each step, we provide the name of the struct we&rsquo;re examining and the name
of the field we wish to traverse into.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player-health-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%29%29" class="RktStxLink" data-pltdoc="x">struct-nested-lens</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktSym">player</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktSym">stats</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">combat-stats</span><span class="hspace">&nbsp;</span><span class="RktSym">health</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player-health-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">10</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player-health-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(game (player (posn 0 0) (combat-stats 20 1)) 'foo-level)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._struct-nested-lens*))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%2A%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct-nested-lens*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-id</span><span class="hspace">&nbsp;</span><span class="RktVar">both-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">field-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%29%29" class="RktStxLink" data-pltdoc="x">struct-nested-lens</a></span>, but for the case where each nested
field is named the same as its struct type. For example, given the
game state defined in the examples for <span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%29%29" class="RktStxLink" data-pltdoc="x">struct-nested-lens</a></span>:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktSym">level</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktSym">stats</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">combat-stats</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">health</span><span class="hspace">&nbsp;</span><span class="RktSym">attack</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">combat-stats</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">foo-level</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">the-game</span></td></tr><tr><td><p><span class="RktRes">(game (player (posn 0 0) (combat-stats 10 1)) 'foo-level)</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara">Because each field is named the same as its struct type, we can
create a lens for viewing the player&rsquo;s x coordinate more succinctly
than with <span class="RktSym">struct-nested-examples</span>:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player-x-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-nested-lens%2A%29%29" class="RktStxLink" data-pltdoc="x">struct-nested-lens*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game</span><span class="hspace">&nbsp;</span><span class="RktSym">player</span><span class="hspace">&nbsp;</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player-x-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">0</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">game-player-x-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">the-game</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(game (player (posn 5 0) (combat-stats 10 1)) 'foo-level)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Struct-lens_provide_forms&quot;">3.18<tt>&nbsp;</tt><a name="(part._.Struct-lens_provide_forms)"></a>Struct-lens provide forms</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._struct-lenses-out))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-lenses-out%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct-lenses-out</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span> sub-form that provides the lenses defined by
<span class="RktSym"><a href="lens-reference.html#%28form._%28%28lib._lens%2Fdata%2Fstruct..rkt%29._define-struct-lenses%29%29" class="RktStxLink" data-pltdoc="x">define-struct-lenses</a></span> or <span class="RktSym"><a href="lens-reference.html#%28form._%28%28lib._lens%2Fdata%2Fstruct..rkt%29._struct%2Flens%29%29" class="RktStxLink" data-pltdoc="x">struct/lens</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._struct+lenses-out))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct%2Blenses-out%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct+lenses-out</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span> sub-form short for using both <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct-out%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct-out</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._struct-lenses-out%29%29" class="RktStxLink" data-pltdoc="x">struct-lenses-out</a></span>.</div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Sublist_lenses&quot;">3.19<tt>&nbsp;</tt><a name="(part._.Sublist_lenses)"></a>Sublist lenses</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._sublist-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._sublist-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">sublist-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span><span class="RktVar">j</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">j</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._sublist-lens%29%29" class="RktValLink" data-pltdoc="x">sublist-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._sublist-lens%29%29" class="RktValLink" data-pltdoc="x">sublist-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(0 a b c 4 5)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Substring_Lenses&quot;">3.20<tt>&nbsp;</tt><a name="(part._.Substring_.Lenses)"></a>Substring Lenses</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._substring-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._substring-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">substring-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">start</span><span class="hspace">&nbsp;</span><span class="RktVar">end</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">start</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">end</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that views a substring from <span class="RktVar">start</span> to <span class="RktVar">end</span>
of a given string. <span class="RktVar">start</span> is inclusive and <span class="RktVar">end</span> is exclusive,
in the same way as for <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._substring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">substring</a></span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._substring-lens%29%29" class="RktValLink" data-pltdoc="x">substring-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"abcdefg"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"bcd"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._substring-lens%29%29" class="RktValLink" data-pltdoc="x">substring-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"abcdefg"</span><span class="hspace">&nbsp;</span><span class="RktVal">"FOO"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"aFOOefg"</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">When setting a new view, the replacement string has to be
the same length as the span of the substring lens to uphold
the <a href="lens-reference.html#%28part._laws%29" data-pltdoc="x">lens laws</a>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._substring-lens%29%29" class="RktValLink" data-pltdoc="x">substring-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"kitten"</span><span class="hspace">&nbsp;</span><span class="RktVal">"this string is too long!"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">substring-lens: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: (string-length-=/c 3)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: "this string is too long!"</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: an and/c case of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">the 3rd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">a part of the or/c of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">method lens-set</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">the result result of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((start natural?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(end</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(start)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(and/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">exact-nonnegative-integer?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(&gt;=/c start))))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(result</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(start end)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(lens/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(string-length-&gt;=/c end)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(string-length-=/c (- end start)))))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/lens-data/lens/private/string/substring.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: &lt;pkgs&gt;/lens-data/lens/private/string/substring.rkt:7:3</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Syntax_Lenses&quot;">3.21<tt>&nbsp;</tt><a name="(part._.Syntax_.Lenses)"></a>Syntax Lenses</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._unstable/lens..rkt)._syntax-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._syntax-lens%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">syntax-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">target-id</span><span class="hspace">&nbsp;</span><span class="RktVar">structure</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a lens that parses a syntax object and returns
a piece of that syntax object as determined by where
<span class="RktVar">target-id</span> appears in <span class="RktVar">structure</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-of-second-stx-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._unstable%2Flens..rkt%29._syntax-lens%29%29" class="RktStxLink" data-pltdoc="x">syntax-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-of-second-stx-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="hspace">&nbsp;</span><span class="RktSym">baz</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">blah</span><span class="hspace">&nbsp;</span><span class="RktSym">blah</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 1&gt;</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-of-second-stx-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">g</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:8:0 (define (g a) a)&gt;</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._syntax-keyword-seq-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-keyword-seq-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">syntax-keyword-seq-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">kw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=keywords.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._keyword%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">keyword?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a lens that examines a non-flat syntax object
and views a syntax object containing all the terms in the
target syntax that appear after <span class="RktVar">kw</span> but before any
other keyword.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-keyword-seq-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-keyword-seq-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#:foo</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktPn">#:bar</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:/home/root/user/.local/share/racket/8.6/pkgs/lens-data/lens/private/syntax/syntax-keyword.rkt:33:7 (c d)&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktPn">#:bar</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:/home/root/user/.local/share/racket/8.6/pkgs/lens-data/lens/private/syntax/syntax-keyword.rkt:41:11 (a #:foo 1 2 3 4 5 6 #:bar f)&gt;</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara">If the target syntax object has no occurence of <span class="RktVar">kw</span>,
or if the occurence of <span class="RktVar">kw</span> is at the end of the syntax
object or immediately followed by another keyword, then viewing
produces the empty list syntax object <span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">)</span>. In the case
where <span class="RktVar">kw</span> is not present, setting is a no-op.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-keyword-seq-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-keyword-seq-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#:foo</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">g</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:/home/root/user/.local/share/racket/8.6/pkgs/lens-data/lens/private/syntax/syntax-keyword.rkt:27:43 ()&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktPn">#:bar</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:/home/root/user/.local/share/racket/8.6/pkgs/lens-data/lens/private/syntax/syntax-keyword.rkt:33:7 ()&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktPn">#:bar</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:/home/root/user/.local/share/racket/8.6/pkgs/lens-data/lens/private/syntax/syntax-keyword.rkt:41:11 (a #:foo 1 2 3 4 5 6 #:bar f)&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">foo-kw-seq-lens</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">g</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">these</span><span class="hspace">&nbsp;</span><span class="RktSym">are</span><span class="hspace">&nbsp;</span><span class="RktSym">ignored</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:/home/root/user/.local/share/racket/8.6/pkgs/lens-data/lens/private/syntax/syntax-keyword.rkt:41:11 (a b f g)&gt;</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Syntax_object_lenses_based_on_syntax_stx&quot;">3.22<tt>&nbsp;</tt><a name="(part._.Syntax_object_lenses_based_on_syntax_stx)"></a>Syntax object lenses based on <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528mod-path._syntax%252Fstx%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/stx</span></a></h4><p><div class="SIntrapara">The lenses in this section preserve the distinction between syntax pairs and
syntax lists,&#160;e.g.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-~3elist-lens%29%29" class="RktValLink" data-pltdoc="x">stx-&gt;list-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="stt">(a . (b c))</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">will have the same structure as
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktRdr">#'</span><span class="stt">(1 . (2 3))</span></p></blockquote></div><div class="SIntrapara">If the distinction between syntax pairs and syntax lists were not preserved,
the result would instead be:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktRdr">#'</span><span class="stt">(1 2 3)</span></p></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-~3elist-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-~3elist-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-&gt;list-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A lens that views a stx-list as a list. Viewing with this lens is
equivalent to using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528def._%2528%2528lib._syntax%252Fstx..rkt%2529._stx-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stx-&gt;list</a></span>, and if the target is a syntax
object, setting it with this lens preserves the lexical context,
source location, and syntax properties of the outer syntax object.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-~3elist-lens%29%29" class="RktValLink" data-pltdoc="x">stx-&gt;list-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;syntax:eval:8:0 a&gt; #&lt;syntax:eval:8:0 b&gt; #&lt;syntax:eval:8:0 c&gt;)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-~3elist-lens%29%29" class="RktValLink" data-pltdoc="x">stx-&gt;list-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 (1 2 3)&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._stx-map-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-map-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-map-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that maps <span class="RktVar">lens</span> over a target stx-list. Like
<span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-~3elist-lens%29%29" class="RktValLink" data-pltdoc="x">stx-&gt;list-lens</a></span>, setting with a syntax object target preserves
lexical context, location, and properties.</div></p><p>This is the syntax version of <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._map-lens%29%29" class="RktValLink" data-pltdoc="x">map-lens</a></span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-map-lens%29%29" class="RktValLink" data-pltdoc="x">stx-map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-car-lens%29%29" class="RktValLink" data-pltdoc="x">stx-car-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;syntax:eval:8:0 a&gt; #&lt;syntax:eval:8:0 c&gt; #&lt;syntax:eval:8:0 e&gt;)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-map-lens%29%29" class="RktValLink" data-pltdoc="x">stx-map-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-car-lens%29%29" class="RktValLink" data-pltdoc="x">stx-car-lens</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 ((1 b) (2 d) (3 f))&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-car-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-car-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-car-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cdr-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdr-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cdr-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Lenses for looking at the car and cdr of syntax-pairs.</div></p><p>These are the syntax versions of <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._car-lens%29%29" class="RktValLink" data-pltdoc="x">car-lens</a></span> and <span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._cdr-lens%29%29" class="RktValLink" data-pltdoc="x">cdr-lens</a></span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-car-lens%29%29" class="RktValLink" data-pltdoc="x">stx-car-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:8:0 a&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdr-lens%29%29" class="RktValLink" data-pltdoc="x">stx-cdr-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 b&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-car-lens%29%29" class="RktValLink" data-pltdoc="x">stx-car-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:10:0 (1 . b)&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdr-lens%29%29" class="RktValLink" data-pltdoc="x">stx-cdr-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:11:0 (a . 1)&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-caar-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caar-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-caar-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cdar-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdar-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cdar-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cadr-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cadr-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cadr-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cddr-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cddr-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cddr-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-caaar-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caaar-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-caaar-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cdaar-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdaar-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cdaar-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cadar-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cadar-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cadar-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cddar-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cddar-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cddar-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-caadr-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caadr-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-caadr-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cdadr-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdadr-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cdadr-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-caddr-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caddr-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-caddr-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-cdddr-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-cdddr-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-cdddr-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Lenses for accessing nested syntax-pairs.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caddr-lens%29%29" class="RktValLink" data-pltdoc="x">stx-caddr-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:8:0 c&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-caddr-lens%29%29" class="RktValLink" data-pltdoc="x">stx-caddr-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 (a b 1 d)&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._stx-append*-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-append%2A-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-append*-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A lens like that flattens a stx-list one-level down when viewing, and
restores the original structure when setting.</div></p><p>This is the syntax version of <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">append*-lens</a></span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">stx-append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(#&lt;syntax:eval:8:0 a&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:8:0 b&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:8:0 c&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:8:0 d&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:8:0 e&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:8:0 f&gt;)</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-append%2A-lens%29%29" class="RktValLink" data-pltdoc="x">stx-append*-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 ((1) (2 3) () (4 5 6))&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._stx-flatten/depth-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that flattens a stx-list of depth <span class="RktVar">n</span> when
viewing, and restores the original structure when setting.</div></p><p>This is the syntax version of <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">flatten/depth-lens</a></span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">42</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;syntax:eval:8:0 42&gt;)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">42</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">43</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 43&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:10:0 (a b c)&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:11:0 (1 2 3)&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(#&lt;syntax:eval:12:0 a&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:12:0 b&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:12:0 c&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:12:0 d&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:12:0 e&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:12:0 f&gt;)</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:13:0 ((1) (2 3) () (4 5 6))&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(#&lt;syntax:eval:14:0 a&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:14:0 b&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:14:0 c&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:14:0 d&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:14:0 e&gt;</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:eval:14:0 f&gt;)</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:15:0 (((1) ()) (() (2) (3)) () ((4 5) () (6)))&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._stx-append*n-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-append%2An-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-append*n-lens</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This is deprecated. Use <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._stx-flatten%2Fdepth-lens%29%29" class="RktValLink" data-pltdoc="x">stx-flatten/depth-lens</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="stt"> </span><span class="RktVar">n</span><span class="RktPn">)</span><span class="RktPn">)</span> instead.</div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Syntax_object_source_locations&quot;">3.23<tt>&nbsp;</tt><a name="(part._.Syntax_object_source_locations)"></a>Syntax object source locations</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._syntax-srcloc-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-srcloc-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">syntax-srcloc-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._srcloc%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc?</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A lens that views the source location of a syntax object as a
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._srcloc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc</a></span> structure.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-srcloc-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-srcloc-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(srcloc 'eval 8 0 8 1)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-srcloc-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-srcloc-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._srcloc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a.rkt"</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">55</span><span class="hspace">&nbsp;</span><span class="RktVal">13</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:a.rkt:5:8 here&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-source%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-source</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-srcloc-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-srcloc-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._srcloc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a.rkt"</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">55</span><span class="hspace">&nbsp;</span><span class="RktVal">13</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"a.rkt"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-position%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-position</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-srcloc-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-srcloc-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._srcloc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a.rkt"</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">55</span><span class="hspace">&nbsp;</span><span class="RktVal">13</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">55</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._syntax-source-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-source-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">syntax-source-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A lens that views the source field of a syntax object.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-source-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-source-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'eval</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-source-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-source-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">"a.rkt"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:a.rkt:9:0 here&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-source%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-source</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-source-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-source-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">"a.rkt"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"a.rkt"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._syntax-line-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-line-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">syntax-line-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A lens that views the line number of a syntax object.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-line-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-line-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">8</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-line-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-line-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:8:0 here&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-line%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-line</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-line-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-line-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">8</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._syntax-column-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-column-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">syntax-column-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A lens that views the column number of a syntax object within its line.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-column-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-column-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">0</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-column-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-column-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">13</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:13 here&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-column%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-column</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-column-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-column-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">13</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">13</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._syntax-position-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-position-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">syntax-position-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A lens that views the source position a syntax object.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-position-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-position-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">8</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-position-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-position-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">21</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 here&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-position%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-position</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-position-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-position-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">21</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">21</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._syntax-span-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-span-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">syntax-span-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A lens that views the source span a syntax object.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-span-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-span-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-span-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-span-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">34</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:9:0 here&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-span%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-span</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-span-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-span-lens</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">here</span><span class="hspace">&nbsp;</span><span class="RktVal">34</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">34</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-~3esrcloc-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-~3esrcloc-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-&gt;srcloc-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._srcloc%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc?</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-~3elist-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-~3elist-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-&gt;list-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location-list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location-list?</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-~3evector-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-~3evector-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-&gt;vector-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location-vector%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location-vector?</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Lenses for converting from all the common types of source locations
into <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._srcloc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">srcloc</a></span> structures, lists, and vectors.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-source-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-source-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-source-lens</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-line-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-line-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-line-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-column-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-column-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-column-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-position-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-position-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-position-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._unstable/lens..rkt)._source-location-span-lens))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._source-location-span-lens%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-location-span-lens</a></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens%2Fc%29%29" class="RktValLink" data-pltdoc="x">lens/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Source_Locations.html%23%2528def._%2528%2528lib._syntax%252Fsrcloc..rkt%2529._source-location%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">source-location?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-source-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-source-lens</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._syntax-line-lens%29%29" class="RktValLink" data-pltdoc="x">syntax-line-lens</a></span>, etc, but for all
the common types of source locations.</div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;More_Viewing_and_Setting&quot;">3.24<tt>&nbsp;</tt><a name="(part._.More_.Viewing_and_.Setting)"></a>More Viewing and Setting</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-set-all))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set-all%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-set-all</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span><span class="RktVar">new-view</span><span class="hspace">&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">new-view</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Sets the view of <span class="RktVar">target</span> through each <span class="RktVar">lens</span> to <span class="RktSym">new--view</span>
</div><div class="SIntrapara"><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-set-all%29%29" class="RktValLink" data-pltdoc="x">lens-set-all</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._fourth-lens%29%29" class="RktValLink" data-pltdoc="x">fourth-lens</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(a 2 a a 5)</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;lens/main.scrbl&quot;)" x-source-pkg="lens-doc" x-part-tag="&quot;Lenses_that_transform_subpieces&quot;">3.25<tt>&nbsp;</tt><a name="(part._.Lenses_that_transform_subpieces)"></a>Lenses that transform subpieces</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-zoom))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-zoom</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">zoom-lens</span><span class="hspace">&nbsp;</span><span class="RktVar">transform-lens</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">zoom-lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transform-lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a lens that transforms the subpiece of the target that <span class="RktVar">zoom-lens</span>
views with <span class="RktVar">transform-lens</span>.</div></p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%29%29" class="RktValLink" data-pltdoc="x">lens-zoom</a></span><span class="hspace">&nbsp;</span><span class="RktVar">zoom-lens</span><span class="hspace">&nbsp;</span><span class="RktVar">transform-lens</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">target</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">is equivalent to:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-transform%29%29" class="RktValLink" data-pltdoc="x">lens-transform</a></span><span class="hspace">&nbsp;</span><span class="RktVar">zoom-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">target</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktVar">transform-lens</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-zoom-second-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%29%29" class="RktValLink" data-pltdoc="x">lens-zoom</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-zoom-second-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(2 b c)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-zoom-second-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">2000</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">FOO</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1 2000 3) b FOO)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._unstable/lens..rkt)._lens-zoom*))"></a><span title="Provided from: unstable/lens | Package: lens-unstable"><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">lens-zoom*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">zoom-lens</span><span class="hspace">&nbsp;</span><span class="RktVar">transform-lens</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">zoom-lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transform-lens</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens~3f%29%29" class="RktValLink" data-pltdoc="x">lens?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A multi-arg version of <span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%29%29" class="RktValLink" data-pltdoc="x">lens-zoom</a></span>, analogous to
<span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-transform%2Flist%29%29" class="RktValLink" data-pltdoc="x">lens-transform/list</a></span>. It is equivalent to
<span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-thrush%29%29" class="RktValLink" data-pltdoc="x">lens-thrush</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%29%29" class="RktValLink" data-pltdoc="x">lens-zoom</a></span><span class="stt"> </span><span class="RktVar">zoom-lens</span><span class="stt"> </span><span class="RktVar">transform-lens</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-zoom-second/third-zoom-first-lens</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._unstable%2Flens..rkt%29._lens-zoom%2A%29%29" class="RktValLink" data-pltdoc="x">lens-zoom*</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._second-lens%29%29" class="RktValLink" data-pltdoc="x">second-lens</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._third-lens%29%29" class="RktValLink" data-pltdoc="x">third-lens</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fdata%2Flist..rkt%29._first-lens%29%29" class="RktValLink" data-pltdoc="x">first-lens</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-view%29%29" class="RktValLink" data-pltdoc="x">lens-view</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-zoom-second/third-zoom-first-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">foo</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(2 foo a)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="lens-reference.html#%28def._%28%28lib._lens%2Fcommon..rkt%29._lens-set%29%29" class="RktValLink" data-pltdoc="x">lens-set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-zoom-second/third-zoom-first-lens</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">foo</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">200</span><span class="hspace">&nbsp;</span><span class="RktVal">FOO</span><span class="hspace">&nbsp;</span><span class="RktVal">asdf</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1 200 3) FOO (asdf b c))</span></p></td></tr></table></blockquote></div></p></div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="lens-reference.html" title="backward to &quot;2 The Lens Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Lenses&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/lens/Unstable_Lenses.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:27:25 GMT -->
</html>