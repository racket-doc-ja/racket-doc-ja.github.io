<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/web-server/http.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:14:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4&nbsp;HTTP: Hypertext Transfer Protocol</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Web Applications in Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="run.html" class="tocviewlink" data-pltdoc="x">Running Web Servlets</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="servlet.html" class="tocviewlink" data-pltdoc="x">Stateful Servlets</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="stateless.html" class="tocviewlink" data-pltdoc="x">Stateless Servlets</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">HTTP:<span class="mywbr"> &nbsp;</span> Hypertext Transfer Protocol</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="dispatch.html" class="tocviewlink" data-pltdoc="x">URL-<wbr></wbr>Based Dispatch</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="formlets.html" class="tocviewlink" data-pltdoc="x">Formlets:<span class="mywbr"> &nbsp;</span> Functional Form Abstraction</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="templates.html" class="tocviewlink" data-pltdoc="x">Templates:<span class="mywbr"> &nbsp;</span> Separation of View</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="page.html" class="tocviewlink" data-pltdoc="x">Page:<span class="mywbr"> &nbsp;</span> Short-<wbr></wbr>hand for Common Patterns</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="test.html" class="tocviewlink" data-pltdoc="x">Testing Servlets</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="faq.html" class="tocviewlink" data-pltdoc="x">Troubleshooting and Tips</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>4&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">HTTP:<span class="mywbr"> &nbsp;</span> Hypertext Transfer Protocol</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="#%28part._request-structs%29" class="tocviewlink" data-pltdoc="x">Requests</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="#%28part._bindings%29" class="tocviewlink" data-pltdoc="x">Bindings</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="#%28part._response-structs%29" class="tocviewlink" data-pltdoc="x">Responses</a></td></tr><tr><td align="right">4.4&nbsp;</td><td><a href="#%28part._cookie%29" class="tocviewlink" data-pltdoc="x">Placing Cookies</a></td></tr><tr><td align="right">4.5&nbsp;</td><td><a href="#%28part._id-cookie%29" class="tocviewlink" data-pltdoc="x">Authenticated Cookies</a></td></tr><tr><td align="right">4.6&nbsp;</td><td><a href="#%28part._cookie-parse%29" class="tocviewlink" data-pltdoc="x">Extracting Cookies</a></td></tr><tr><td align="right">4.7&nbsp;</td><td><a href="#%28part._redirect%29" class="tocviewlink" data-pltdoc="x">Redirect</a></td></tr><tr><td align="right">4.8&nbsp;</td><td><a href="#%28part._basic-auth%29" class="tocviewlink" data-pltdoc="x">Basic Authentication</a></td></tr><tr><td align="right">4.9&nbsp;</td><td><a href="#%28part._digest-auth%29" class="tocviewlink" data-pltdoc="x">Digest Authentication</a></td></tr><tr><td align="right">4.10&nbsp;</td><td><a href="#%28part._xexpr%29" class="tocviewlink" data-pltdoc="x">X-<wbr></wbr>expression Support</a></td></tr><tr><td align="right">4.11&nbsp;</td><td><a href="#%28part._empty%29" class="tocviewlink" data-pltdoc="x">Empty Responses</a></td></tr><tr><td align="right">4.12&nbsp;</td><td><a href="#%28part._json%29" class="tocviewlink" data-pltdoc="x">JSON Support</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._request-structs%29" class="tocsubseclink" data-pltdoc="x">Requests</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">header</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._headers-assq%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">headers-<wbr></wbr>assq</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._headers-assq%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">headers-<wbr></wbr>assq*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">binding</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3aform%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">binding:<span class="mywbr"> &nbsp;</span>form</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">binding:<span class="mywbr"> &nbsp;</span>file</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport-in%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">binding:<span class="mywbr"> &nbsp;</span>file/<span class="mywbr"> &nbsp;</span>port-<wbr></wbr>in</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">binding:<span class="mywbr"> &nbsp;</span>file/<span class="mywbr"> &nbsp;</span>port?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%2Fport%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>binding:<span class="mywbr"> &nbsp;</span>file/<span class="mywbr"> &nbsp;</span>port</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._bindings-assq%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">bindings-<wbr></wbr>assq</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._bindings-assq-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">bindings-<wbr></wbr>assq-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request-bindings%2Fraw%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>bindings/<span class="mywbr"> &nbsp;</span>raw</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._bindings%29" class="tocsubseclink" data-pltdoc="x">Bindings</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbindings..rkt%29._request-bindings%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>bindings</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbindings..rkt%29._request-headers%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>headers</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbindings..rkt%29._extract-binding%2Fsingle%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">extract-<wbr></wbr>binding/<span class="mywbr"> &nbsp;</span>single</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbindings..rkt%29._extract-bindings%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">extract-<wbr></wbr>bindings</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbindings..rkt%29._exists-binding~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exists-<wbr></wbr>binding?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#%28part._response-structs%29" class="tocsubseclink" data-pltdoc="x">Responses</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">response</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response-code%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">response-<wbr></wbr>code/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">response/<span class="mywbr"> &nbsp;</span>full</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Foutput%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">response/<span class="mywbr"> &nbsp;</span>output</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">TEXT/<span class="mywbr"> &nbsp;</span>HTML-<wbr></wbr>MIME-<wbr></wbr>TYPE</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.A.P.P.L.I.C.A.T.I.O.N%2F.J.S.O.N-.M.I.M.E-.T.Y.P.E%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">APPLICATION/<span class="mywbr"> &nbsp;</span>JSON-<wbr></wbr>MIME-<wbr></wbr>TYPE</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.4<tt>&nbsp;</tt></span><a href="#%28part._cookie%29" class="tocsubseclink" data-pltdoc="x">Placing Cookies</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>cookie</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._cookie-~3eheader%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cookie-<wbr></wbr>&gt;header</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.5<tt>&nbsp;</tt></span><a href="#%28part._id-cookie%29" class="tocsubseclink" data-pltdoc="x">Authenticated Cookies</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-id-cookie%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>id-<wbr></wbr>cookie</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._request-id-cookie%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>id-<wbr></wbr>cookie</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._valid-id-cookie~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">valid-<wbr></wbr>id-<wbr></wbr>cookie?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._logout-id-cookie%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">logout-<wbr></wbr>id-<wbr></wbr>cookie</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-secret-salt%2Ffile%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>secret-<wbr></wbr>salt/<span class="mywbr"> &nbsp;</span>file</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.6<tt>&nbsp;</tt></span><a href="#%28part._cookie-parse%29" class="tocsubseclink" data-pltdoc="x">Extracting Cookies</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._client-cookie%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">client-<wbr></wbr>cookie</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._request-cookies%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>cookies</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.7<tt>&nbsp;</tt></span><a href="#%28part._redirect%29" class="tocsubseclink" data-pltdoc="x">Redirect</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirect-to%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redirect-<wbr></wbr>to</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirection-status~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redirection-<wbr></wbr>status?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">temporarily</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%2Fsame-method%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">temporarily/<span class="mywbr"> &nbsp;</span>same-<wbr></wbr>method</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._see-other%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">see-<wbr></wbr>other</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._permanently%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">permanently</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.8<tt>&nbsp;</tt></span><a href="#%28part._basic-auth%29" class="tocsubseclink" data-pltdoc="x">Basic Authentication</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbasic-auth..rkt%29._make-basic-auth-header%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>basic-<wbr></wbr>auth-<wbr></wbr>header</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbasic-auth..rkt%29._request-~3ebasic-credentials%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>&gt;basic-<wbr></wbr>credentials</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.9<tt>&nbsp;</tt></span><a href="#%28part._digest-auth%29" class="tocsubseclink" data-pltdoc="x">Digest Authentication</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._make-digest-auth-header%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>digest-<wbr></wbr>auth-<wbr></wbr>header</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._request-~3edigest-credentials%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>&gt;digest-<wbr></wbr>credentials</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._username%2Arealm-~3epassword%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">username*realm-<wbr></wbr>&gt;password/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._username%2Arealm-~3edigest-.H.A1%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">username*realm-<wbr></wbr>&gt;digest-<wbr></wbr>HA1/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._password-~3edigest-.H.A1%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">password-<wbr></wbr>&gt;digest-<wbr></wbr>HA1</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._make-check-digest-credentials%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>check-<wbr></wbr>digest-<wbr></wbr>credentials</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.10<tt>&nbsp;</tt></span><a href="#%28part._xexpr%29" class="tocsubseclink" data-pltdoc="x">X-<wbr></wbr>expression Support</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fxexpr..rkt%29._response%2Fxexpr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">response/<span class="mywbr"> &nbsp;</span>xexpr</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.11<tt>&nbsp;</tt></span><a href="#%28part._empty%29" class="tocsubseclink" data-pltdoc="x">Empty Responses</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fempty..rkt%29._response%2Fempty%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">response/<span class="mywbr"> &nbsp;</span>empty</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.12<tt>&nbsp;</tt></span><a href="#%28part._json%29" class="tocsubseclink" data-pltdoc="x">JSON Support</a></td></tr><tr><td><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fjson..rkt%29._response%2Fjsexpr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">response/<span class="mywbr"> &nbsp;</span>jsexpr</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="stateless.html" title="backward to &quot;3 Stateless Servlets&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Web Applications in Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="dispatch.html" title="forward to &quot;5 URL-Based Dispatch&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;http&quot;">4<tt>&nbsp;</tt><a name="(part._http)"></a><a name="(mod-path._web-server/http)"></a>HTTP: Hypertext Transfer Protocol</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></p><p>The Web Server implements many HTTP libraries that are provided by this module.</p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;request-structs&quot;">4.1<tt>&nbsp;</tt><a name="(part._request-structs)"></a><a name="(mod-path._web-server/http/request-structs)"></a>Requests</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Frequest-structs%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/request-structs</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._header-value))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._header-field))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-header))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._header~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3aheader))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._header))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header%29%29" class="RktValDef RktValLink" data-pltdoc="x">header</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">field</span><span class="stt"> </span><span class="RktSym">value</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-header%29%29" class="RktValLink" data-pltdoc="x">make-header</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">field</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a header of <span class="RktSym">field</span> to <span class="RktSym">value</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._headers-assq))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._headers-assq%29%29" class="RktValDef RktValLink" data-pltdoc="x">headers-assq</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">heads</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._false%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">heads</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the header with a field equal to <span class="RktVar">id</span> from <span class="RktVar">heads</span> or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._headers-assq*))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._headers-assq%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">headers-assq*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">heads</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._false%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">heads</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the header with a field case-insensitively equal to <span class="RktVar">id</span> from <span class="RktVar">heads</span> or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara">You almost <span style="font-weight: bold">always</span> want to use this, rather than <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._headers-assq%29%29" class="RktValLink" data-pltdoc="x">headers-assq</a></span> because Web browsers may send headers with arbitrary casing.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._binding-id))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-binding))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3abinding))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding%29%29" class="RktValDef RktValLink" data-pltdoc="x">binding</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">id</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding%29%29" class="RktValLink" data-pltdoc="x">make-binding</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a binding of <span class="RktSym">id</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3aform-value))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-binding~3aform))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3aform~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3abinding~3aform))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3aform))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3aform%29%29" class="RktValDef RktValLink" data-pltdoc="x">binding:form</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding%29%29" class="RktValLink" data-pltdoc="x">binding</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">value</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3aform%29%29" class="RktValLink" data-pltdoc="x">make-binding:form</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a form binding of <span class="RktSym">id</span> to <span class="RktSym">value</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile-content))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile-headers))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile-filename))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-binding~3afile))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3abinding~3afile))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%29%29" class="RktValDef RktValLink" data-pltdoc="x">binding:file</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding%29%29" class="RktValLink" data-pltdoc="x">binding</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">filename</span><span class="stt"> </span><span class="RktSym">headers</span><span class="stt"> </span><span class="RktSym">content</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%29%29" class="RktValLink" data-pltdoc="x">make-binding:file</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">content</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents the uploading of the file <span class="RktSym">filename</span> with the id
<span class="RktSym">id</span> and the content <span class="RktSym">content</span>, where <span class="RktSym">headers</span>
are the additional headers from the MIME envelope the file was in.
For example, the <span class="RktVal">#"Content-Type"</span> header may be included by
some browsers.</div></p></div><div class="SIntrapara">See also <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport-in%29%29" class="RktValLink" data-pltdoc="x">binding:file/port-in</a></span>, an alternative interface
to file uploads that can be significantly more memory efficient.</div><div class="SIntrapara"><p class="SHistory">Changed in version 1.6 of package <span class="stt">web-server-lib</span>: Extended to support a port-based representation:
see <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport-in%29%29" class="RktValLink" data-pltdoc="x">binding:file/port-in</a></span>.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile/port-in))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport-in%29%29" class="RktValDef RktValLink" data-pltdoc="x">binding:file/port-in</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">binding</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binding</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport~3f%29%29" class="RktValLink" data-pltdoc="x">binding:file/port?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile/port~3f))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">binding:file/port?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._make-binding~3afile/port))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%2Fport%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-binding:file/port</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">id</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">filename</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">headers</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">content-in</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport~3f%29%29" class="RktValLink" data-pltdoc="x">binding:file/port?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">content-in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">The web server can avoid storing uploaded files in memory.
In particular, a <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=web-server-internal&amp;rel=dispatch-server-unit.html%23%2528tech._safety._limit%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">safety limits</span></a> value can instruct this
library to offload files to disk if they are larger than some threshold.
Even for file uploads that are not written to disk,
the web server initially places the content in an input port,
rather than a byte-string, so that storage need not be retained
after the content has been read.</div></p></div><div class="SIntrapara">The port-based interface is exposed to programmers,
and it can be significantly more memory efficient than
the byte-string&ndash;based interface.
However, the port-based interface is stateful:
programmers who use it take responsibility for managing the state
of the input port.
Read on for details.</div><div class="SIntrapara">To maintain compatability, the port-based interface uses a private,
opaque subtype of <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%29%29" class="RktValLink" data-pltdoc="x">binding:file</a></span>.
Instances of this extended type are recognized by the predicate
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport~3f%29%29" class="RktValLink" data-pltdoc="x">binding:file/port?</a></span> and are created using
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%2Fport%29%29" class="RktValLink" data-pltdoc="x">make-binding:file/port</a></span>, which is like <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%29%29" class="RktValLink" data-pltdoc="x">make-binding:file</a></span>,
but takes the file content as an input port rather than a byte string.
Only <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%29%29" class="RktValLink" data-pltdoc="x">binding:file</a></span> instances recognized by <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport~3f%29%29" class="RktValLink" data-pltdoc="x">binding:file/port?</a></span>
support <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport-in%29%29" class="RktValLink" data-pltdoc="x">binding:file/port-in</a></span>.
The web server uses <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%2Fport%29%29" class="RktValLink" data-pltdoc="x">make-binding:file/port</a></span> when reading
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request%29%29" class="RktValLink" data-pltdoc="x">request</a></span> structures, which is the primary way most programs
encounter <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%29%29" class="RktValLink" data-pltdoc="x">binding:file</a></span> instances:
however, deserialized instances (see below) and instances constructed
manually using <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%29%29" class="RktValLink" data-pltdoc="x">make-binding:file</a></span> do not support the port-based API.</div><div class="SIntrapara"><p><div class="SIntrapara">It is important to be aware of how <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span>
works with port-based instances.
The first time <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span> is called on a
port-based instance <span class="RktVar">v</span>, it consumes the port&rsquo;s remaining content
as with <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-lib.html%23%2528def._%2528%2528lib._racket%252Fport..rkt%2529._port-%7E3ebytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">port-&gt;bytes</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%2Fport-in%29%29" class="RktValLink" data-pltdoc="x">binding:file/port-in</a></span><span class="stt"> </span><span class="RktVar">v</span><span class="RktPn">)</span><span class="RktPn">)</span>,
memoizes the result for future calls to <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span>,
and closes the input port.
This behavior means that:
</div><div class="SIntrapara"><ul><li><p>A given byte of input may be either stored in the
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span> field or read directly by
from the input port, but never both; and</p></li><li><p>If the input port has already been closed directly
when <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span> is called for the first time,
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span> will raise an exception.</p></li></ul></div></p></div><div class="SIntrapara">Accessing the <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span> field indirectly,
such as by using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">match</a></span>, has the same behavior as calling
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span> directly.
In particular, calling <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=serialization.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fserialize..rkt%2529._serialize%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">serialize</a></span> on a <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%29%29" class="RktValLink" data-pltdoc="x">binding:file</a></span>
instance implicitly uses <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile-content%29%29" class="RktValLink" data-pltdoc="x">binding:file-content</a></span>,
and deserialized instances are effectively constructed using
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-binding~3afile%29%29" class="RktValLink" data-pltdoc="x">make-binding:file</a></span>.</div><div class="SIntrapara"><p class="SHistory">Added in version 1.6 of package <span class="stt">web-server-lib</span>.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._bindings-assq))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._bindings-assq%29%29" class="RktValDef RktValLink" data-pltdoc="x">bindings-assq</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._false%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3f%29%29" class="RktValLink" data-pltdoc="x">binding?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3f%29%29" class="RktValLink" data-pltdoc="x">binding?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the binding with an id equal to <span class="RktVar">id</span> from <span class="RktVar">binds</span> or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._bindings-assq-all))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._bindings-assq-all%29%29" class="RktValDef RktValLink" data-pltdoc="x">bindings-assq-all</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3f%29%29" class="RktValLink" data-pltdoc="x">binding?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3f%29%29" class="RktValLink" data-pltdoc="x">binding?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._bindings-assq%29%29" class="RktValLink" data-pltdoc="x">bindings-assq</a></span>, but returns a list of all bindings matching <span class="RktVar">id</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._web-server/http/request-structs..rkt)._request-client-ip))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-host-port))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-host-ip))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-post-data/raw))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw-promise))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-headers/raw))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-uri))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-method))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-request))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3arequest))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request%29%29" class="RktValDef RktValLink" data-pltdoc="x">request</a></span></span></span></td><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span></td><td><span class="nobreak"><span class="RktSym">method</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">uri</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">headers/raw</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">bindings/raw-promise</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">post-data/raw</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">host-ip</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">host-port</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">client-ip</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-request%29%29" class="RktValLink" data-pltdoc="x">make-request</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">method</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">uri</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=net&amp;rel=url.html%23%2528def._%2528%2528lib._net%252Furl-structs..rkt%2529._url%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">url?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers/raw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">bindings/raw-promise</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._promise%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">promise/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3f%29%29" class="RktValLink" data-pltdoc="x">binding?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">post-data/raw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">host-ip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">host-port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">client-ip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An HTTP <span class="RktSym">method</span> request to <span class="RktSym">uri</span> from <span class="RktSym">client-ip</span>
to the server at <span class="RktSym">host-ip</span>:<span class="RktSym">host-port</span> with <span class="RktSym">headers/raw</span>
headers, <span class="RktSym">bindings/raw</span> GET and POST queries and <span class="RktSym">post-data/raw</span>
POST data.</div></p></div><div class="SIntrapara">You are <span style="font-weight: bold">unlikely to need to construct</span> a request struct.</div><div class="SIntrapara"><p class="SHistory">Changed in version 1.6 of package <span class="stt">web-server-lib</span>: Fixed to answer <span class="RktVal">#f</span> to <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=serialization.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fserialize..rkt%2529._serializable%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">serializable?</a></span>,
as all <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request%29%29" class="RktValLink" data-pltdoc="x">request</a></span> instances contain non-serializable pieces.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw))"></a><span title="Provided from: web-server/http/request-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request-bindings%2Fraw%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-bindings/raw</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3f%29%29" class="RktValLink" data-pltdoc="x">binding?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Forces <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request-bindings%2Fraw-promise%29%29" class="RktValLink" data-pltdoc="x">request-bindings/raw-promise</a></span><span class="stt"> </span><span class="RktVar">r</span><span class="RktPn">)</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Here is an example typical of what you will find in many applications:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-number</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">match</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._bindings-assq%29%29" class="RktValLink" data-pltdoc="x">bindings-assq</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"number"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request-bindings%2Fraw%29%29" class="RktValLink" data-pltdoc="x">request-bindings/raw</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3aform~3f%29%29" class="RktValLink" data-pltdoc="x">binding:form?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3enumber%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;number</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3estring%252Futf-8%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;string/utf-8</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3aform-value%29%29" class="RktValLink" data-pltdoc="x">binding:form-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-number</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">request-number</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;bindings&quot;">4.2<tt>&nbsp;</tt><a name="(part._bindings)"></a><a name="(mod-path._web-server/http/bindings)"></a>Bindings</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fbindings%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/bindings</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara">These functions, while convenient, could introduce subtle errors into your
application. Examples: that they are case-insensitive could introduce
an error; if the data submitted is not in UTF-8 format, then the conversion
to a string will fail; if an attacker submits a form field as if it were
a file, when it is not, then the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=continue&amp;rel=index.html%23%2528def._%2528%2528lib._web-server%252Fservlet..rkt%2529._request-bindings%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request-bindings</a></span> will hold a
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span> object and your program will error; and, for file uploads
you lose the filename. <span style="font-weight: bold">Therefore, we recommend against their use, but
they are provided for compatibility with old code.</span></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._request-bindings))"></a><span title="Provided from: web-server/http/bindings | Package: web-server-lib"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=continue&amp;rel=index.html%23%2528def._%2528%2528lib._web-server%252Fservlet..rkt%2529._request-bindings%2529%2529&amp;version=8.6" class="RktValDef Sq RktValLink" data-pltdoc="x">request-bindings</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Translates the <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request-bindings%2Fraw%29%29" class="RktValLink" data-pltdoc="x">request-bindings/raw</a></span> of <span class="RktVar">req</span> by
interpreting <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span> as <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span>s, except in the case
of <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._binding~3afile%29%29" class="RktValLink" data-pltdoc="x">binding:file</a></span> bindings, whose contents are returned as
bytes. Ids are then translated into lowercase symbols.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._request-headers))"></a><span title="Provided from: web-server/http/bindings | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbindings..rkt%29._request-headers%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-headers</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Translates the <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request-headers%2Fraw%29%29" class="RktValLink" data-pltdoc="x">request-headers/raw</a></span> of <span class="RktVar">req</span> by
interpreting <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span> as <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span>s. Ids are then
translated into lowercase symbols.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._extract-binding/single))"></a><span title="Provided from: web-server/http/bindings | Package: web-server-lib"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=continue&amp;rel=index.html%23%2528def._%2528%2528lib._web-server%252Fservlet..rkt%2529._extract-binding%252Fsingle%2529%2529&amp;version=8.6" class="RktValDef Sq RktValLink" data-pltdoc="x">extract-binding/single</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the single binding associated with <span class="RktVar">id</span> in the a-list <span class="RktVar">binds</span>
if there is exactly one binding. Otherwise raises <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._extract-bindings))"></a><span title="Provided from: web-server/http/bindings | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbindings..rkt%29._extract-bindings%29%29" class="RktValDef RktValLink" data-pltdoc="x">extract-bindings</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a list of all the bindings of <span class="RktVar">id</span> in the a-list <span class="RktVar">binds</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._exists-binding~3f))"></a><span title="Provided from: web-server/http/bindings | Package: web-server-lib"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=continue&amp;rel=index.html%23%2528def._%2528%2528lib._web-server%252Fservlet..rkt%2529._exists-binding%7E3f%2529%2529&amp;version=8.6" class="RktValDef Sq RktValLink" data-pltdoc="x">exists-binding?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">binds</span> contains a binding for <span class="RktVar">id</span>.
Otherwise, <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Here is an example typical of what you will find in many applications:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-number</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3enumber%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;number</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=continue&amp;rel=index.html%23%2528def._%2528%2528lib._web-server%252Fservlet..rkt%2529._extract-binding%252Fsingle%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">extract-binding/single</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">number</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=continue&amp;rel=index.html%23%2528def._%2528%2528lib._web-server%252Fservlet..rkt%2529._request-bindings%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">request-bindings</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;response-structs&quot;">4.3<tt>&nbsp;</tt><a name="(part._response-structs)"></a><a name="(mod-path._web-server/http/response-structs)"></a>Responses</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fresponse-structs%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/response-structs</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._web-server/http/response-structs..rkt)._response-output))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-headers))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-mime))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-seconds))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-message))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-code))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response~3f))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._struct~3aresponse))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response))"></a><span title="Provided from: web-server/http/response-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValDef RktValLink" data-pltdoc="x">response</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">code</span><span class="stt"> </span><span class="RktSym">message</span><span class="stt"> </span><span class="RktSym">seconds</span><span class="stt"> </span><span class="RktSym">mime</span><span class="stt"> </span><span class="RktSym">headers</span><span class="stt"> </span><span class="RktSym">output</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response-code%2Fc%29%29" class="RktValLink" data-pltdoc="x">response-code/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">mime</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">output</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._output-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/response-structs..rkt)._response-code/c))"></a><span title="Provided from: web-server/http/response-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response-code%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">response-code/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._integer-in%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="hspace">&nbsp;</span><span class="RktVal">999</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">An HTTP response where <span class="RktSym">output</span> produces the body by writing to
the output port. <span class="RktSym">code</span> is the response code, <span class="RktSym">message</span>
the message, <span class="RktSym">seconds</span> the generation time, <span class="RktSym">mime</span> the
MIME type of the file, and <span class="RktSym">headers</span> are the headers.</div></p></div><div class="SIntrapara">If <span class="RktSym">headers</span> does not include <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Date</span><span class="hspace"></span></span>,
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">Last-Modified</span><span class="hspace"></span></span>, or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Server</span><span class="hspace"></span></span> headers, then the server
will automatically add them, where <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Date</span><span class="hspace"></span></span> is based on
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Last-Modified</span><span class="hspace"></span></span> is based on
<span class="RktSym">seconds</span>, and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Server</span><span class="hspace"></span></span> is <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Racket</span><span class="hspace"></span></span>.</div><div class="SIntrapara">If <span class="RktSym">headers</span> does not include <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Content-Type</span><span class="hspace"></span></span> and
<span class="RktSym">mime</span> is not <span class="RktVal">#f</span>, then <span class="RktSym">mime</span> is added as a
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">Content-Type</span><span class="hspace"></span></span> header.</div><div class="SIntrapara">The server will always replace your <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Connection</span><span class="hspace"></span></span> header if it
needs to ensure the connection will be closed. (Typically with an
HTTP/1.0 client.)</div><div class="SIntrapara">The server will always put headers it generates before those in the
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span> structure and guarantees that the headers supplied
appear in the output in the order given. (This is relevant if multiple
occurrences of the same header have a different interpretation by the
client, such as with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Set-Cookie</span><span class="hspace"></span></span>.)</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:
 </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">301</span><span class="hspace">&nbsp;</span><span class="RktVal">#"OK"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._empty%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">empty</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">op</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Byte_and_String_Output.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write-bytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">write-bytes</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"&lt;html&gt;&lt;body&gt;Hello, World!&lt;/body&gt;&lt;/html&gt;"</span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">301</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Moved Permanently"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-header%29%29" class="RktValLink" data-pltdoc="x">make-header</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"Location"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"http://racket-lang.org/download"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">op</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Byte_and_String_Output.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write-bytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">write-bytes</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"Moved"</span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">304</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Not Modified"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-header%29%29" class="RktValLink" data-pltdoc="x">make-header</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"Location"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"http://racket-lang.org/download"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div><div class="SIntrapara"><p class="SHistory">Changed in version 1.2 of package <span class="stt">web-server-lib</span>: Contract on <span class="RktSym">output</span> weakened to allow <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span>
as the result (instead of demanding <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span>).<br/>Changed in version 1.3: Added <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response-code%2Fc%29%29" class="RktValLink" data-pltdoc="x">response-code/c</a></span> and made the
contracts on <span class="RktSym">code</span> and <span class="RktSym">seconds</span>
stronger (rather than accepting <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span>).</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/response-structs..rkt)._response/full))"></a><span title="Provided from: web-server/http/response-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValDef RktValLink" data-pltdoc="x">response/full</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">code</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">message</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">seconds</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">mime</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">headers</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">body</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response~3f%29%29" class="RktValLink" data-pltdoc="x">response?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response-code%2Fc%29%29" class="RktValLink" data-pltdoc="x">response-code/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mime</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A constructor for responses where <span class="RktVar">body</span> is the response body.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValLink" data-pltdoc="x">response/full</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">301</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Moved Permanently"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._make-header%29%29" class="RktValLink" data-pltdoc="x">make-header</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"Location"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"http://racket-lang.org/download"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"&lt;html&gt;&lt;body&gt;&lt;p&gt;"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"Please go to &lt;a href=\""</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"http://racket-lang.org/download"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"\"&gt;here&lt;/a&gt; instead."</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div><div class="SIntrapara">If <span class="RktVar">message</span> is not supplied or is <span class="RktVal">#f</span>, a status message will be inferred based on <span class="RktVar">code</span>. Status messages will be inferred based on RFCs 7231 (&ldquo;Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content&rdquo;) and 7235 (&ldquo;Hypertext Transfer Protocol (HTTP/1.1): Authentication&rdquo;). These are the following:</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span style="font-weight: bold">Code</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Message</span></p></td></tr><tr><td><p>100</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Continue</p></td></tr><tr><td><p>101</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Switching Protocols</p></td></tr><tr><td><p>200</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>OK</p></td></tr><tr><td><p>201</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Created</p></td></tr><tr><td><p>202</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Accepted</p></td></tr><tr><td><p>203</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Non-Authoritative Information</p></td></tr><tr><td><p>204</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>No Content</p></td></tr><tr><td><p>205</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Reset Content</p></td></tr><tr><td><p>206</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Partial Content</p></td></tr><tr><td><p>300</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Multiple Choices</p></td></tr><tr><td><p>301</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Moved Permanently</p></td></tr><tr><td><p>302</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Found</p></td></tr><tr><td><p>303</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>See Other</p></td></tr><tr><td><p>305</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Use Proxy</p></td></tr><tr><td><p>307</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Temporary Redirect</p></td></tr><tr><td><p>308</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Permanent Redirect</p></td></tr><tr><td><p>400</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Bad Request</p></td></tr><tr><td><p>401</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Unauthorized</p></td></tr><tr><td><p>402</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Payment Required</p></td></tr><tr><td><p>403</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Forbidden</p></td></tr><tr><td><p>404</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Not Found</p></td></tr><tr><td><p>405</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Method Not Allowed</p></td></tr><tr><td><p>406</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Not Acceptable</p></td></tr><tr><td><p>407</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Proxy Authentication Required</p></td></tr><tr><td><p>408</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Request Timeout</p></td></tr><tr><td><p>409</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Conflict</p></td></tr><tr><td><p>410</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Gone</p></td></tr><tr><td><p>411</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Length Required</p></td></tr><tr><td><p>413</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Payload Too Large</p></td></tr><tr><td><p>414</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>URI Too Long</p></td></tr><tr><td><p>415</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Unsupported Media Type</p></td></tr><tr><td><p>417</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Expectation Failed</p></td></tr><tr><td><p>426</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Upgrade Required</p></td></tr><tr><td><p>500</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Internal Server Error</p></td></tr><tr><td><p>501</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Not Implemented</p></td></tr><tr><td><p>502</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Bad Gateway</p></td></tr><tr><td><p>503</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Service Unavailable</p></td></tr><tr><td><p>504</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Gateway Timeout</p></td></tr><tr><td><p>505</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>HTTP Version Not Supported</p></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Updated contracts on <span class="RktVar">code</span> and <span class="RktVar">seconds</span>
as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span>.</p></div><div class="SIntrapara"><p class="SHistory">Changed in version 1.4 of package <span class="stt">web-server-lib</span>: Contract on <span class="RktVar">message</span> relaxed to allow both <span class="RktVal">#f</span> and a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span>, with a default of <span class="RktVal">#f</span>. Previously, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span> was required, and had a default of <span class="RktVal">#"Okay"</span>.</p></div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/response-structs..rkt)._response/output))"></a><span title="Provided from: web-server/http/response-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Foutput%29%29" class="RktValDef RktValLink" data-pltdoc="x">response/output</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">output</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:code</span><span class="hspace">&nbsp;</span><span class="RktVar">code</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:message</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:mime-type</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response~3f%29%29" class="RktValLink" data-pltdoc="x">response?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">output</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._output-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">200</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._false%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mime-type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span><span class="hspace">&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktVar">output</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">, with the understanding that if <span class="RktVar">message</span> is missing, it will be inferred from <span class="RktVar">code</span> using the association between status codes and messages found in RFCs 7231 and 7235. See the documentation for <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValLink" data-pltdoc="x">response/full</a></span> for the table of built-in status codes.</div></p></div><div class="SIntrapara"><p class="SHistory">Changed in version 1.2 of package <span class="stt">web-server-lib</span>: Contract on <span class="RktVar">output</span> weakened to allow <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span>
as the result (instead of demanding <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span>).<br/>Changed in version 1.3: Updated contracts on <span class="RktVar">code</span> and <span class="RktVar">seconds</span>
as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span>.<br/>Changed in version 1.4: Contract on <span class="RktVar">message</span> relaxed to allow both <span class="RktVal">#f</span> and a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span>, with a default of <span class="RktVal">#f</span>. Previously, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span> was required, and had a default of <span class="RktVal">#"Okay"</span>.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))"></a><span title="Provided from: web-server/http/response-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValDef RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to <span class="RktVal">#"text/html; charset=utf-8"</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/response-structs..rkt)._.A.P.P.L.I.C.A.T.I.O.N/.J.S.O.N-.M.I.M.E-.T.Y.P.E))"></a><span title="Provided from: web-server/http/response-structs | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.A.P.P.L.I.C.A.T.I.O.N%2F.J.S.O.N-.M.I.M.E-.T.Y.P.E%29%29" class="RktValDef RktValLink" data-pltdoc="x">APPLICATION/JSON-MIME-TYPE</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to <span class="RktVal">#"application/json; charset=utf-8"</span>.</div></p></div><div class="SIntrapara"><span style="font-weight: bold">Warning: </span>If you include a Content-Length header in a response that is inaccurate, there <span style="font-weight: bold">will be an error</span> in
transmission that the server <span style="font-weight: bold">will not catch</span>.</div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;cookie&quot;">4.4<tt>&nbsp;</tt><a name="(part._cookie)"></a><a name="(mod-path._web-server/http/cookie)"></a>Placing Cookies</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fcookie%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/cookie</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara">This module provides functions to create cookies and responses that set them.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/cookie..rkt)._make-cookie))"></a><span title="Provided from: web-server/http/cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-cookie</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">value</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:comment</span><span class="hspace">&nbsp;</span><span class="RktVar">comment</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:domain</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:max-age</span><span class="hspace">&nbsp;</span><span class="RktVar">max-age</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:path</span><span class="hspace">&nbsp;</span><span class="RktVar">path</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:expires</span><span class="hspace">&nbsp;</span><span class="RktVar">expires</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:secure?</span><span class="hspace">&nbsp;</span><span class="RktVar">secure?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:http-only?</span><span class="hspace">&nbsp;</span><span class="RktVar">http-only?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:extension</span><span class="hspace">&nbsp;</span><span class="RktVar">extension</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">comment</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">domain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._domain-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">domain-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-age</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._path%252Fextension-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path/extension-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expires</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._date%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">date?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secure?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">http-only?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">extension</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._path%252Fextension-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path/extension-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a cookie with the appropriate fields.</div></p></div><div class="SIntrapara">This is a wrapper around <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span> from <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528mod-path._net%252Fcookies%252Fserver%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">net/cookies/server</span></a>
for backwards compatibility. The <span class="RktVar">comment</span> argument is ignored.
If <span class="RktVar">expires</span> is given as a string, it should match
<a href="https://tools.ietf.org/html/rfc7231#section-7.1.1.2">RFC 7231, Section 7.1.1.2</a>,
in which case it will be converted to a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._date%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">date?</a></span> value.
If conversion fails, an <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exn%7E3afail%7E3acontract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract?</a></span> is raised.</div><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Added support for <a href="https://tools.ietf.org/html/rfc6265.html">RFC 6265</a> via <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528mod-path._net%252Fcookies%252Fserver%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">net/cookies/server</span></a>.
Enforce stronger contracts on string-valued arguments.
Allow <span class="RktVar">expires</span> to be a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._date%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">date?</a></span>
and allow <span class="RktSym">secure</span> to be <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span>
(rather than <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span>).
Forbid <span class="RktVal">0</span> for <span class="RktVar">max-age</span>.
Support <span class="RktVar">http-only?</span> and <span class="RktVar">extension</span> arguments.
Ignore <span class="RktVar">comment</span>.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/cookie..rkt)._cookie-~3eheader))"></a><span title="Provided from: web-server/http/cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._cookie-~3eheader%29%29" class="RktValDef RktValLink" data-pltdoc="x">cookie-&gt;header</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a header that sets the cookie.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">time-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"time"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"id"</span><span class="hspace">&nbsp;</span><span class="RktVal">"joseph"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:secure?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirect-to%29%29" class="RktValLink" data-pltdoc="x">redirect-to</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">"http://localhost/logged-in"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._see-other%29%29" class="RktValLink" data-pltdoc="x">see-other</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">#:headers</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._cookie-~3eheader%29%29" class="RktValLink" data-pltdoc="x">cookie-&gt;header</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">time-cookie</span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="servlet.html#%28def._%28%28lib._web-server%2Fservlet%2Fweb..rkt%29._send%2Fsuspend%29%29" class="RktValLink" data-pltdoc="x">send/suspend</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k-url</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fxexpr..rkt%29._response%2Fxexpr%29%29" class="RktValLink" data-pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:cookies</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">time-cookie</span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Cookie Example"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"You're cookie'd!"</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;id-cookie&quot;">4.5<tt>&nbsp;</tt><a name="(part._id-cookie)"></a><a name="(mod-path._web-server/http/id-cookie)"></a>Authenticated Cookies</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fid-cookie%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/id-cookie</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara">Cookies are useful for storing information of user&rsquo;s browsers and
particularly useful for storing identifying information for
authentication, sessions, etc. However, there are inherent
difficulties when using cookies as authenticators, because cookie data
is fully controlled by the user, and thus cannot be trusted.</div><div class="SIntrapara">This module provides functions for creating and verifying
authenticated cookies that are intrinsically timestamped. It is based
on the algorithm proposed by the
<a href="https://pdos.csail.mit.edu/archive/cookies/">MIT Cookie Eaters</a>: if you store
the data <span class="RktVar">data</span> at time <span class="RktVar">authored-seconds</span>, then the
user will receive <span class="RktInBG"><span class="hspace"></span><span class="RktIn">digest&amp;authored-seconds&amp;data</span><span class="hspace"></span></span>, where
<span class="RktVar">digest</span> is an HMAC-SHA1 digest of <span class="RktVar">authored-seconds</span>
and <span class="RktVar">data</span>, using an arbitrary secret key. When you receive a
cookie, it will reverify this digest and check that the cookie&rsquo;s
<span class="RktVar">authored-seconds</span> is not after a timeout period, and only
then return the cookie data to the program.</div><div class="SIntrapara">The interface represents the secret key as a byte string.
<span style="font-weight: bold">For security, this should be created using cryptographic-quality randomness.</span>
A convenient purely Racket-based option is <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-secret-salt%2Ffile%29%29" class="RktValLink" data-pltdoc="x">make-secret-salt/file</a></span>,
which is implemented using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Frandom..rkt%2529._crypto-random-bytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">crypto-random-bytes</a></span>.
You can also generate random bytes using something like OpenSSL or <span class="stt">/dev/random</span>:
 <a href="https://www.madboa.com/geek/openssl/#random-data">this FAQ</a> lists a few options.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/id-cookie..rkt)._make-id-cookie))"></a><span title="Provided from: web-server/http/id-cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-id-cookie%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-id-cookie</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">value</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">secret-salt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:path</span><span class="hspace">&nbsp;</span><span class="RktVar">path</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:expires</span><span class="hspace">&nbsp;</span><span class="RktVar">expires</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:max-age</span><span class="hspace">&nbsp;</span><span class="RktVar">max-age</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:domain</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:secure?</span><span class="hspace">&nbsp;</span><span class="RktVar">secure?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:http-only?</span><span class="hspace">&nbsp;</span><span class="RktVar">http-only?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:extension</span><span class="hspace">&nbsp;</span><span class="RktVar">extension</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secret-salt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._path%252Fextension-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path/extension-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expires</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._date%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">date?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-age</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">domain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._domain-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">domain-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secure?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">http-only?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">extension</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._path%252Fextension-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path/extension-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="RktPn">(</span><span title="Provided from: web-server/http/id-cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-id-cookie%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-id-cookie</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">secret-salt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">value</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:path</span><span class="hspace">&nbsp;</span><span class="RktVar">path</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:expires</span><span class="hspace">&nbsp;</span><span class="RktVar">expires</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:max-age</span><span class="hspace">&nbsp;</span><span class="RktVar">max-age</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:domain</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:secure?</span><span class="hspace">&nbsp;</span><span class="RktVar">secure?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:http-only?</span><span class="hspace">&nbsp;</span><span class="RktVar">http-only?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:extension</span><span class="hspace">&nbsp;</span><span class="RktVar">extension</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secret-salt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._path%252Fextension-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path/extension-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expires</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._date%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">date?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-age</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">domain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._domain-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">domain-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secure?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">http-only?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">extension</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._path%252Fextension-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path/extension-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Generates an authenticated cookie named <span class="RktVar">name</span> containing <span class="RktVar">value</span>,
signed with <span class="RktVar">secret-salt</span>.</div></p></div><div class="SIntrapara">The calling conventions allow <span class="RktVar">secret-salt</span> to be given either as a keyword
argument (mirroring the style of <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span>) or a by-position argument
(for compatibility with older versions of this library).</div><div class="SIntrapara">The other arguments are passed to <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span>; however, note that the
default value for <span class="RktVar">http-only?</span> is <span class="RktVal">#t</span>. Users will also likely
want to set <span class="RktVar">secure?</span> to <span class="RktVal">#t</span> when using HTTPS.</div><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Added support for <a href="https://tools.ietf.org/html/rfc6265.html">RFC 6265</a> as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span>,
including adding the optional arguments
<span class="RktVar">expires</span>, <span class="RktVar">max-age</span>, <span class="RktVar">domain</span>,
<span class="RktSym">secure</span>, <span class="RktVar">extension</span>,
and <span class="RktVar">http-only?</span> (which is <span class="RktVal">#true</span> by default).
Allowed <span class="RktVar">secret-salt</span> to be given with the keyword
<span class="RktPn">#:key</span> instead of by position.<br/>Changed in version 1.6: Changed to accept any <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span>
(rather than only strings) for the <span class="RktVar">name</span> and <span class="RktVar">value</span> arguments,
respectively, for consistency with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span>.
Fixed a bug that had incorrectly truncated cookie signatures:
note that previous versions of this library will not recognize cookies
created by the fixed <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-id-cookie%29%29" class="RktValLink" data-pltdoc="x">make-id-cookie</a></span> as validly signed, and vice versa.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/id-cookie..rkt)._request-id-cookie))"></a><span title="Provided from: web-server/http/id-cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._request-id-cookie%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-id-cookie</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">request</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">secret-salt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:timeout</span><span class="hspace">&nbsp;</span><span class="RktVar">timeout</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:shelf-life</span><span class="hspace">&nbsp;</span><span class="RktVar">shelf-life</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">request</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secret-salt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">timeout</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">+inf.0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">shelf-life</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">+inf.0</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="RktPn">(</span><span title="Provided from: web-server/http/id-cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._request-id-cookie%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-id-cookie</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">secret-salt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">request</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:timeout</span><span class="hspace">&nbsp;</span><span class="RktVar">timeout</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:shelf-life</span><span class="hspace">&nbsp;</span><span class="RktVar">shelf-life</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secret-salt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">request</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">timeout</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">+inf.0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">shelf-life</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">+inf.0</span></td></tr></table></blockquote></div><div class="SIntrapara">Extracts the first authenticated cookie named <span class="RktVar">name</span>
that was previously signed with <span class="RktVar">secret-salt</span>
from <span class="RktVar">request</span>, with the allowable age of the cookie
is controlled by <span class="RktVar">shelf-life</span> and <span class="RktVar">timeout</span> as with
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._valid-id-cookie~3f%29%29" class="RktValLink" data-pltdoc="x">valid-id-cookie?</a></span>.</div></p></div><div class="SIntrapara">If no valid cookie is available, returns <span class="RktVal">#f</span>.</div><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Added <span class="RktVar">shelf-life</span> argument and
support for giving <span class="RktVar">name</span> and <span class="RktVar">secret-salt</span>
by keyword instead of by position.
Added support for <a href="https://tools.ietf.org/html/rfc6265.html">RFC 6265</a> as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span>.<br/>Changed in version 1.6: Changed <span class="RktVar">name</span> argument to accept any <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span>
as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-id-cookie%29%29" class="RktValLink" data-pltdoc="x">make-id-cookie</a></span>.
Corrected the documented contract for the <span class="RktVar">timeout</span> argument.
Fixed a bug that had incorrectly truncated cookie signatures:
note that the fixed <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._request-id-cookie%29%29" class="RktValLink" data-pltdoc="x">request-id-cookie</a></span> will reject cookies
created by previous versions of this library, and vice versa.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/id-cookie..rkt)._valid-id-cookie~3f))"></a><span title="Provided from: web-server/http/id-cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._valid-id-cookie~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">valid-id-cookie?</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">cookie</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">secret-salt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:timeout</span><span class="hspace">&nbsp;</span><span class="RktVar">timeout</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:shelf-life</span><span class="hspace">&nbsp;</span><span class="RktVar">shelf-life</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cookie</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secret-salt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">timeout</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">+inf.0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">shelf-life</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">+inf.0</span></td></tr></table></blockquote></div><div class="SIntrapara">Recognizes authenticated cookies named <span class="RktVar">name</span> that were
previously signed with <span class="RktVar">secret-salt</span>.
Values satisfying either <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span>
or <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._client-cookie~3f%29%29" class="RktValLink" data-pltdoc="x">client-cookie?</a></span> can be recognized.</div></p></div><div class="SIntrapara">The <span class="RktVar">shelf-life</span> specifies the maximum age of the cookie
in seconds. Cookies created more than <span class="RktVar">shelf-life</span> seconds
ago will not be considered valid.
The default value, <span class="RktVal">+inf.0</span>, permits all properly named and
signed cookies.</div><div class="SIntrapara">Counterintuitively,
the <span class="RktVar">timeout</span> argument requires that the cookie have been
created <span style="font-style: italic">before</span> a certain moment in time: in other words,
it requires that the cookie be <span style="font-style: italic">older</span> than a certain age.
This is not usually what you want to restrict.
Specifically, <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._valid-id-cookie~3f%29%29" class="RktValLink" data-pltdoc="x">valid-id-cookie?</a></span> tests that
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&lt;=</a></span><span class="stt"> </span><span class="RktSym">authored</span><span class="stt"> </span><span class="RktVar">timeout</span><span class="RktPn">)</span>, where <span class="RktSym">authored</span> is the
value returned by <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span> when the cookie was created.
The default value, <span class="RktVal">+inf.0</span>, permits all properly named and
signed cookies.</div><div class="SIntrapara"><p class="SHistory">Added in version 1.3 of package <span class="stt">web-server-lib</span>.<br/>Changed in version 1.6: Changed <span class="RktVar">name</span> argument to accept any <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span>
as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-id-cookie%29%29" class="RktValLink" data-pltdoc="x">make-id-cookie</a></span>.
Corrected the documented contract for the <span class="RktVar">timeout</span> argument.
Fixed a bug that had incorrectly truncated cookie signatures:
note that the fixed <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._valid-id-cookie~3f%29%29" class="RktValLink" data-pltdoc="x">valid-id-cookie?</a></span> will reject cookies
created by previous versions of this library, and vice versa.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/id-cookie..rkt)._logout-id-cookie))"></a><span title="Provided from: web-server/http/id-cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._logout-id-cookie%29%29" class="RktValDef RktValLink" data-pltdoc="x">logout-id-cookie</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:path</span><span class="hspace">&nbsp;</span><span class="RktVar">path</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:domain</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">domain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._domain-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">domain-value?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Generates a cookie named <span class="RktVar">name</span> that is not validly authenticated
and expires in the past.</div></p></div><div class="SIntrapara">This will cause non-malicious browsers to overwrite a previously set
cookie. If you use authenticated cookies for login information, you
could send this to cause a &ldquo;logout.&rdquo; However, malicious browsers do
not need to respect such an overwrite. Therefore, this is not an
effective way to implement timeouts or protect users on
public (i.e. possibly compromised) computers. The only way to securely
logout on the compromised computer is to have server-side state
keeping track of which cookies (sessions, etc.) are invalid. Depending
on your application, it may be better to track live sessions or dead
sessions, or never set cookies to begin with and just use
(stateful) continuations, which you can revoke with <span class="RktSym"><a href="servlet.html#%28def._%28%28lib._web-server%2Fservlet%2Fweb..rkt%29._send%2Ffinish%29%29" class="RktValLink" data-pltdoc="x">send/finish</a></span>.</div><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Added support for <a href="https://tools.ietf.org/html/rfc6265.html">RFC 6265</a> as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span>,
including adding the <span class="RktVar">domain</span> argument.<br/>Changed in version 1.6: Fixed to accept any <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span> for the <span class="RktVar">name</span>
argument, as was previously documented.</p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/id-cookie..rkt)._make-secret-salt/file))"></a><span title="Provided from: web-server/http/id-cookie | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fid-cookie..rkt%29._make-secret-salt%2Ffile%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-secret-salt/file</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">secret-salt-path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secret-salt-path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Extracts the bytes from <span class="RktVar">secret-salt-path</span>. If
<span class="RktVar">secret-salt-path</span> does not exist, then it is created and
initialized with 128 cryptographic-quality random bytes
from <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Frandom..rkt%2529._crypto-random-bytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">crypto-random-bytes</a></span>.</div></p></div><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Changed to use cryptographic-quality randomness
to initialize <span class="RktVar">secret-salt-path</span>.</p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;cookie-parse&quot;">4.6<tt>&nbsp;</tt><a name="(part._cookie-parse)"></a><a name="(mod-path._web-server/http/cookie-parse)"></a>Extracting Cookies</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fcookie-parse%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/cookie-parse</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-path))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-domain))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-value))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-name))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._make-client-cookie))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie~3f))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._struct~3aclient-cookie))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie))"></a><span title="Provided from: web-server/http/cookie-parse | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._client-cookie%29%29" class="RktValDef RktValLink" data-pltdoc="x">client-cookie</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">value</span><span class="stt"> </span><span class="RktSym">domain</span><span class="stt"> </span><span class="RktSym">path</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._make-client-cookie%29%29" class="RktValLink" data-pltdoc="x">make-client-cookie</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-name%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-name?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._cookie-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie-value?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">domain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._domain-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">domain-value?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fcommon..rkt%2529._path%252Fextension-value%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">path/extension-value?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">While server cookies are represented with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span>s, cookies
that come from the client are represented with a
<span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._client-cookie%29%29" class="RktValLink" data-pltdoc="x">client-cookie</a></span> structure.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/cookie-parse..rkt)._request-cookies))"></a><span title="Provided from: web-server/http/cookie-parse | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._request-cookies%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-cookies</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._client-cookie~3f%29%29" class="RktValLink" data-pltdoc="x">client-cookie?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Extracts the cookies from <span class="RktVar">req</span>&rsquo;s headers.</div></p></div><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Added support for <a href="https://tools.ietf.org/html/rfc6265.html">RFC 6265</a> via
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528mod-path._net%252Fcookies%252Fcommon%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">net/cookies/common</span></a>.</p></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cookies</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._request-cookies%29%29" class="RktValLink" data-pltdoc="x">request-cookies</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._findf%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">findf</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3d%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string=?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"id"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._client-cookie-name%29%29" class="RktValLink" data-pltdoc="x">client-cookie-name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">cookies</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hello</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie-parse..rkt%29._client-cookie-value%29%29" class="RktValLink" data-pltdoc="x">client-cookie-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirect-to%29%29" class="RktValLink" data-pltdoc="x">redirect-to</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=net&amp;rel=url.html%23%2528def._%2528%2528lib._net%252Furl..rkt%2529._url-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">url-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request-uri%29%29" class="RktValLink" data-pltdoc="x">request-uri</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._see-other%29%29" class="RktValLink" data-pltdoc="x">see-other</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:headers</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._cookie-~3eheader%29%29" class="RktValLink" data-pltdoc="x">cookie-&gt;header</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._make-cookie%29%29" class="RktValLink" data-pltdoc="x">make-cookie</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"id"</span><span class="hspace">&nbsp;</span><span class="RktVal">"joseph"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hello</span><span class="hspace">&nbsp;</span><span class="RktSym">who</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fxexpr..rkt%29._response%2Fxexpr%29%29" class="RktValLink" data-pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello!"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello "</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktSym">who</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;redirect&quot;">4.7<tt>&nbsp;</tt><a name="(part._redirect)"></a><a name="(mod-path._web-server/http/redirect)"></a>Redirect</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fredirect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/redirect</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/redirect..rkt)._redirect-to))"></a><span title="Provided from: web-server/http/redirect | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirect-to%29%29" class="RktValDef RktValLink" data-pltdoc="x">redirect-to</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">uri</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">status</span><span class="hspace">&nbsp;</span><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response~3f%29%29" class="RktValLink" data-pltdoc="x">response?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">uri</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528lib._racket%252Fstring..rkt%2529._non-empty-string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">non-empty-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">status</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirection-status~3f%29%29" class="RktValLink" data-pltdoc="x">redirection-status?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%29%29" class="RktValLink" data-pltdoc="x">temporarily</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))"></a><span title="Provided from: web-server/http/redirect | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirection-status~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">redirection-status?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/redirect..rkt)._temporarily))"></a><span title="Provided from: web-server/http/redirect | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%29%29" class="RktValDef RktValLink" data-pltdoc="x">temporarily</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirection-status~3f%29%29" class="RktValLink" data-pltdoc="x">redirection-status?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/redirect..rkt)._temporarily/same-method))"></a><span title="Provided from: web-server/http/redirect | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%2Fsame-method%29%29" class="RktValDef RktValLink" data-pltdoc="x">temporarily/same-method</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirection-status~3f%29%29" class="RktValLink" data-pltdoc="x">redirection-status?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/redirect..rkt)._see-other))"></a><span title="Provided from: web-server/http/redirect | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._see-other%29%29" class="RktValDef RktValLink" data-pltdoc="x">see-other</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirection-status~3f%29%29" class="RktValLink" data-pltdoc="x">redirection-status?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/redirect..rkt)._permanently))"></a><span title="Provided from: web-server/http/redirect | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._permanently%29%29" class="RktValDef RktValLink" data-pltdoc="x">permanently</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirection-status~3f%29%29" class="RktValLink" data-pltdoc="x">redirection-status?</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">The function <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirect-to%29%29" class="RktValLink" data-pltdoc="x">redirect-to</a></span>
generates an HTTP response that redirects the browser to <span class="RktVar">uri</span>,
while including the <span class="RktVar">headers</span> in the response.
The <span class="RktVar">status</span> argument is a <a name="(tech._redirection._statu)"></a><span style="font-style: italic">redirection status</span>
value, which determines the specific type of HTTP redirect to be used.</div></p></div><div class="SIntrapara">The default <a href="#%28tech._redirection._statu%29" class="techoutside" data-pltdoc="x"><span class="techinside">redirection status</span></a>, <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%29%29" class="RktValLink" data-pltdoc="x">temporarily</a></span>,
is preserved for backwards compatibility:
new code should usually use either <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%2Fsame-method%29%29" class="RktValLink" data-pltdoc="x">temporarily/same-method</a></span>
or <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._see-other%29%29" class="RktValLink" data-pltdoc="x">see-other</a></span>, instead.
The <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%29%29" class="RktValLink" data-pltdoc="x">temporarily</a></span> <a href="#%28tech._redirection._statu%29" class="techoutside" data-pltdoc="x"><span class="techinside">redirection status</span></a> corresponds to
<a href="https://tools.ietf.org/html/rfc7231#section-6.4.3"><span class="RktInBG"><span class="hspace"></span><span class="RktIn">302 Found</span><span class="hspace"></span></span></a>.
Unfortunately, browsers have not implemented this status consistently
for methods other than <span class="RktInBG"><span class="hspace"></span><span class="RktIn">GET</span><span class="hspace"></span></span> and (in practice, with all but some
very old browsers) <span class="RktInBG"><span class="hspace"></span><span class="RktIn">POST</span><span class="hspace"></span></span>.</div><div class="SIntrapara">The <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%2Fsame-method%29%29" class="RktValLink" data-pltdoc="x">temporarily/same-method</a></span> <a href="#%28tech._redirection._statu%29" class="techoutside" data-pltdoc="x"><span class="techinside">redirection status</span></a>
uses <a href="https://tools.ietf.org/html/rfc7231#section-6.4.7"><span class="RktInBG"><span class="hspace"></span><span class="RktIn">307 Temporary Redirect</span><span class="hspace"></span></span></a>.
This redirects the browser to <span class="RktVar">uri</span> using the same HTTP method
as the original request.</div><div class="SIntrapara">The <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._see-other%29%29" class="RktValLink" data-pltdoc="x">see-other</a></span> <a href="#%28tech._redirection._statu%29" class="techoutside" data-pltdoc="x"><span class="techinside">redirection status</span></a> corresponds to
<a href="https://tools.ietf.org/html/rfc7231#section-6.4.4"><span class="RktInBG"><span class="hspace"></span><span class="RktIn">303 See Other</span><span class="hspace"></span></span></a>.
It is most often used to implement the <a name="(tech._post._redirect._get)"></a><span style="font-style: italic">Post-Redirect-Get</span>
pattern: as a response to a request using <span class="RktInBG"><span class="hspace"></span><span class="RktIn">POST</span><span class="hspace"></span></span> or
another HTTP method with side-effects, it causes the browser to
perform a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">GET</span><span class="hspace"></span></span> or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">HEAD</span><span class="hspace"></span></span> request for <span class="RktVar">uri</span>,
which gives a response to the original <span class="RktInBG"><span class="hspace"></span><span class="RktIn">POST</span><span class="hspace"></span></span> request.
This prevents the <span class="ssansserif">Back</span> and <span class="ssansserif">Refresh</span> buttons
from duplicating effects, such as making a purchase or
adding items to a database.
The web server provides <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=continue&amp;rel=index.html%23%2528def._%2528%2528lib._web-server%252Fservlet..rkt%2529._redirect%252Fget%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">redirect/get</a></span> for added convenience
with <a href="#%28tech._post._redirect._get%29" class="techoutside" data-pltdoc="x"><span class="techinside">Post-Redirect-Get</span></a>.</div><div class="SIntrapara"><p><div class="SIntrapara">The <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._permanently%29%29" class="RktValLink" data-pltdoc="x">permanently</a></span> <a href="#%28tech._redirection._statu%29" class="techoutside" data-pltdoc="x"><span class="techinside">redirection status</span></a> uses the HTTP status
<a href="https://tools.ietf.org/html/rfc7231#section-6.4.2"><span class="RktInBG"><span class="hspace"></span><span class="RktIn">301 Moved Permanently</span><span class="hspace"></span></span></a>.
It is like <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%29%29" class="RktValLink" data-pltdoc="x">temporarily</a></span>, except that, as the name suggests,
it signifies that the move is permanent and that search engines,
for example, should use <span class="RktVar">uri</span> instead of the URI of the
original request.
Unfortunately, <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._permanently%29%29" class="RktValLink" data-pltdoc="x">permanently</a></span> is also like <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%29%29" class="RktValLink" data-pltdoc="x">temporarily</a></span>
in that browsers have implemented it inconsistently for
methods other than <span class="RktInBG"><span class="hspace"></span><span class="RktIn">GET</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">HEAD</span><span class="hspace"></span></span>:
in particular, <a href="https://tools.ietf.org/html/rfc7231#section-6.4.2">RFC 7231</a> permits that, &ldquo;for historical reasons, a user agent <span style="font-weight: bold">may</span>
change the request method from <span class="RktInBG"><span class="hspace"></span><span class="RktIn">POST</span><span class="hspace"></span></span> to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">GET</span><span class="hspace"></span></span> for the subsequent request.
When it is important to ensure that the request to <span class="RktVar">uri</span> use the same method,
there are some possible alternatives:
</div><div class="SIntrapara"><ul><li><p>RFC 7231 suggests using <span class="RktInBG"><span class="hspace"></span><span class="RktIn">307 Temporary Redirect</span><span class="hspace"></span></span>,
i.e. <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%2Fsame-method%29%29" class="RktValLink" data-pltdoc="x">temporarily/same-method</a></span>.
This has the disadvantage that search engines and others won&rsquo;t
update references to the old URI.</p></li><li><p><a href="https://tools.ietf.org/html/rfc7538">RFC 7538</a>
specifies a new HTTP status, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">308 Permanent Redirect</span><span class="hspace"></span></span>,
which forbids changing the request method, analogously to
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">307 Temporary Redirect</span><span class="hspace"></span></span>.
However, the RFC also highlights some important
<a href="https://tools.ietf.org/html/rfc7538#section-4">deployment considerations</a> for this status.
In particular, older browsers&#8212;<wbr></wbr>including, as of this writing,
some that remain in
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308#Browser_compatibility">relatively common use</a>&#8212;<wbr></wbr>do not understand this status and will
fall back to the semantics of
<a href="https://tools.ietf.org/html/rfc7231#section-6.4.1"><span class="RktInBG"><span class="hspace"></span><span class="RktIn">300 Multiple Choices</span><span class="hspace"></span></span></a>, which is often undesirable.</p></li><li><p>The application can note the method of the original request
and use <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._permanently%29%29" class="RktValLink" data-pltdoc="x">permanently</a></span> for <span class="RktInBG"><span class="hspace"></span><span class="RktIn">GET</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">HEAD</span><span class="hspace"></span></span> requests
or one of the other alternatives for other methods.</p></li></ul></div></p></div><div class="SIntrapara">Example:
<span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._redirect-to%29%29" class="RktValLink" data-pltdoc="x">redirect-to</a></span><span class="stt"> </span><span class="RktVal">"http://www.add-three-numbers.com"</span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._permanently%29%29" class="RktValLink" data-pltdoc="x">permanently</a></span><span class="RktPn">)</span></div><div class="SIntrapara"><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Added <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fredirect..rkt%29._temporarily%2Fsame-method%29%29" class="RktValLink" data-pltdoc="x">temporarily/same-method</a></span>.</p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;basic-auth&quot;">4.8<tt>&nbsp;</tt><a name="(part._basic-auth)"></a><a name="(mod-path._web-server/http/basic-auth)"></a>Basic Authentication</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fbasic-auth%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/basic-auth</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara">An implementation of HTTP Basic Authentication.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/basic-auth..rkt)._make-basic-auth-header))"></a><span title="Provided from: web-server/http/basic-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbasic-auth..rkt%29._make-basic-auth-header%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-basic-auth-header</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">realm</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">realm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a header that instructs the Web browser to request a username and password from the client using
Basic authentication with <span class="RktVar">realm</span> as the realm.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/basic-auth..rkt)._request-~3ebasic-credentials))"></a><span title="Provided from: web-server/http/basic-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbasic-auth..rkt%29._request-~3ebasic-credentials%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-&gt;basic-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._false%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a pair of the username and password from the authentication
header in <span class="RktVar">req</span> if they are present, or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="run.html#%28mod-path._web-server%2Finsta%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/insta</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbasic-auth..rkt%29._request-~3ebasic-credentials%29%29" class="RktValLink" data-pltdoc="x">request-&gt;basic-credentials</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">user</span><span class="hspace">&nbsp;</span><span class="RktSym">pass</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fxexpr..rkt%29._response%2Fxexpr%29%29" class="RktValLink" data-pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Basic Auth Test"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"User: "</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3estring%252Futf-8%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;string/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktSym">user</span><span class="RktPn">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"Pass: "</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3estring%252Futf-8%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;string/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pass</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">401</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Unauthorized"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fbasic-auth..rkt%29._make-basic-auth-header%29%29" class="RktValLink" data-pltdoc="x">make-basic-auth-header</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Basic Auth Test: ~a"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._gensym%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">gensym</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;digest-auth&quot;">4.9<tt>&nbsp;</tt><a name="(part._digest-auth)"></a><a name="(mod-path._web-server/http/digest-auth)"></a>Digest Authentication</h4><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fdigest-auth%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/digest-auth</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></div><div class="SIntrapara">An implementation of HTTP Digest Authentication.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._make-digest-auth-header))"></a><span title="Provided from: web-server/http/digest-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._make-digest-auth-header%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-digest-auth-header</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">realm</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">private-key</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">opaque</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">realm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">private-key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">opaque</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a header that instructs the Web browser to request a username and password from the client
using Digest authentication with <span class="RktVar">realm</span> as the realm, <span class="RktVar">private-key</span> as the server&rsquo;s
contribution to the nonce, and <span class="RktVar">opaque</span> as the opaque data passed through the client.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._request-~3edigest-credentials))"></a><span title="Provided from: web-server/http/digest-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._request-~3edigest-credentials%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-&gt;digest-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._false%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._request~3f%29%29" class="RktValLink" data-pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the Digest credentials from <span class="RktVar">req</span> (if they appear) as an association list.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3epassword/c))"></a><span title="Provided from: web-server/http/digest-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._username%2Arealm-~3epassword%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">username*realm-&gt;password/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Used to look up the password for a user is a realm.</div></p></div><div class="SIntrapara">Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span>.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3edigest-.H.A1/c))"></a><span title="Provided from: web-server/http/digest-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._username%2Arealm-~3edigest-.H.A1%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">username*realm-&gt;digest-HA1/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Used to compute the user&rsquo;s secret hash.</div></p></div><div class="SIntrapara">Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span>.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._password-~3edigest-.H.A1))"></a><span title="Provided from: web-server/http/digest-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._password-~3edigest-.H.A1%29%29" class="RktValDef RktValLink" data-pltdoc="x">password-&gt;digest-HA1</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lookup-password</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._username%2Arealm-~3edigest-.H.A1%2Fc%29%29" class="RktValLink" data-pltdoc="x">username*realm-&gt;digest-HA1/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lookup-password</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._username%2Arealm-~3epassword%2Fc%29%29" class="RktValLink" data-pltdoc="x">username*realm-&gt;password/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Uses <span class="RktVar">lookup-password</span> to find the password, then computes the
secret hash of it.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._make-check-digest-credentials))"></a><span title="Provided from: web-server/http/digest-auth | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._make-check-digest-credentials%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-check-digest-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lookup-HA1</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lookup-HA1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._username%2Arealm-~3edigest-.H.A1%2Fc%29%29" class="RktValLink" data-pltdoc="x">username*realm-&gt;digest-HA1/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a function that checks whether particular Digest credentials
(the second argument of the returned function) are correct given the
HTTP method provided as the first argument and the secret hash computed
by <span class="RktVar">lookup-HA1</span>.</div></p></div><div class="SIntrapara">This is will result in an exception if the Digest credentials are
missing portions.</div><div class="SIntrapara"><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="run.html#%28mod-path._web-server%2Finsta%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/insta</span></a></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/pretty</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">private-key</span><span class="hspace">&nbsp;</span><span class="RktVal">"private-key"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">opaque</span><span class="hspace">&nbsp;</span><span class="RktVal">"opaque"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._request-~3edigest-credentials%29%29" class="RktValLink" data-pltdoc="x">request-&gt;digest-credentials</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">401</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Unauthorized"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._make-digest-auth-header%29%29" class="RktValLink" data-pltdoc="x">make-digest-auth-header</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Digest Auth Test: ~a"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._gensym%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">gensym</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">private-key</span><span class="hspace">&nbsp;</span><span class="RktSym">opaque</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">alist</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">check</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._make-check-digest-credentials%29%29" class="RktValLink" data-pltdoc="x">make-check-digest-credentials</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fdigest-auth..rkt%29._password-~3edigest-.H.A1%29%29" class="RktValLink" data-pltdoc="x">password-&gt;digest-HA1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">username</span><span class="hspace">&nbsp;</span><span class="RktSym">realm</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"pass"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pass?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktVal">"GET"</span><span class="hspace">&nbsp;</span><span class="RktSym">alist</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fxexpr..rkt%29._response%2Fxexpr%29%29" class="RktValLink" data-pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Digest Auth Test"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pass?</span><span class="hspace">&nbsp;</span><span class="RktVal">"Pass!"</span><span class="hspace">&nbsp;</span><span class="RktVal">"No Pass!"</span><span class="RktPn">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">pre</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pretty-print.html%23%2528def._%2528%2528lib._racket%252Fpretty..rkt%2529._pretty-format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pretty-format</a></span><span class="hspace">&nbsp;</span><span class="RktSym">alist</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;xexpr&quot;">4.10<tt>&nbsp;</tt><a name="(part._xexpr)"></a><a name="(mod-path._web-server/http/xexpr)"></a>X-expression Support</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fxexpr%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/xexpr</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))"></a><span title="Provided from: web-server/http/xexpr, web-server | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fxexpr..rkt%29._response%2Fxexpr%29%29" class="RktValDef RktValLink" data-pltdoc="x">response/xexpr</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">xexpr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:code</span><span class="hspace">&nbsp;</span><span class="RktVar">code</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:message</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:mime-type</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:cookies</span><span class="hspace">&nbsp;</span><span class="RktVar">cookies</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:preamble</span><span class="hspace">&nbsp;</span><span class="RktVar">preamble</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response~3f%29%29" class="RktValLink" data-pltdoc="x">response?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">xexpr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=xml&amp;rel=index.html%23%2528def._%2528%2528lib._xml%252Fprivate%252Fxexpr-core..rkt%2529._xexpr%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">xexpr/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response-code%2Fc%29%29" class="RktValLink" data-pltdoc="x">response-code/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">200</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mime-type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.T.E.X.T%2F.H.T.M.L-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._empty%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">empty</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cookies</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._empty%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">empty</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">preamble</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#""</span></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to
 </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValLink" data-pltdoc="x">response/full</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._cookie-~3eheader%29%29" class="RktValLink" data-pltdoc="x">cookie-&gt;header</a></span><span class="hspace">&nbsp;</span><span class="RktVar">cookies</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">preamble</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3ebytes%252Futf-8%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;bytes/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=xml&amp;rel=index.html%23%2528def._%2528%2528lib._xml%252Fmain..rkt%2529._xexpr-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">xexpr-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktVar">xexpr</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>This is a viable function to pass to <span class="RktSym"><a href="servlet.html#%28def._%28%28lib._web-server%2Fservlet%2Fservlet-structs..rkt%29._set-any-~3eresponse%21%29%29" class="RktValLink" data-pltdoc="x">set-any-&gt;response!</a></span>.</p><p>See the documentation for <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValLink" data-pltdoc="x">response/full</a></span> to see how <span class="RktVal">#f</span> is handled for <span class="RktVar">message</span>.</p><p class="SHistory">Changed in version 1.3 of package <span class="stt">web-server-lib</span>: Updated contracts on <span class="RktVar">code</span> and <span class="RktVar">seconds</span>
as with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span>.<br/>Changed in version 1.4: Contract on <span class="RktVar">message</span> relaxed to allow both <span class="RktVal">#f</span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span>, with a default of <span class="RktVal">#f</span>. Previously, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span> was required, and had a default of <span class="RktVal">#"Okay"</span>.</p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;empty&quot;">4.11<tt>&nbsp;</tt><a name="(part._empty)"></a><a name="(mod-path._web-server/http/empty)"></a>Empty Responses</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fempty%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/empty</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/empty..rkt)._response/empty))"></a><span title="Provided from: web-server/http/empty, web-server/http | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fempty..rkt%29._response%2Fempty%29%29" class="RktValDef RktValLink" data-pltdoc="x">response/empty</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:code</span><span class="hspace">&nbsp;</span><span class="RktVar">code</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:message</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:cookies</span><span class="hspace">&nbsp;</span><span class="RktVar">cookies</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response~3f%29%29" class="RktValLink" data-pltdoc="x">response?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">204</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._false%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cookies</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Generates a response with an empty body. The usual <span class="stt">Content-Type</span> header will be absent, unless passed in via <span class="RktVar">headers</span>. Equivalent to
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%29%29" class="RktValLink" data-pltdoc="x">response</a></span><span class="hspace">&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">o</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Byte_and_String_Output.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write-bytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">write-bytes</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#""</span><span class="hspace">&nbsp;</span><span class="RktSym">o</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">, with the understanding that if <span class="RktVar">message</span> is missing (or <span class="RktVal">#f</span>), it will be inferred from <span class="RktVar">code</span> using the association between status codes and messages found in RFCs 7231 and 7235. See the documentation for <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValLink" data-pltdoc="x">response/full</a></span> for the table of built-in status codes.</div></p><p class="SHistory">Added in version 1.6 of package <span class="stt">web-server-lib</span>.<br/>Changed in version 1.7: Make default response code 204 rather than 200.<br/>Changed in version 1.7: Ensure a <span class="stt">Content-Length</span> header is present in the response, with value <span class="stt">0</span>.</p><h4 x-source-module="(lib &quot;web-server/scribblings/web-server.scrbl&quot;)" x-source-pkg="web-server-doc" x-part-tag="&quot;json&quot;">4.12<tt>&nbsp;</tt><a name="(part._json)"></a><a name="(mod-path._web-server/http/json)"></a>JSON Support</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._web-server%2Fhttp%2Fjson%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">web-server/http/json</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/web-server-lib" title="Install this package using `raco pkg install web-server-lib`"><span class="stt">web-server-lib</span></a></span></td></tr></table></p><p>JSON is a widely used data format for the web. Racket&rsquo;s JSON
library meets the web server with <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fjson..rkt%29._response%2Fjsexpr%29%29" class="RktValLink" data-pltdoc="x">response/jsexpr</a></span>,
which is for JSON what <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fxexpr..rkt%29._response%2Fxexpr%29%29" class="RktValLink" data-pltdoc="x">response/xexpr</a></span> is for XML.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._web-server/http/json..rkt)._response/jsexpr))"></a><span title="Provided from: web-server/http/json, web-server/http | Package: web-server-lib"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fjson..rkt%29._response%2Fjsexpr%29%29" class="RktValDef RktValLink" data-pltdoc="x">response/jsexpr</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">jsexpr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:code</span><span class="hspace">&nbsp;</span><span class="RktVar">code</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:message</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:mime-type</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:cookies</span><span class="hspace">&nbsp;</span><span class="RktVar">cookies</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response~3f%29%29" class="RktValLink" data-pltdoc="x">response?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">jsexpr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528def._%2528%2528lib._json%252Fmain..rkt%2529._jsexpr%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">jsexpr?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response-code%2Fc%29%29" class="RktValLink" data-pltdoc="x">response-code/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">200</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=time.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-seconds%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-seconds</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mime-type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._.A.P.P.L.I.C.A.T.I.O.N%2F.J.S.O.N-.M.I.M.E-.T.Y.P.E%29%29" class="RktValLink" data-pltdoc="x">APPLICATION/JSON-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Frequest-structs..rkt%29._header~3f%29%29" class="RktValLink" data-pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._empty%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">empty</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cookies</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=cookies&amp;rel=index.html%23%2528def._%2528%2528lib._net%252Fcookies%252Fserver..rkt%2529._cookie%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cookie?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._empty%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">empty</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to
 </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValLink" data-pltdoc="x">response/full</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fcookie..rkt%29._cookie-~3eheader%29%29" class="RktValLink" data-pltdoc="x">cookie-&gt;header</a></span><span class="hspace">&nbsp;</span><span class="RktVar">cookies</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528def._%2528%2528lib._json%252Fmain..rkt%2529._jsexpr-%7E3ebytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">jsexpr-&gt;bytes</a></span><span class="hspace">&nbsp;</span><span class="RktVar">jsexpr</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>See the documentation for <span class="RktSym"><a href="#%28def._%28%28lib._web-server%2Fhttp%2Fresponse-structs..rkt%29._response%2Ffull%29%29" class="RktValLink" data-pltdoc="x">response/full</a></span> to see how <span class="RktVar">message</span>, if <span class="RktVal">#f</span>, is turned into a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span>.</p><p class="SHistory">Added in version 1.5 of package <span class="stt">web-server-lib</span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="stateless.html" title="backward to &quot;3 Stateless Servlets&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Web Applications in Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="dispatch.html" title="forward to &quot;5 URL-Based Dispatch&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/web-server/http.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:14:33 GMT -->
</html>