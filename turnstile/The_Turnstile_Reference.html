<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/turnstile/The_Turnstile_Reference.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;The Turnstile Reference</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">The <span class="RktModLink"><span class="RktSym">turnstile</span></span> language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="The_Turnstile_Guide.html" class="tocviewlink" data-pltdoc="x">The Turnstile Guide</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">The Turnstile Reference</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Rackunit-Style_Test_Forms_for_Turnstile.html" class="tocviewlink" data-pltdoc="x">Rackunit-<wbr></wbr>Style Test Forms for Turnstile</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">The Turnstile Reference</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Typing_.Unicode_.Characters%29" class="tocviewlink" data-pltdoc="x">Typing Unicode Characters</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._.Forms%29" class="tocviewlink" data-pltdoc="x">Forms</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Forms_for_.Defining_.Types%29" class="tocviewlink" data-pltdoc="x">Forms for Defining Types</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._.Type_.Operations%29" class="tocviewlink" data-pltdoc="x">Type Operations</a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="#%28part._.Syntax_.Patterns%29" class="tocviewlink" data-pltdoc="x">Syntax Patterns</a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="#%28part._.Syntax_.Classes%29" class="tocviewlink" data-pltdoc="x">Syntax Classes</a></td></tr><tr><td align="right">2.7&nbsp;</td><td><a href="#%28part._require_and_provide-related_.Forms%29" class="tocviewlink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">require</span></span> and <span class="RktSym"><span class="RktStxLink">provide</span></span>-<wbr></wbr>related Forms</a></td></tr><tr><td align="right">2.8&nbsp;</td><td><a href="#%28part._racket-%29" class="tocviewlink" data-pltdoc="x">Suffixed Racket Bindings</a></td></tr><tr><td align="right">2.9&nbsp;</td><td><a href="#%28part._turnstilelang%29" class="tocviewlink" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">#lang</span></span> <span class="RktModLink"><span class="RktSym">turnstile</span></span>/<span class="mywbr"> &nbsp;</span>lang</a></td></tr><tr><td align="right">2.10&nbsp;</td><td><a href="#%28part._turnstilequicklang%29" class="tocviewlink" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">#lang</span></span> <span class="RktModLink"><span class="RktSym">turnstile</span></span>/<span class="mywbr"> &nbsp;</span>quicklang</a></td></tr><tr><td align="right">2.11&nbsp;</td><td><a href="#%28part._turnstilebase%29" class="tocviewlink" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">#lang</span></span> <span class="RktModLink"><span class="RktSym">turnstile</span></span>/<span class="mywbr"> &nbsp;</span>base</a></td></tr><tr><td align="right">2.12&nbsp;</td><td><a href="#%28part._.Lower-level_.Functions%29" class="tocviewlink" data-pltdoc="x">Lower-<wbr></wbr>level Functions</a></td></tr><tr><td align="right">2.13&nbsp;</td><td><a href="#%28part._.Subtyping%29" class="tocviewlink" data-pltdoc="x">Subtyping</a></td></tr><tr><td align="right">2.14&nbsp;</td><td><a href="#%28part._.Modes%29" class="tocviewlink" data-pltdoc="x">Modes</a></td></tr><tr><td align="right">2.15&nbsp;</td><td><a href="#%28part._.Miscellaneous_.Syntax_.Object_.Functions%29" class="tocviewlink" data-pltdoc="x">Miscellaneous Syntax Object Functions</a></td></tr><tr><td align="right">2.16&nbsp;</td><td><a href="#%28part._.Special_.Identifiers%29" class="tocviewlink" data-pltdoc="x">Special Identifiers</a></td></tr><tr><td align="right">2.17&nbsp;</td><td><a href="#%28part._no-unicode%29" class="tocviewlink" data-pltdoc="x">Non-<wbr></wbr>Unicode Identifiers</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Typing_.Unicode_.Characters%29" class="tocsubseclink" data-pltdoc="x">Typing Unicode Characters</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Forms%29" class="tocsubseclink" data-pltdoc="x">Forms</a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>typed-<wbr></wbr>syntax</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typerule%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>typerule</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax%2Ftypecheck%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>syntax/<span class="mywbr"> &nbsp;</span>typecheck</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._syntax-parse%2Ftypecheck%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">syntax-<wbr></wbr>parse/<span class="mywbr"> &nbsp;</span>typecheck</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable-rename%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>typed-<wbr></wbr>variable-<wbr></wbr>rename</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>typed-<wbr></wbr>variable</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>primop</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>syntax-<wbr></wbr>category</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Forms_for_.Defining_.Types%29" class="tocsubseclink" data-pltdoc="x">Forms for Defining Types</a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>base-<wbr></wbr>type</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-types%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>base-<wbr></wbr>types</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>type-<wbr></wbr>constructor</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>binding-<wbr></wbr>type</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-type-constructor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>internal-<wbr></wbr>type-<wbr></wbr>constructor</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-binding-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>internal-<wbr></wbr>binding-<wbr></wbr>type</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Type_.Operations%29" class="tocsubseclink" data-pltdoc="x">Type Operations</a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>type-<wbr></wbr>eval</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-typecheck-relation%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>typecheck-<wbr></wbr>relation</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typecheck~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">typecheck?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typechecks~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">typechecks?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3d~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>type=?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">type=?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._types~3d~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">types=?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._same-types~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">same-<wbr></wbr>types?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">type?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>type?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._any-type~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">any-<wbr></wbr>type?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-any-type~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>any-<wbr></wbr>type?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._assign-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">assign-<wbr></wbr>type</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typeof%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">typeof</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">#%type</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">#%type?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._mk-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mk-<wbr></wbr>type</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.5<tt>&nbsp;</tt></span><a href="#%28part._.Syntax_.Patterns%29" class="tocsubseclink" data-pltdoc="x">Syntax Patterns</a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7etypecheck%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~typecheck</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7e~e2~8a~a2%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~&#8866;</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.6<tt>&nbsp;</tt></span><a href="#%28part._.Syntax_.Classes%29" class="tocsubseclink" data-pltdoc="x">Syntax Classes</a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">type</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._any-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">any-<wbr></wbr>type</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-bind%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">type-<wbr></wbr>bind</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-ctx%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">type-<wbr></wbr>ctx</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-ann%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">type-<wbr></wbr>ann</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.7<tt>&nbsp;</tt></span><a href="#%28part._require_and_provide-related_.Forms%29" class="tocsubseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">require</span></span> and <span class="RktSym"><span class="RktStxLink">provide</span></span>-<wbr></wbr>related Forms</a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-out%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">type-<wbr></wbr>out</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._typed-out%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">typed-<wbr></wbr>out</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._extends%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">extends</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._reuse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">reuse</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.8<tt>&nbsp;</tt></span><a href="#%28part._racket-%29" class="tocsubseclink" data-pltdoc="x">Suffixed Racket Bindings</a></td></tr><tr><td><span class="tocsublinknumber">2.9<tt>&nbsp;</tt></span><a href="#%28part._turnstilelang%29" class="tocsubseclink" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">#lang</span></span> <span class="RktModLink"><span class="RktSym">turnstile</span></span>/<span class="mywbr"> &nbsp;</span>lang</a></td></tr><tr><td><span class="tocsublinknumber">2.10<tt>&nbsp;</tt></span><a href="#%28part._turnstilequicklang%29" class="tocsubseclink" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">#lang</span></span> <span class="RktModLink"><span class="RktSym">turnstile</span></span>/<span class="mywbr"> &nbsp;</span>quicklang</a></td></tr><tr><td><span class="tocsublinknumber">2.11<tt>&nbsp;</tt></span><a href="#%28part._turnstilebase%29" class="tocsubseclink" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">#lang</span></span> <span class="RktModLink"><span class="RktSym">turnstile</span></span>/<span class="mywbr"> &nbsp;</span>base</a></td></tr><tr><td><span class="tocsublinknumber">2.12<tt>&nbsp;</tt></span><a href="#%28part._.Lower-level_.Functions%29" class="tocsubseclink" data-pltdoc="x">Lower-<wbr></wbr>level Functions</a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._infer%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">infer</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-use-stop-list~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>use-<wbr></wbr>stop-<wbr></wbr>list?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._subst%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">subst</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._substs%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">substs</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-error%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">type-<wbr></wbr>error</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type-~3estr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">type-<wbr></wbr>&gt;str</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._add-orig%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>orig</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._get-orig%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">get-<wbr></wbr>orig</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.13<tt>&nbsp;</tt></span><a href="#%28part._.Subtyping%29" class="tocsubseclink" data-pltdoc="x">Subtyping</a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._variance~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">variance?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._covariant%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">covariant</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._contravariant%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">contravariant</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._invariant%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">invariant</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._irrelevant%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">irrelevant</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.14<tt>&nbsp;</tt></span><a href="#%28part._.Modes%29" class="tocsubseclink" data-pltdoc="x">Modes</a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mode</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._make-mode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>mode</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>mode</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmode..rkt%29._with-mode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>mode</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._make-param-mode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>param-<wbr></wbr>mode</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.15<tt>&nbsp;</tt></span><a href="#%28part._.Miscellaneous_.Syntax_.Object_.Functions%29" class="tocsubseclink" data-pltdoc="x">Miscellaneous Syntax Object Functions</a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._stx-length%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>length</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._stx-length~3d~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>length=?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._stx-andmap%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stx-<wbr></wbr>andmap</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.16<tt>&nbsp;</tt></span><a href="#%28part._.Special_.Identifiers%29" class="tocsubseclink" data-pltdoc="x">Special Identifiers</a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&#8656;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&#8658;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&#8811;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&#8827;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&#8866;</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.17<tt>&nbsp;</tt></span><a href="#%28part._no-unicode%29" class="tocsubseclink" data-pltdoc="x">Non-<wbr></wbr>Unicode Identifiers</a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3c~3d%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&lt;=</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3d~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">=&gt;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3e~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&gt;&gt;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3e~3e~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&gt;&gt;&gt;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._%2F-%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">/<span class="mywbr"> &nbsp;</span>-</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="The_Turnstile_Guide.html" title="backward to &quot;1 The Turnstile Guide&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;The turnstile language&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Rackunit-Style_Test_Forms_for_Turnstile.html" title="forward to &quot;3 Rackunit-Style Test Forms for Turnstile&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;The_Turnstile_Reference&quot;">2<tt>&nbsp;</tt><a name="(part._.The_.Turnstile_.Reference)"></a>The Turnstile Reference</h3><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Typing_Unicode_Characters&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Typing_.Unicode_.Characters)"></a>Typing Unicode Characters</h4><p>Turnstile utilizes unicode. Here are DrRacket keyboard shortcuts for the
relevant characters. Type (any unique prefix of) the following
and then press Control-<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\</span><span class="hspace"></span></span> or Alt-<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\</span><span class="hspace"></span></span>.</p><ul><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">\vdash</span><span class="hspace"></span></span> &#8594; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#8866;</span><span class="hspace"></span></span></p></li><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">\gg</span><span class="hspace"></span></span> &#8594; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#8811;</span><span class="hspace"></span></span></p></li><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">\rightarrow</span><span class="hspace"></span></span> &#8594; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#8594;</span><span class="hspace"></span></span></p></li><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">\Rightarrow</span><span class="hspace"></span></span> &#8594; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#8658;</span><span class="hspace"></span></span></p></li><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">\Leftarrow</span><span class="hspace"></span></span> &#8594; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#8656;</span><span class="hspace"></span></span></p></li><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">\succ</span><span class="hspace"></span></span> &#8594; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#8827;</span><span class="hspace"></span></span></p></li></ul><p>See also <a href="#%28part._no-unicode%29" data-pltdoc="x">Non-Unicode Identifiers</a> for non-unicode aliases.</p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Forms&quot;">2.2<tt>&nbsp;</tt><a name="(part._.Forms)"></a>Forms</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-typed-syntax))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-typed-syntax</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">pattern</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conclusion</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-typed-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">rule</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktVar">option</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">rule</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">[</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">conclusion</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">[</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">type-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">&#8656;-conclusion</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">[</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">&#8656;-conclusion</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">expr-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax pattern</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">type-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax pattern</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">expr-template</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=pattern-macros.html%23%2528tech._template%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">template</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">type-template</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=pattern-macros.html%23%2528tech._template%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">template</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">key</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">premise</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tc</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">prem-options</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">ctx-elem</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tc</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">prem-options</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">ctx</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tc</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">prem-options</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">ctx</span><span class="hspace">&nbsp;</span><span class="RktVar">ctx</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tc</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">prem-options</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">tc-elem</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">ctx-elem</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">tc-elem</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">ctx</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">tc-elem</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">ctx</span><span class="hspace">&nbsp;</span><span class="RktVar">ctx</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">tc-elem</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">type-relation</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:mode</span><span class="hspace">&nbsp;</span><span class="RktVar">mode-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:submode</span><span class="hspace">&nbsp;</span><span class="RktVar">fn-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._pattern._directive%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern directive</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">ctx</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">ctx-elem</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">ctx-elem</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">tc</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">tc-elem</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">tc-elem</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">type-pattern</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">type-template</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">type-relation</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">type-template</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;=</span><span class="hspace">&nbsp;</span><span class="RktVar">type-template</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">type-template</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;=</span><span class="hspace">&nbsp;</span><span class="RktVar">type-template</span><span class="hspace">&nbsp;</span><span class="RktPn">#:for</span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">type-template</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;&#8849;</span><span class="hspace">&nbsp;</span><span class="RktVar">type-template</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">type-template</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;&#8849;</span><span class="hspace">&nbsp;</span><span class="RktVar">type-template</span><span class="hspace">&nbsp;</span><span class="RktPn">#:for</span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">prem-options</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:mode</span><span class="hspace">&nbsp;</span><span class="RktVar">mode-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:submode</span><span class="hspace">&nbsp;</span><span class="RktVar">fn-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">conclusion</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">type-template</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktPn">#:error</span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">&#8656;-conclusion</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr-template</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">ooo</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktMeta">...</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Generates a macro definition that also performs type checking. The macro is
generated from <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax patterns</span></a> and <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._pattern._directive%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern directives</span></a>,
along with type-judgement-like clauses that interleave typechecking and macro
expansion.  The resulting macro type checks its surface syntax as part of macro
expansion and the resulting type is attached to the expanded expression.</div></p><p><span style="font-weight: bold">Premises</span></p><p><span style="font-style: italic">Bidirectional judgements</span></p><p><div class="SIntrapara">Turnstile <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span> rules use bidirectional type checking
judgements:
</div><div class="SIntrapara"><ul><li><p><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="stt"> </span><span class="RktSym">e</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="stt"> </span><span class="RktSym">e-</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="stt"> </span><span class="RktSym">&#964;</span><span class="RktPn">]</span> declares that expression <span class="RktSym">e</span> expands to
<span class="RktSym">e-</span> and has type <span class="RktSym">&#964;</span>, where <span class="RktSym">e</span> is the input and,
<span class="RktSym">e-</span> and <span class="RktSym">&#964;</span> outputs. Syntactically, <span class="RktSym">e</span> is a syntax
template position and <span class="RktSym">e-</span> and <span class="RktSym">&#964;</span> are syntax pattern positions.</p></li><li><p>Dually, one may write <span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="stt"> </span><span class="RktSym">e</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="stt"> </span><span class="RktSym">e-</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="stt"> </span><span class="RktSym">&#964;</span><span class="RktPn">]</span> to check that <span class="RktSym">e</span> has type <span class="RktSym">&#964;</span>. Here, both <span class="RktSym">e</span>
and <span class="RktSym">&#964;</span> are inputs (templates) and only <span class="RktSym">e-</span> is an
output (pattern).</p></li></ul></div></p><p>Each bidirectional arrow has a generalized form that associates a key with a
value, e.g., <span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="stt"> </span><span class="RktSym">e</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="stt"> </span><span class="RktSym">e-</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="stt"> </span><span class="RktVar">key</span><span class="stt"> </span><span class="RktSym">pat</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">]</span>. A programmer may use this
generalized form to specify propagation of arbitrary values, associated with
any number of keys. For example, a type and effect system may wish to
additionally propagate source locations of allocations and mutations. When no
key is specified, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span>, i.e., the "type" key, is used.</p><p><span style="font-style: italic">Contexts</span></p><p>A context may be specified to the left of the turnstile. A context element has
shape <span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="stt"> </span><span class="RktSym">x-</span><span class="stt"> </span><span class="RktVar">key</span><span class="stt"> </span><span class="RktSym">pat</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">]</span> where <span class="RktSym">x-</span> is a pattern
matching the expansion of <span class="RktSym">x</span> and the interleaved <span class="RktVar">key</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> and
<span class="RktSym">pat</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> are arbitrary key-value pairs, e.g. a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span> key and type
pattern.</p><p>A context has <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let*</a></span> semantics where each binding is in scope for
subsequent parts of the context. This means type and term variables may be in
the same context (if properly ordered). In addition, Turnstile allows writing
two separate contexts, grouped by parens, where bindings in first are in scope
for the second. This is often convenient for scenarios that Racket&rsquo;s pattern
language cannot express, e.g., when there two distinct groups of bindings, a
pattern <span class="RktSym">x</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="stt"> </span><span class="RktSym">y</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> will not work as expected.</p><p>For convenience, lone identifiers written to the left of the turnstile are
automatically treated as type variables.</p><p><span style="font-style: italic">Modes</span></p><p>The keyword <span class="RktPn">#:mode</span>, when appearing at end of a typechecking rule,
sets the parameter <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> to the <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="RktValLink" data-pltdoc="x">mode</a></span> object supplied
by <span class="RktVar">mode-expr</span>, for the extent of that rule. <span class="RktPn">#:mode</span>, when
appearing as its own premise, sets the <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> parameter for the
extent of all the grouped sub-premises.</p><p>The keyword <span class="RktPn">#:submode</span> is similar to <span class="RktPn">#:mode</span>, but it calls
<span class="RktPn">(</span><span class="RktVar">fn-expr</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span><span class="RktPn">)</span><span class="RktPn">)</span> to obtain the new mode object. Thus,
<span class="RktPn">#:mode</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">fn-expr</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span><span class="RktPn">)</span><span class="RktPn">)</span> is identical to <span class="RktPn">#:submode</span><span class="stt"> </span><span class="RktVar">fn-expr</span>.</p><p>See <a href="#%28part._.Modes%29" data-pltdoc="x">Modes</a> for more details.</p><p>WARNING: <span class="RktPn">#:mode</span> is unaware of the backtracking behavior of
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span>. If pattern backtracking escapes a <span class="RktPn">#:mode</span> group, it may
leave <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> in an undesirable state.</p><p><span style="font-weight: bold">Conclusion</span></p><p>Bidirectional judgements below the conclusion line invert their inputs and
outputs so that both positions in <span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="stt"> </span><span class="RktSym">e-</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="stt"> </span><span class="RktSym">&#964;</span><span class="RktPn">]</span> are syntax templates and
means that <span class="RktSym">e-</span> is the output of the generated macro and it has type &#964;
attached. The generalized key-value form of the bidirectional judgements may
also be used in the conclusion.</p><p>The <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span> conclusion form is useful in many scenarios where the rule being
implemented may not want to attach type information. E.g.,</p><ol><li><p>when a rule&rsquo;s output is another typed macro.</p><p>For example, here is a hypothetical <span class="stt">typed-let*</span> that is implemented in
terms of a <span class="stt">typed-let</span>:</p><p><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">typed-let*</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">]</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x_rst</span><span class="hspace">&nbsp;</span><span class="RktSym">e_rst</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">typed-let</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">typed-let*</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x_rst</span><span class="hspace">&nbsp;</span><span class="RktSym">e_rst</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></p><p>The conclusion in the first clause utilizes <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span> since the body already
carries its own type. The second clause uses <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span> because it defers to
<span class="stt">typed-let</span>, which will attach type information.</p></li><li><p>when a rule extends another.</p><p>This is related to the first example. For example, here is a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._%7E23%7E25datum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%datum</a></span>
that extends another with more typed literals (see also <a href="The_Turnstile_Guide.html#%28part._stlcsub%29" data-pltdoc="x">Extending a Language</a>).</p><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">typed-datum</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">n:integer</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._%7E23%7E25datum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%datum-</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Int</span><span class="RktPn">]</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:error</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-error%29%29" class="RktStxLink" data-pltdoc="x">type-error</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:src</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">#:msg</span><span class="hspace">&nbsp;</span><span class="RktVal">"Unsupported literal: ~v"</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">extended-datum</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">s:str</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._%7E23%7E25datum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%datum-</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">String</span><span class="RktPn">]</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">typed-datum</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></li><li><p>for top-level forms.</p><p>For example, here is a basic typed version of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span>:</p><p><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e-</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:with</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=syntax-util.html%23%2528def._%2528%2528lib._racket%252Fsyntax..rkt%2529._generate-temporary%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">generate-temporary</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable-rename%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable-rename</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">e-</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></p><p>This macro creates an indirection <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable-rename%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable-rename</a></span> in order to
attach type information to the top-level <span class="stt">x</span> identifier, so the
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span> forms themselves do not need type information.</p></li></ol><p><span style="font-weight: bold">Note: </span> <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span> is generated
by <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">type</span><span class="RktPn">)</span>. See <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span> for more information.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-typerule))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typerule%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-typerule</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">....</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-syntax/typecheck))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax%2Ftypecheck%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-syntax/typecheck</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">....</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Aliases for <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._syntax-parse/typecheck))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._syntax-parse%2Ftypecheck%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">syntax-parse/typecheck</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">rule</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span>-like form that supports
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>-style clauses. In particular, see the
"rule" part of <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>&rsquo;s grammar above.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-typed-variable-rename))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable-rename%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-typed-variable-rename</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">typed-var</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8811;</span><span class="hspace">&nbsp;</span><span class="RktVar">untyped-var</span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">type</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Defines <span class="RktVar">typed-var</span> as a variable with type <span class="RktVar">type</span> that erases to
<span class="RktVar">untyped-var</span>. Supports <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=set_.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._set%2521%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">set!</a></span>. Generally typed definition
forms will expand to a combination of an untyped <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span> and this form.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-typed-variable))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-typed-variable</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">typed-e</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8656;</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-typed-variable</a></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">typed-e</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-typed-variable</a></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">untyped-e</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8658;</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Defines <span class="RktVar">id</span> as a typed, top-level name. <span class="RktVar">id</span> expands to another
binding that is bound to the supplied expression.</div></p><p>With the &#8656; variant, <span class="RktVar">typed-e</span> is checked to have type &#964;. <span class="RktVar">id</span>
also has type &#964;.</p><p>With middle variant, <span class="RktVar">id</span> has the type of <span class="RktVar">typed-e</span>.</p><p>With the &#8658; variant, both <span class="RktVar">id</span> and <span class="RktVar">untyped-e</span> are assigned type
&#964; (using <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._assign-type%29%29" class="RktValLink" data-pltdoc="x">assign-type</a></span>).</p><p>The difference between <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable-rename%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable-rename</a></span> is that the latter assumes that an
untyped name already exists. In contrast, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable</a></span> uses
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=syntax-util.html%23%2528def._%2528%2528lib._racket%252Fsyntax..rkt%2529._generate-temporary%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">generate-temporary</a></span> to first define an untyped name, and then uses <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable-rename%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable-rename</a></span> to define
the typed name in terms of the untyped name. E.g., <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxLink" data-pltdoc="x">define-primop</a></span> essentially just uses <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable-rename%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable-rename</a></span>, but a typed <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span> needs more.</p><p>Here is an example <span class="RktSym">typed-&#955;</span> and <span class="RktSym">typed-define</span> that expands to
 <span class="RktSym">typed-&#955;</span> and <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable</a></span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typerule%29%29" class="RktStxLink" data-pltdoc="x">define-typerule</a></span><span class="hspace">&nbsp;</span><span class="RktSym">typed-&#955;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7edatum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~datum</a></span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;:type</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x-</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;.norm</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e-</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8658;</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;out</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;-</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x-</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e-</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8658;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;.norm</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;out</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8656;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">~-&gt;</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;in</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x-</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;in</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e-</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8656;</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;out</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;-</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x-</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e-</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typerule%29%29" class="RktStxLink" data-pltdoc="x">define-typerule</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f:id</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7edatum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~datum</a></span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;in:type</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7edatum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~datum</a></span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;out:type</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><span class="nobreak">--------</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-variable%29%29" class="RktStxLink" data-pltdoc="x">define-typed-variable</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">typed-&#955;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8656;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;in.norm</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;out.norm</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-primop))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-primop</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">typed-op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-primop</a></span><span class="hspace">&nbsp;</span><span class="RktVar">typed-op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-primop</a></span><span class="hspace">&nbsp;</span><span class="RktVar">typed-op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-primop</a></span><span class="hspace">&nbsp;</span><span class="RktVar">typed-op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-primop</a></span><span class="hspace">&nbsp;</span><span class="RktVar">typed-op-id</span><span class="hspace">&nbsp;</span><span class="RktPn">#:as</span><span class="hspace">&nbsp;</span><span class="RktVar">op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-primop</a></span><span class="hspace">&nbsp;</span><span class="RktVar">typed-op-id</span><span class="hspace">&nbsp;</span><span class="RktPn">#:as</span><span class="hspace">&nbsp;</span><span class="RktVar">op-id</span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Defines <span class="RktVar">typed-op-id</span> by attaching type <span class="RktVar">&#964;</span> to (untyped)
identifier <span class="RktVar">op-id</span>, e.g.:</div></p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxLink" data-pltdoc="x">define-primop</a></span><span class="hspace">&nbsp;</span><span class="RktSym">typed+</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktSym">Int</span><span class="hspace">&nbsp;</span><span class="RktSym">Int</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>When not specified, <span class="RktVar">op-id</span> is <span class="RktVar">typed-op-id</span> suffixed with
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">-</span><span class="hspace"></span></span> (see <a href="#%28part._racket-%29" data-pltdoc="x">Suffixed Racket Bindings</a>).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-syntax-category))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-syntax-category</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key1</span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="hspace">&nbsp;</span><span class="RktVar">key1</span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">key2</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Defines a new "category" of syntax by defining a series of forms and functions.
Turnstile pre-declares <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">type</span><span class="RktPn">)</span>, which in turn
defines the forms and functions below.</div></p><p>Each category of syntax is associated with two keys: <span class="RktVar">key1</span> is used when
attaching values in the category to other syntax, e.g., attaching types to
terms, and <span class="RktVar">key2</span> is used for attaching an additional syntax property to
values in the category, e.g. using <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxLink" data-pltdoc="x">#%type</a></span> to indicate well-formedness.</p><p>If no keys are specified, <span class="RktVar">key1</span> is <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span> and <span class="RktVar">key2</span> is
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">::</span><span class="hspace"></span></span>. If only <span class="RktVar">key1</span> is given, then <span class="RktVar">key2</span> is
<span class="RktVar">key1</span> appended to itself.</p><p>Defining another category, e.g., <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">kind</span><span class="RktPn">)</span> defines a separate set of forms
and functions, e.g., <span class="RktSym">define-kinded-syntax</span>, <span class="RktSym">define-base-kind</span>, <span class="RktSym">kind=?</span>, etc.</p><p><span style="font-style: italic">The following forms and functions are automatically defined by a
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">type</span><span class="RktPn">)</span> declaration:</span>
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxLink" data-pltdoc="x">define-base-type</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-types%29%29" class="RktStxLink" data-pltdoc="x">define-base-types</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="RktStxLink" data-pltdoc="x">define-binding-type</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-internal-type-constructor</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-binding-type%29%29" class="RktStxLink" data-pltdoc="x">define-internal-binding-type</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-typecheck-relation%29%29" class="RktValLink" data-pltdoc="x">current-typecheck-relation</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typecheck~3f%29%29" class="RktValLink" data-pltdoc="x">typecheck?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typechecks~3f%29%29" class="RktValLink" data-pltdoc="x">typechecks?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">current-type=?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._types~3d~3f%29%29" class="RktValLink" data-pltdoc="x">types=?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._same-types~3f%29%29" class="RktValLink" data-pltdoc="x">same-types?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3f%29%29" class="RktValLink" data-pltdoc="x">current-type?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._any-type~3f%29%29" class="RktValLink" data-pltdoc="x">any-type?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-any-type~3f%29%29" class="RktValLink" data-pltdoc="x">current-any-type?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._assign-type%29%29" class="RktValLink" data-pltdoc="x">assign-type</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typeof%29%29" class="RktValLink" data-pltdoc="x">typeof</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxLink" data-pltdoc="x">#%type</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type~3f%29%29" class="RktValLink" data-pltdoc="x">#%type?</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._mk-type%29%29" class="RktValLink" data-pltdoc="x">mk-type</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._any-type%29%29" class="RktStxLink" data-pltdoc="x">any-type</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-bind%29%29" class="RktStxLink" data-pltdoc="x">type-bind</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-ctx%29%29" class="RktStxLink" data-pltdoc="x">type-ctx</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-ann%29%29" class="RktStxLink" data-pltdoc="x">type-ann</a></span></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Forms_for_Defining_Types&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Forms_for_.Defining_.Types)"></a>Forms for Defining Types</h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-weight: bold">Note: </span> The forms in this section are generated by <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">type</span><span class="RktPn">)</span>.
See <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span> for more information. </p></blockquote></blockquote></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-base-type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-base-type</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">base-type-name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-base-type</a></span><span class="hspace">&nbsp;</span><span class="RktVar">base-type-name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">tag</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:runtime</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Defines a base type. <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxLink" data-pltdoc="x">define-base-type</a></span><span class="stt"> </span><span class="RktSym">&#964;</span><span class="RktPn">)</span> in turn defines:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">&#964;</span>, an identifier macro representing type <span class="RktSym">&#964;</span>.</p></li><li><p><span class="RktSym">&#964;?</span>, a phase 1 predicate recognizing type <span class="RktSym">&#964;</span>.</p></li><li><p><span class="RktSym">~&#964;</span>, a phase 1 <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._pattern._expander%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern expander</span></a> recognizing type <span class="RktSym">&#964;</span>.</p></li></ul></div></p><p>Types defined with <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxLink" data-pltdoc="x">define-base-type</a></span> are automatically tagged with a
<span class="RktVar">key2</span>-keyed (as specified in the <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span>
declaration) <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxLink" data-pltdoc="x">#%type</a></span> syntax property (essentially, a default kind),
unless the second form above is used, in which case the specified <span class="stt">tag</span> is
attached to the type using the specified <span class="stt">key</span>.</p><p>The <span class="RktPn">#:runtime</span> argument dictates that, rather than throwing an error,
type evaluates to a value at runtime.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-base-types))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-types%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-base-types</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">base-type-name-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Defines multiple base types, each using the default key and options.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-type-constructor))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-type-constructor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arity</span><span class="hspace">&nbsp;</span><span class="RktVar">op</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:runtime</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arg-variances</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:extra-info</span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Defines a type constructor (that does not bind type variables).
Defining a type constructor <span class="RktSym">&#964;</span> subsequently defines:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">&#964;</span>, a macro for constructing an instance of type <span class="RktSym">&#964;</span>,
with the specified arity.  Validates inputs and expands to
<span class="RktSym">&#964;-</span>, attaching <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxLink" data-pltdoc="x">#%type</a></span> at <span class="stt">key2</span>.</p></li><li><p><span class="RktSym">&#964;-</span>, an internal macro that expands to the internal
(i.e., fully expanded) type representation. Does not validate inputs
or attach any extra properties. This macro is useful when creating a
separate kind system, see <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-internal-type-constructor</a></span>.</p></li><li><p><span class="RktSym">&#964;?</span>, a phase 1 predicate recognizing type <span class="RktSym">&#964;</span>.</p></li><li><p><span class="RktSym">~&#964;</span>, a phase 1 <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._pattern._expander%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern expander</span></a> recognizing type
<span class="RktSym">&#964;</span>.</p></li></ul></div></p><p>The <span class="RktPn">#:arity</span> argument specifies the valid shapes
  for the type. For example
  <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span><span class="stt"> </span><span class="RktSym">&#8594;</span><span class="stt"> </span><span class="RktPn">#:arity</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;=</a></span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span> defines an arrow type and
  <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span><span class="stt"> </span><span class="RktSym">Pair</span><span class="stt"> </span><span class="RktPn">#:arity</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span> defines a pair type.
  The default arity is <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">1</span>.</p><p>The <span class="RktPn">#:runtime</span> argument dictates that, rather than throwing an error,
  type evaluates to a value at runtime.</p><p>The <span class="RktPn">#:arg-variances</span> argument is a transformer converting a syntax
  object of the type to a list of variances for the arguments to the type
  constructor.</p><p>The possible variances are <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._invariant%29%29" class="RktValLink" data-pltdoc="x">invariant</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._contravariant%29%29" class="RktValLink" data-pltdoc="x">contravariant</a></span>,
  <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._covariant%29%29" class="RktValLink" data-pltdoc="x">covariant</a></span>, and <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._irrelevant%29%29" class="RktValLink" data-pltdoc="x">irrelevant</a></span>.</p><p>If <span class="RktPn">#:arg-variances</span> is not specified, <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._invariant%29%29" class="RktValLink" data-pltdoc="x">invariant</a></span> is used for
  all positions.</p><p>Example:</p><p><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktPn">#:arity</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;=</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">#:arg-variances</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">stx</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;_in</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;_out</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._make-list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">make-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._stx-length%29%29" class="RktValLink" data-pltdoc="x">stx-length</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">[</span><span class="RktSym">&#964;_in</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._contravariant%29%29" class="RktValLink" data-pltdoc="x">contravariant</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._covariant%29%29" class="RktValLink" data-pltdoc="x">covariant</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>The <span class="RktPn">#:extra-info</span> argument is useful for attaching additional
  metainformation to types, for example to communicate accessors to a pattern
  matching form.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-binding-type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-binding-type</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arity</span><span class="hspace">&nbsp;</span><span class="RktVar">op</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:bvs</span><span class="hspace">&nbsp;</span><span class="RktVar">op</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arr</span><span class="hspace">&nbsp;</span><span class="RktVar">kindcon</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arg-variances</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:extra-info</span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Similar to <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span>, except
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="RktStxLink" data-pltdoc="x">define-binding-type</a></span> defines a type that binds type variables.
Defining a type constructor <span class="RktSym">&#964;</span> defines:</div></p><p>The <span class="RktPn">#:arity</span> and <span class="RktPn">#:bvs</span> arguments specify the valid shapes
for the type. For example
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="RktStxLink" data-pltdoc="x">define-binding-type</a></span><span class="stt"> </span><span class="RktSym">&#8704;</span><span class="stt"> </span><span class="RktPn">#:arity</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">1</span><span class="stt"> </span><span class="RktPn">#:bvs</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span> defines a type
with shape <span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">&#964;</span><span class="RktPn">)</span>, where <span class="RktSym">&#964;</span> may reference <span class="RktSym">X</span>.</p><p>The default <span class="RktPn">#:arity</span> is <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">1</span>
and the default <span class="RktPn">#:bvs</span> is <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;=</a></span><span class="stt"> </span><span class="RktVal">0</span>.</p><p>Use the <span class="RktPn">#:arr</span> argument to define a type with kind annotations
on the type variables. The <span class="RktPn">#:arr</span> argument is an "arrow" that "saves"
the annotations after a type is expanded and annotations are erased,
analogous to how &#8594; "saves" the type annotations on a lambda.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-internal-type-constructor))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-type-constructor%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-internal-type-constructor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arg-variances</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:extra-info</span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span>, except the surface macro is not
defined. Use this form, for example, when creating a separate kind system so
that you can still use other Turnstile conveniences like pattern expanders.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._define-internal-binding-type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-binding-type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-internal-binding-type</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arr</span><span class="hspace">&nbsp;</span><span class="RktVar">kindcon</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arg-variances</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:extra-info</span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Analogous to <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-internal-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-internal-type-constructor</a></span>, but for binding types.</div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Type_Operations&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Type_.Operations)"></a>Type Operations</h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-weight: bold">Note: </span> The forms in this section are generated by <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">type</span><span class="RktPn">)</span>.
See <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span> for more information. </p></blockquote></blockquote></blockquote><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>It&rsquo;s not important to immediately understand all these
definitions. Some, like <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._mk-type%29%29" class="RktValLink" data-pltdoc="x">mk-type</a></span>, are
more "low-level" and are mainly used by the other forms. The most useful forms
are probably <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>, and the type-defining forms
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxLink" data-pltdoc="x">define-base-type</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span>, and
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="RktStxLink" data-pltdoc="x">define-binding-type</a></span>.</p></blockquote></blockquote></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._current-type-eval))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-type-eval</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-type-eval</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-eval</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-eval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 parameter for controlling "type evaluation". A <span class="RktVar">type-eval</span>
function consumes and produces syntax. It is typically used to convert a type
into a canonical representation. The <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span> is called
immediately before attaching a type to a syntax object, i.e., by
<span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._assign-type%29%29" class="RktValLink" data-pltdoc="x">assign-type</a></span>.</div></p><p>It defaults to full expansion, i.e., <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">stx</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxtrans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._local-expand%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">local-expand</a></span><span class="stt"> </span><span class="RktSym">stx</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">expression</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span><span class="RktPn">)</span><span class="RktPn">)</span>,
and also stores extra surface syntax information used for error reporting.</p><p>One should extend <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span> if canonicalization of types
depends on combinations of different types, e.g., type lambdas and type application in F-omega. </p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._current-typecheck-relation))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-typecheck-relation%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-typecheck-relation</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-typecheck-relation%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-typecheck-relation</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-cmp</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-cmp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 parameter for controlling type checking, used by
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>. A <span class="RktVar">type-cmp</span> function consumes two
types&#8212;<wbr></wbr>the first is the given type and the second is the expected type&#8212;<wbr></wbr>and
returns true if they "type check". It defaults to <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span> though it
does not have to be a symmetric relation.  Useful for reusing rules that differ
only in the type check operation, e.g., equality vs subtyping.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._typecheck~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typecheck~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">typecheck?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;1</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 function that calls <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-typecheck-relation%29%29" class="RktValLink" data-pltdoc="x">current-typecheck-relation</a></span>. The first
argument is the given type and the second is the expected type.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._typechecks~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typechecks~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">typechecks?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;s1</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;s2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;s1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">stx-listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;s2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">stx-listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function mapping <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typecheck~3f%29%29" class="RktValLink" data-pltdoc="x">typecheck?</a></span> over lists of types,
pairwise. <span class="RktVar">&#964;s1</span> and <span class="RktVar">&#964;s2</span> must have the same length. The first
list contains the given types and the second list contains the expected
types.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._current-type~3d~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3d~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-type=?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528def._%2528%2528lib._syntax%252Fid-table..rkt%2529._immutable-bound-id-table%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">immutable-bound-id-table?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528def._%2528%2528lib._syntax%252Fid-table..rkt%2529._immutable-bound-id-table%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">immutable-bound-id-table?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3d~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-type=?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-cmp</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-cmp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528def._%2528%2528lib._syntax%252Fid-table..rkt%2529._immutable-bound-id-table%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">immutable-bound-id-table?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528def._%2528%2528lib._syntax%252Fid-table..rkt%2529._immutable-bound-id-table%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">immutable-bound-id-table?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 parameter for customizing the behavior of <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span>. In addition
to the types to compare, it receives environments used to map type variables in each
type respectively to a common representation. When making a recursive call to
<span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">current-type=?</a></span> under a binding form, pass extended environments mapping the
binders to a new unique value (compared by <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">eq?</a></span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._type~3d~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">type=?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;1</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 equality predicate for types that computes structural,
    <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxcmp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._free-identifier%7E3d%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">free-identifier=?</a></span> equality, but includes alpha-equivalence.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxLink" data-pltdoc="x">define-base-type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Int</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxLink" data-pltdoc="x">define-base-type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">String</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">Int</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">Int</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">Int</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">String</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktPn">#:arity</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="RktStxLink" data-pltdoc="x">define-binding-type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">#:arity</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:bvs</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">#t</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">#t</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3d~3f%29%29" class="RktValLink" data-pltdoc="x">type=?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8704;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">#f</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._types~3d~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._types~3d~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">types=?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;s1</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;s2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;s1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;s2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 predicate checking that <span class="RktVar">&#964;s1</span> and <span class="RktVar">&#964;s2</span> are equivalent, pairwise. Thus,
<span class="RktVar">&#964;s1</span> and <span class="RktVar">&#964;s2</span> must have the same length.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._same-types~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._same-types~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">same-types?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 predicate for checking if a list of types are all the same.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._type~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">type?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 predicate recognizing well-formed types. Checks that <span class="RktVar">x</span> is
a syntax object and has syntax propety <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxLink" data-pltdoc="x">#%type</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._current-type~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-type?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-type?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-pred</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-pred</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 parameter, initialized to <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span>, used to recognize well-formed
types. Useful when reusing type rules in different languages. For example,
System F-omega may define this to recognize types with "star" kinds.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._any-type~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._any-type~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">any-type?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 predicate recognizing valid types. Defaults to <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._current-any-type~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-any-type~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-any-type?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-any-type~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-any-type?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-pred</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-pred</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A phase 1 parameter, initialized to <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._any-type~3f%29%29" class="RktValLink" data-pltdoc="x">any-type?</a></span>, used to validate (not
necessarily well-formed) types. Useful when reusing type rules in different languages.
For example,System F-omega may define this to recognize types with a any valid kind,
whereas <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3f%29%29" class="RktValLink" data-pltdoc="x">current-type?</a></span> would recognize types with only the "star" kind.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._assign-type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._assign-type%29%29" class="RktValDef RktValLink" data-pltdoc="x">assign-type</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function that calls <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span> on <span class="RktVar">&#964;</span> and attaches
it to <span class="RktVar">e</span> using <span class="stt">key1</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._typeof))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._typeof%29%29" class="RktValDef RktValLink" data-pltdoc="x">typeof</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function returning type of <span class="RktVar">e</span>, at <span class="stt">key1</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._~23~25type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">#%type</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The default "kind" used to validate types.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._~23~25type~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">#%type?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 predicate recognizing <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxLink" data-pltdoc="x">#%type</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._mk-type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._mk-type%29%29" class="RktValDef RktValLink" data-pltdoc="x">mk-type</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function that marks a syntax object as a type by attaching <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~23~25type%29%29" class="RktStxLink" data-pltdoc="x">#%type</a></span>.
Useful for defining your own type with arbitrary syntax that does not fit with
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-base-type%29%29" class="RktStxLink" data-pltdoc="x">define-base-type</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span>.</div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Syntax_Patterns&quot;">2.5<tt>&nbsp;</tt><a name="(part._.Syntax_.Patterns)"></a>Syntax Patterns</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._~7etypecheck))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7etypecheck%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~typecheck</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._pattern._expander%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern expander</span></a>
that supports typechecking syntax.</div></p><p>For example the pattern</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7etypecheck%29%29" class="RktStxLink" data-pltdoc="x">~typecheck</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;_a</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;_a</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote><p>typechecks <span class="RktSym">a</span> and <span class="RktSym">b</span>, expecting <span class="RktSym">b</span> to have the
type of <span class="RktSym">a</span>, and binding <span class="RktSym">a-</span> and <span class="RktSym">b-</span> to the
expanded versions.</p><p>This is most useful in places where you want to do typechecking in
something other than a type rule, like in a function or a syntax
class.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clause</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">stx-</span><span class="hspace">&nbsp;</span><span class="RktSym">result-type</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">f : Stx -&gt; Clause</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">condition:expr</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7etypecheck%29%29" class="RktStxLink" data-pltdoc="x">~typecheck</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">condition</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">condition-</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Bool</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">body-</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;_body</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clause</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">[</span><span class="RktSym">condition-</span><span class="hspace">&nbsp;</span><span class="RktSym">body-</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">&#964;_body</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._~7e~e2~8a~a2))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7e~e2~8a~a2%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~&#8866;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">tc</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A shorthand <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._pattern._expander%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern expander</span></a>
for <span class="RktPn">(</span><span class="RktSym">~typcheck</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span><span class="stt"> </span><span class="RktVar">tc</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">]</span><span class="RktPn">)</span>.</div></p><p>For example the pattern <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7e~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">~&#8866;</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="stt"> </span><span class="RktSym">a-</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="stt"> </span><span class="RktSym">&#964;_a</span><span class="RktPn">)</span> typechecks
<span class="RktSym">a</span>, binding the expanded version to <span class="RktSym">a-</span> and the type
to <span class="RktSym">&#964;_a</span>.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clause</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">stx-</span><span class="hspace">&nbsp;</span><span class="RktSym">result-type</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">f : Stx -&gt; Clause</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">condition:expr</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7e~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">~&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">condition</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">condition-</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Bool</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~7e~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">~&#8866;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">body-</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;_body</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clause</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">[</span><span class="RktSym">condition-</span><span class="hspace">&nbsp;</span><span class="RktSym">body-</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">&#964;_body</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Syntax_Classes&quot;">2.6<tt>&nbsp;</tt><a name="(part._.Syntax_.Classes)"></a>Syntax Classes</h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-weight: bold">Note: </span> The forms in this section are generated by <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">type</span><span class="RktPn">)</span>.
See <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span> for more information. </p></blockquote></blockquote></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax class</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">type</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A syntax class that calls <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type~3f%29%29" class="RktValLink" data-pltdoc="x">current-type?</a></span>
to validate well-formed types. Binds a <span class="RktSym">norm</span> attribute to the type&rsquo;s expanded representation.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax class</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._any-type))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._any-type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">any-type</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A syntax class that calls <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-any-type~3f%29%29" class="RktValLink" data-pltdoc="x">current-any-type?</a></span>
to validate types. Binds a <span class="RktSym">norm</span> attribute to the type&rsquo;s expanded representation.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax class</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._type-bind))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-bind%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">type-bind</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A syntax class recognizing syntax objects with
shape <span class="RktPn">[</span><span class="RktSym">x:id</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7edatum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~datum</a></span><span class="stt"> </span><span class="RktSym">:</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">&#964;:type</span><span class="RktPn">]</span>. Binds a <span class="RktSym">x</span> attribute to the binding identifier,
and a <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span> attribute to the type&rsquo;s expanded representation.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax class</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._type-ctx))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-ctx%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">type-ctx</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A syntax class recognizing syntax objects with
shape <span class="RktPn">(</span><span class="RktSym">b:type-bind</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>. Binds a <span class="RktSym">x</span> attribute to the binding identifiers,
and a <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span> attribute to the expanded representation of the types.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax class</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._type-ann))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-ann%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">type-ann</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A syntax class recognizing
syntax objects with shape <span class="RktPn">{</span><span class="RktSym">&#964;:type</span><span class="RktPn">}</span> where the braces are required.
Binds a <span class="RktSym">norm</span> attribute to the type&rsquo;s expanded representation.</div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;require_and_provide-related_Forms&quot;">2.7<tt>&nbsp;</tt><a name="(part._require_and_provide-related_.Forms)"></a><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span>-related Forms</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._type-out))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-out%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">type-out</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ty-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span>-spec that, for each given <span class="RktVar">ty-id</span>, provides <span class="RktVar">ty-id</span>,
and provides <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for-syntax</a></span> a predicate <span class="RktSym">ty-id?</span> and a <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._pattern._expander%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern expander</span></a> <span class="RktSym">~ty-id</span>.</div></p><p><span style="font-weight: bold">Note: </span> <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-out%29%29" class="RktStxLink" data-pltdoc="x">type-out</a></span> is generated by <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span><span class="stt"> </span><span class="stt">type</span><span class="RktPn">)</span>.
See <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-syntax-category%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-category</a></span> for more information.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._typed-out))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._typed-out%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">typed-out</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x+ty+maybe-rename</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">x+ty+maybe-rename</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">ty</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">ty</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">ty</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">out-x</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">ty</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">out-x</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">x</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">out-x</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">ty</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">type?</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A provide-spec that adds type <span class="RktVar">ty</span> to untyped <span class="RktVar">x</span> and provides
that typed identifier as either <span class="RktVar">x</span>, or <span class="RktVar">out-x</span> if it&rsquo;s specified.</div></p><p>Equivalent to a <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxLink" data-pltdoc="x">define-primop</a></span> that automatically provides its
definition.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._extends))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._extends%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">extends</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">base-lang</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:except</span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:rename</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">old</span><span class="hspace">&nbsp;</span><span class="RktVar">new</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Requires all forms from <span class="RktVar">base-lang</span> and reexports them. Tries to
 automatically handle conflicts for commonly used forms like <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=application.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7E23%7E25app%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%app</a></span>.
The imported names are available for use in the current module, with a
 <span class="stt">base-lang:</span> prefix.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._reuse))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._reuse%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">reuse</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">#:from</span><span class="hspace">&nbsp;</span><span class="RktVar">base-lang</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">name</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">old</span><span class="hspace">&nbsp;</span><span class="RktVar">new</span><span class="RktPn">]</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Reuses <span class="RktVar">name</span>s from <span class="RktVar">base-lang</span>.</div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;racket-&quot;">2.8<tt>&nbsp;</tt><a name="(part._racket-)"></a>Suffixed Racket Bindings</h4><p>To help avoid name conflicts, Turnstile re-provides all Racket bindings with a
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">-</span><span class="hspace"></span></span> suffix. These bindings are automatically used in some cases, e.g.,
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-primop%29%29" class="RktStxLink" data-pltdoc="x">define-primop</a></span>, but in general are useful for avoiding name conflicts,
particularly for commonly used macros like <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=application.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7E23%7E25app%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%app</a></span>.</p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;turnstilelang&quot;">2.9<tt>&nbsp;</tt><a name="(part._turnstilelang)"></a><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a> <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a>/lang</h4><p>Deprecated: see <a href="#%28part._turnstilequicklang%29" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">#lang</span></span> <span class="RktModLink"><span class="RktSym">turnstile</span></span>/quicklang</a>.</p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;turnstilequicklang&quot;">2.10<tt>&nbsp;</tt><a name="(part._turnstilequicklang)"></a><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a> <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a>/quicklang</h4><p>Languages implemented using <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a> <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a>
are responsible for defining and providing certain forms required by Racket,
e.g., <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7E23%7E25module-begin%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%module-begin</a></span>.</p><p>For convenience, Turnstile additionally supplies <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a>
<a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a><span class="stt">/quicklang</span>. Languages implemented using this language
will automatically provide Racket&rsquo;s <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=module.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7E23%7E25module-begin%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%module-begin</a></span>,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=__top-interaction.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7E23%7E25top-interaction%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%top-interaction</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=__top.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._%7E23%7E25top%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%top</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span>,
and some require transformers, e.g., <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._rename-in%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">rename-in</a></span>.</p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;turnstilebase&quot;">2.11<tt>&nbsp;</tt><a name="(part._turnstilebase)"></a><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a> <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a>/base</h4><p>Only provides <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a> at phase 1.
Does not provide <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a> at phase 1.</p><p>In contrast, full <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a> provides all of
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket</span></a> and <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a>
at phase 1.</p><p><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a>/base may load faster than full
<a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile</span></a> (roughly 15% for an empty file, with Racket 7).</p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Lower-level_Functions&quot;">2.12<tt>&nbsp;</tt><a name="(part._.Lower-level_.Functions)"></a>Lower-level Functions</h4><p>This section describes lower-level functions and parameters. It&rsquo;s usually not
necessary to call these directly, since <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span> and other
forms already do so, but some type systems may require extending some
functionality.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._infer))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><span class="RktSymDef RktSym">infer</span></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">es</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:ctx</span><span class="hspace">&nbsp;</span><span class="RktVar">ctx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:tvctx</span><span class="hspace">&nbsp;</span><span class="RktVar">tvctx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:tag</span><span class="hspace">&nbsp;</span><span class="RktVar">tag</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:stop-list?</span><span class="hspace">&nbsp;</span><span class="RktVar">stop-list?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tvs</span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="hspace">&nbsp;</span><span class="RktVar">es</span><span class="hspace">&nbsp;</span><span class="RktSym">&#964;s</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">es</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym">expr-stx</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ctx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym">binding-stx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">tvctx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tyvar-binding-stx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">tag</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stop-list?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function expanding a list of expressions, in the given contexts and
computes their types. Returns the expanded expressions, their types, and
expanded identifiers from the contexts, e.g.</div></p><p><span class="RktPn">(</span><span class="RktSym">infer</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:ctx</span><span class="stt"> </span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym">Int</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>might return</p><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x-</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=application.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7E23%7E25plain-app%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">#%plain-app</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">x-</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><p>The context elements have the same shape as in <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>.
The contexts use <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let*</a></span> semantics, where each binding is in scope for
subsequent bindings.</p><p>Use the <span class="stt">tag</span> keyword argument to specify the key for the
returned "type". The default key is <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span>. For example, a programmer may
want to specify a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">::</span><span class="hspace"></span></span> key when using <span class="RktSym">infer</span> to compute the
kinds on types.</p><p>The <span class="RktPn">#:stop-list?</span> argument controls an optimization to avoid unnecessary
re-expansion. When <span class="RktVal">#t</span>, expansion for typechecking stops once Racket kernel
forms are reached. Note that because types are expected to be in fully expanded form,
this flag should be <span class="RktVal">#f</span> when <span class="RktSym">infer</span> is used to infer kinds.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._current-use-stop-list~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-use-stop-list~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-use-stop-list?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-use-stop-list~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-use-stop-list?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">flag</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">flag</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#t</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">An additional means to control the stop-list optimization. Set to <span class="RktVal">#f</span> to disable.
Useful for languages with features like dependent types where full expansion is always
needed.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._subst))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._subst%29%29" class="RktValDef RktValLink" data-pltdoc="x">subst</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">cmp</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr-stx</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">cmp</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxcmp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bound-identifier%7E3d%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bound-identifier=?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function that replaces occurrences of <span class="RktVar">x</span>, as determined by <span class="RktVar">cmp</span>, with
 <span class="RktVar">&#964;</span> in <span class="RktVar">e</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._substs))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._substs%29%29" class="RktValDef RktValLink" data-pltdoc="x">substs</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;s</span><span class="hspace">&nbsp;</span><span class="RktVar">xs</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">cmp</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr-stx</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">xs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">cmp</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxcmp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bound-identifier%7E3d%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bound-identifier=?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function folding <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._subst%29%29" class="RktValLink" data-pltdoc="x">subst</a></span> over the given <span class="RktVar">&#964;s</span> and <span class="RktVar">xs</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/main..rkt)._type-error))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._type-error%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">type-error</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">#:src</span><span class="hspace">&nbsp;</span><span class="RktVar">srx-stx</span><span class="hspace">&nbsp;</span><span class="RktPn">#:msg</span><span class="hspace">&nbsp;</span><span class="RktVar">msg</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 form that throws a type error using the specified information. <span class="RktVar">msg</span> is a format string that references <span class="RktVar">args</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._type-~3estr))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type-~3estr%29%29" class="RktValDef RktValLink" data-pltdoc="x">type-&gt;str</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#964;</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#964;</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type~3f%29%29" class="RktValLink" data-pltdoc="x">type?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 function that produces a string representation of the given type <span class="RktVar">&#964;</span>. Creates a string by
traversing the syntax property <span class="RktVal">'</span><span class="RktVal">orig</span>, which can be manipulated with <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._add-orig%29%29" class="RktValLink" data-pltdoc="x">add-orig</a></span>.
<span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type-~3estr%29%29" class="RktValLink" data-pltdoc="x">type-&gt;str</a></span> is used in typechecking error messages.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._current-type-eval%29%29" class="RktValLink" data-pltdoc="x">current-type-eval</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">&#8594;</span><span class="hspace">&nbsp;</span><span class="RktSym">Int</span><span class="hspace">&nbsp;</span><span class="RktSym">Int</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._type-~3estr%29%29" class="RktValLink" data-pltdoc="x">type-&gt;str</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">(&#8594; Int Int)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._add-orig))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._add-orig%29%29" class="RktValDef RktValLink" data-pltdoc="x">add-orig</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">orig</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">orig</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._get-orig))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._get-orig%29%29" class="RktValDef RktValLink" data-pltdoc="x">get-orig</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Phase 1 functions for manipulation the <span class="RktVal">'</span><span class="RktVal">orig</span> property. <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._add-orig%29%29" class="RktValLink" data-pltdoc="x">add-orig</a></span> returns
the syntax <span class="RktVar">e</span> with <span class="RktVar">orig</span> added. <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._get-orig%29%29" class="RktValLink" data-pltdoc="x">get-orig</a></span> returns the last added
<span class="RktVal">'</span><span class="RktVal">orig</span> on <span class="RktVar">e</span>, or returns itself if none were added.</div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Subtyping&quot;">2.13<tt>&nbsp;</tt><a name="(part._.Subtyping)"></a>Subtyping</h4><p>WARNING: very experimental</p><p>Types defined with <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-type-constructor%29%29" class="RktStxLink" data-pltdoc="x">define-type-constructor</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-binding-type%29%29" class="RktStxLink" data-pltdoc="x">define-binding-type</a></span> may specify variance information and subtyping
languages may use this information to help compute the subtype relation.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._variance~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._variance~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">variance?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate that recognizes the variance values.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._turnstile/main..rkt)._covariant))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._covariant%29%29" class="RktValDef RktValLink" data-pltdoc="x">covariant</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._variance~3f%29%29" class="RktValLink" data-pltdoc="x">variance?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._turnstile/main..rkt)._contravariant))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._contravariant%29%29" class="RktValDef RktValLink" data-pltdoc="x">contravariant</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._variance~3f%29%29" class="RktValLink" data-pltdoc="x">variance?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._turnstile/main..rkt)._invariant))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._invariant%29%29" class="RktValDef RktValLink" data-pltdoc="x">invariant</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._variance~3f%29%29" class="RktValLink" data-pltdoc="x">variance?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._turnstile/main..rkt)._irrelevant))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._irrelevant%29%29" class="RktValDef RktValLink" data-pltdoc="x">irrelevant</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._variance~3f%29%29" class="RktValLink" data-pltdoc="x">variance?</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">The different possible variances.</div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Modes&quot;">2.14<tt>&nbsp;</tt><a name="(part._.Modes)"></a><a name="(mod-path._turnstile/mode)"></a>Modes</h4><p>WARNING: experimental</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._turnstile%2Fmode%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile/mode</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/turnstile-lib" title="Install this package using `raco pkg install turnstile-lib`"><span class="stt">turnstile-lib</span></a></span></td></tr></table></p><p>Modes are typically used by the <span class="RktPn">#:mode</span> and <span class="RktPn">#:submode</span>
keywords in <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span> (and related forms). When judgements
are parameterized by a <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="RktValLink" data-pltdoc="x">mode</a></span> value, the parameter
<span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> is set to that value for the extent of the
sub-premises. Additionally, the function <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode-setup-fn%29%29" class="RktValLink" data-pltdoc="x">mode-setup-fn</a></span> is called
before setting <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span>, and the function
<span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode-teardown-fn%29%29" class="RktValLink" data-pltdoc="x">mode-teardown-fn</a></span> is called after <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> is restored to
its previous value.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._turnstile/mode..rkt)._mode-teardown-fn))"></a><a name="(def._((lib._turnstile/mode..rkt)._mode-setup-fn))"></a><a name="(def._((lib._turnstile/mode..rkt)._mode~3f))"></a><a name="(def._((lib._turnstile/mode..rkt)._struct~3amode))"></a><a name="(def._((lib._turnstile/mode..rkt)._mode))"></a><span title="Provided from: turnstile/mode | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">mode</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">setup-fn</span><span class="stt"> </span><span class="RktSym">teardown-fn</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">setup-fn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">teardown-fn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Structure type for modes. Modes can be used to parameterize type judgements
or groups of type judgements, to give additional context and to help enable
flow-sensitive languages.</div></p><p>User defined modes should be defined as structs that inherit from <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="RktValLink" data-pltdoc="x">mode</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._turnstile/mode..rkt)._make-mode))"></a><span title="Provided from: turnstile/mode | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._make-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-mode</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:setup</span><span class="hspace">&nbsp;</span><span class="RktVar">setup-fn</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:teardown</span><span class="hspace">&nbsp;</span><span class="RktVar">teardown-fn</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode~3f%29%29" class="RktValLink" data-pltdoc="x">mode?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">setup-fn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">teardown-fn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="RktValLink" data-pltdoc="x">mode</a></span> object with the given setup and teardown functions.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/mode..rkt)._current-mode))"></a><span title="Provided from: turnstile/mode | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-mode</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode~3f%29%29" class="RktValLink" data-pltdoc="x">mode?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: turnstile/mode | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-mode</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mode</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mode</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode~3f%29%29" class="RktValLink" data-pltdoc="x">mode?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._make-mode%29%29" class="RktValLink" data-pltdoc="x">make-mode</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A parameter that holds the current mode. Typically parameterized using the keywords
<span class="RktPn">#:mode</span> and <span class="RktPn">#:submode</span> from <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span> forms.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._turnstile/mode..rkt)._with-mode))"></a><span title="Provided from: turnstile/mode | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmode..rkt%29._with-mode%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">with-mode</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mode-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">mode-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode~3f%29%29" class="RktValLink" data-pltdoc="x">mode?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">The result of <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmode..rkt%29._with-mode%29%29" class="RktStxLink" data-pltdoc="x">with-mode</a></span> is the result of the last <span class="RktVar">body</span>.
The parameter <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> is assigned to the result of
<span class="RktVar">mode-expr</span> for the extent of the <span class="RktVar">body</span> expressions. The
function <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode-setup-fn%29%29" class="RktValLink" data-pltdoc="x">mode-setup-fn</a></span> is called on the result of
<span class="RktVar">mode-expr</span> before <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> is set, and the function
<span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode-teardown-fn%29%29" class="RktValLink" data-pltdoc="x">mode-teardown-fn</a></span> is called after <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span> is restored
to its previous value.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-struct</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-mode</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="RktValLink" data-pltdoc="x">mode</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">M</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-my-mode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"M setup"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"M teardown"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmode..rkt%29._with-mode%29%29" class="RktStxLink" data-pltdoc="x">with-mode</a></span><span class="hspace">&nbsp;</span><span class="RktSym">M</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._current-mode%29%29" class="RktValLink" data-pltdoc="x">current-mode</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">M setup</span></p></td></tr><tr><td><p><span class="RktOut">#&lt;my-mode&gt;</span></p></td></tr><tr><td><p><span class="RktOut">M teardown</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/mode..rkt)._make-param-mode))"></a><span title="Provided from: turnstile/mode | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._make-param-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-param-mode</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">param</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode~3f%29%29" class="RktValLink" data-pltdoc="x">mode?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">param</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._parameter%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">parameter?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a <span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._mode%29%29" class="RktValLink" data-pltdoc="x">mode</a></span> that assigns the given parameter to the given
value for the extent of the mode.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">current-scope</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-parameter%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">make-parameter</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">outer</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmode..rkt%29._with-mode%29%29" class="RktStxLink" data-pltdoc="x">with-mode</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmode..rkt%29._make-param-mode%29%29" class="RktValLink" data-pltdoc="x">make-param-mode</a></span><span class="hspace">&nbsp;</span><span class="RktSym">current-scope</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">inner</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-scope</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">inner</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Miscellaneous_Syntax_Object_Functions&quot;">2.15<tt>&nbsp;</tt><a name="(part._.Miscellaneous_.Syntax_.Object_.Functions)"></a>Miscellaneous Syntax Object Functions</h4><p>These are all phase 1 functions.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._stx-length))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._stx-length%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-length</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Analogous to <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._stx-length~3d~3f))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._stx-length~3d~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-length=?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stx1</span><span class="hspace">&nbsp;</span><span class="RktVar">stx2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns true if two syntax objects are of equal length.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._turnstile/main..rkt)._stx-andmap))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28def._%28%28lib._turnstile%2Fmain..rkt%29._stx-andmap%29%29" class="RktValDef RktValLink" data-pltdoc="x">stx-andmap</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p?</span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Analogous to <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._andmap%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">andmap</a></span>.</div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;Special_Identifiers&quot;">2.16<tt>&nbsp;</tt><a name="(part._.Special_.Identifiers)"></a>Special Identifiers</h4><p>The following identifiers are bound (at phase 1) but are only valid within
other Turnstile forms like <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._define-typed-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-typed-syntax</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._~e2~87~90))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&#8656;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This and the following ids throw a syntax error when used in an invalid context.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._~e2~87~92))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&#8658;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._~e2~89~ab))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&#8811;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._~e2~89~bb))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&#8827;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/main..rkt)._~e2~8a~a2))"></a><span title="Provided from: turnstile | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&#8866;</a></span></span></p></blockquote></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;turnstile/scribblings/turnstile.scrbl&quot;)" x-source-pkg="turnstile-doc" x-part-tag="&quot;no-unicode&quot;">2.17<tt>&nbsp;</tt><a name="(part._no-unicode)"></a><a name="(mod-path._turnstile/no-unicode)"></a>Non-Unicode Identifiers</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._turnstile%2Fno-unicode%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">turnstile/no-unicode</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/turnstile-lib" title="Install this package using `raco pkg install turnstile-lib`"><span class="stt">turnstile-lib</span></a></span></td></tr></table></p><p>The following identifiers are non-unicode aliases to other Turnstile ids.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/no-unicode..rkt)._~3c~3d))"></a><span title="Provided from: turnstile/no-unicode | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3c~3d%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&lt;=</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Alias for <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~90%29%29" class="RktStxLink" data-pltdoc="x">&#8656;</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/no-unicode..rkt)._~3d~3e))"></a><span title="Provided from: turnstile/no-unicode | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3d~3e%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">=&gt;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Alias for <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~87~92%29%29" class="RktStxLink" data-pltdoc="x">&#8658;</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/no-unicode..rkt)._~3e~3e))"></a><span title="Provided from: turnstile/no-unicode | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3e~3e%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&gt;&gt;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Alias for <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~ab%29%29" class="RktStxLink" data-pltdoc="x">&#8811;</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/no-unicode..rkt)._~3e~3e~3e))"></a><span title="Provided from: turnstile/no-unicode | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._~3e~3e~3e%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&gt;&gt;&gt;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Alias for <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~89~bb%29%29" class="RktStxLink" data-pltdoc="x">&#8827;</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._turnstile/no-unicode..rkt)._/-))"></a><span title="Provided from: turnstile/no-unicode | Package: turnstile-lib"><span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fno-unicode..rkt%29._%2F-%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">/-</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Alias for <span class="RktSym"><a href="#%28form._%28%28lib._turnstile%2Fmain..rkt%29._~e2~8a~a2%29%29" class="RktStxLink" data-pltdoc="x">&#8866;</a></span>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="The_Turnstile_Guide.html" title="backward to &quot;1 The Turnstile Guide&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;The turnstile language&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Rackunit-Style_Test_Forms_for_Turnstile.html" title="forward to &quot;3 Rackunit-Style Test Forms for Turnstile&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/turnstile/The_Turnstile_Reference.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:46 GMT -->
</html>