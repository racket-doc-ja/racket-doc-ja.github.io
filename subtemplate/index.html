<!DOCTYPE html>
<html>
<!-- Mirrored from docs.racket-lang.org/subtemplate/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 02:54:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Subtemplate</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="footnote.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript">
(function() {
  document.write('<link rel="stylesheet" href="katex/katex.min.css" />');
})();(function() {document.write('<scr' + 'ipt type="text/javascript" src="katex/katex.min.js"></scr' + 'ipt>');})();(function(f) {
  // A "simple" onLoad function
  if (window.document.readyState == "complete") {
    f();
  } else if (window.document.addEventListener) {
    window.document.addEventListener("DOMContentLoaded", f, false);
  } else if (window.attachEvent) {
    window.attachEvent("onreadystatechange", function() {
      if (window.document.readyState == "complete") {
        f();
      }
    });
  } else {
    var oldLoad = window.onload;
    if (typeof(oldLoad) == "function") {
      window.onload = function() {
        try {
          oldLoad();
        } finally {
          f();
        }
      };
    } else {
      window.onload = f;
    }
  }
})(function() {
  // This is an ugly way to change the doctype, in case the scribble document
  // did not use (with-html5).
  if (!(document.doctype && document.doctype.publicId == '')) {
    if (console && console.log) {
      console.log("Re-wrote the document to use the HTML5 doctype.\n"
                  + "  Consider using the following declaration:\n"
                  + "      @title[#:style (with-html5 manual-doc-style)]{â€¦}");
    }
    var wholeDoc = '<!doctype HTML>\n' + document.documentElement.outerHTML;
    document.open();
    document.clear();
    document.write(wholeDoc);
  }
  var inlineElements = document.getElementsByClassName("texMathInline");
  for (var i = 0; i < inlineElements.length; i++) {
    var e = inlineElements[i];
    katex.render(e.textContent, e, { displayMode:false, throwOnError:false });
  }
  var displayElements = document.getElementsByClassName("texMathDisplay");
  for (var i = 0; i < displayElements.length; i++) {
    var e = displayElements[i];
    katex.render(e.textContent, e, { displayMode:true, throwOnError:false });
  }
});
</script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Subtemplate</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Examples%29" class="tocviewlink" data-pltdoc="x">Examples</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.The_main_subtemplate_module%29" class="tocviewlink" data-pltdoc="x">The main <span class="RktModLink"><span class="RktSym">subtemplate</span></span> module</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Overriding_the_default___~e2~80~a6_and___~e2~80~a6%29" class="tocviewlink" data-pltdoc="x">Overriding the default <span class="RktRdr">#'</span><span class="RktSym"><span class="RktStxLink">&#8230;</span></span> and <span class="RktRdr">#`</span><span class="RktSym"><span class="RktStxLink">&#8230;</span></span></a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Limitations%29" class="tocviewlink" data-pltdoc="x">Limitations</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Lightweight_.Subtemplate%29" class="tocviewlink" data-pltdoc="x">Lightweight Subtemplate</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Subtemplate</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Examples%29" class="tocsubseclink" data-pltdoc="x">Examples</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Automatically_deriving_identifiers_using_subscripts%29" class="tocsubseclink" data-pltdoc="x">Automatically deriving identifiers using subscripts</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Automatically_extracting_plain_values_from_syntax_objects%29" class="tocsubseclink" data-pltdoc="x">Automatically extracting plain values from syntax objects</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.Function_application_enhancements%29" class="tocsubseclink" data-pltdoc="x">Function application enhancements</a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._.Ellipsis-preserving_unsyntax%29" class="tocsubseclink" data-pltdoc="x">Ellipsis-<wbr></wbr>preserving <span class="RktSym"><span class="RktStxLink">unsyntax</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.5<tt>&nbsp;</tt></span><a href="#%28part._.Splicing_and_conditional_template_elements%29" class="tocsubseclink" data-pltdoc="x">Splicing and conditional template elements</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.The_main_subtemplate_module%29" class="tocsubseclink" data-pltdoc="x">The main <span class="RktModLink"><span class="RktSym">subtemplate</span></span> module</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Modules_re-provided_by_subtemplate%29" class="tocsubseclink" data-pltdoc="x">Modules re-<wbr></wbr>provided by <span class="RktModLink"><span class="RktSym">subtemplate</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.New_and_overridden_bindings_provided_by_subtemplate%29" class="tocsubseclink" data-pltdoc="x">New and overridden bindings provided by <span class="RktModLink"><span class="RktSym">subtemplate</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">subtemplate</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasisubtemplate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">quasisubtemplate</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">template</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasitemplate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">quasitemplate</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">?@</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">?@@</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">??</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">?if</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">?attr</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">?cond</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">begin</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">let</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25intdef-begin%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">#%intdef-<wbr></wbr>begin</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25app%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">#%app</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25top%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">#%top</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&#8230;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%2B%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">&#8230;+</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Overriding_the_default___~e2~80~a6_and___~e2~80~a6%29" class="tocsubseclink" data-pltdoc="x">Overriding the default <span class="RktRdr">#'</span><span class="RktSym"><span class="RktStxLink">&#8230;</span></span> and <span class="RktRdr">#`</span><span class="RktSym"><span class="RktStxLink">&#8230;</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Limitations%29" class="tocsubseclink" data-pltdoc="x">Limitations</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.Omitted_elements_in_attributes__via__optional_%29" class="tocsubseclink" data-pltdoc="x">Omitted elements in attributes (via <span class="RktSym"><span class="RktStxLink">~optional</span></span>)</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Lightweight_.Subtemplate%29" class="tocsubseclink" data-pltdoc="x">Lightweight Subtemplate</a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">subtemplate</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">subtemplate</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._quasisubtemplate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">quasisubtemplate</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Subtemplate)"></a>Subtemplate</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Georges Dup&#233;ron &lt;<a href="mailto:georges.duperon@gmail.com">georges.duperon@gmail.com</a>&gt;</p></span></div><p>This library should be considered experimental. Although most of the syntax
should work in the same way in future versions, the behaviour of some corner
cases may change, as I try to find the best semantics.</p><p>Also, this library requires some patched versions of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> and
<span class="RktSym">syntax-case</span>, as these do not offer the hooks needed to implement
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span>. Unfortunately, as the official implementations of
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fcase..rkt%2529._syntax-case%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-case</a></span> evolve, compatibility issues
may arise.</p><p>If you desire to use this library, please drop me an e-mail (my address is
below the title), so that I can keep you informed of upcoming changes, see if
these are likely to cause problems in your code.</p><p>Finally, If the maintenance burden is too high, I might drop the compatibility
with <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a> and <span class="RktSym">syntax-case</span>.</p><h3 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Examples&quot;">1<tt>&nbsp;</tt><a name="(part._.Examples)"></a>Examples</h3><p>This section contains a few (somewhat artificial) examples on how to use
<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>. Most of the examples here would be more wisely
written as functions, and <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a> would otherwise be
sufficient with slightly more verbose code. The tools offered by
<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> are more useful for complex macros, where
boilerplate should be elided as much as possible to leave the true structure
of the macro visible.</p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Automatically_deriving_identifiers_using_subscripts&quot;">1.1<tt>&nbsp;</tt><a name="(part._.Automatically_deriving_identifiers_using_subscripts)"></a>Automatically deriving identifiers using subscripts</h4><p>When an identifier <span class="RktSym">y&#7522;</span> is encountered in a template, it is
automatically derived from the corresponding <span class="RktSym">x&#7522;</span>. In the following
example, <span class="RktSym">temp&#7522;</span> is implicitly bound to
<span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a/temp</span><span class="stt"> </span><span class="RktSym">b/temp</span><span class="stt"> </span><span class="RktSym">c/temp</span><span class="RktPn">)</span>, without the need to call
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._generate-temporaries%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">generate-temporaries</a></span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">v&#7522;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">temp&#7522;</span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:2:0 ((a/temp a) (b/temp b) (c/temp c))&gt;</span></p></td></tr></table></blockquote></div></p><p>It is common in macros to save an expression in a temporary variable to avoid
executing it twice. The following example builds on the previous one to do so,
without the need to call <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._generate-temporaries%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">generate-temporaries</a></span>. Note that the
temporary identifiers generated this way are hygienic: there will be no name
clashes with identifiers from the user, nor with identifiers directly created
by your macro.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/require</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">subtract-in</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parser%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">temp&#7522;</span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=when_unless.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._unless%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unless</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">temp&#7522;</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Warning: ~a should be an integer, got ~a.\n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">v&#7522;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">temp&#7522;</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">temp&#7522;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"executed once"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">executed once</span></p></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">0.14</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">Warning: (+ 3 0.14) should be an integer, got 3.14.</span></p></td></tr><tr><td><p><span class="RktRes">7.140000000000001</span></p></td></tr></table></blockquote></div></p><p>If you run out of unicode subscripts, characters following the last <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span>
are treated as the subscript:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">v_foo</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">temp_foo</span><span class="hspace">&nbsp;</span><span class="RktSym">v_foo</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:2:0 ((a/temp a) (b/temp b) (c/temp c))&gt;</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Automatically_extracting_plain_values_from_syntax_objects&quot;">1.2<tt>&nbsp;</tt><a name="(part._.Automatically_extracting_plain_values_from_syntax_objects)"></a>Automatically extracting plain values from syntax objects</h4><p>In most cases, you do not have to call <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span> anymore, as
<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> implicitly extracts the value of syntax pattern
variables. Do not rely too much on this feature, though, as future versions
may require explicit escapement with a concise shorthand, like
<span class="RktRdr">,</span><span class="RktSym">pattern-variable</span> or <span class="RktRdr">#,</span><span class="RktSym">pattern-variable</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/require</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">subtract-in</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">nested</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parser%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">No need for syntax-e</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nested</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._sub1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sub1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">No need for syntax-e</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">nested</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((((((a b c))))))</span></p></td></tr></table></blockquote></div></p><p>The implicit <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span> also works on pattern variables which have
a non-zero ellipsis depth:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"foo"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"bar"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"foo"</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Function_application_enhancements&quot;">1.3<tt>&nbsp;</tt><a name="(part._.Function_application_enhancements)"></a>Function application enhancements</h4><p>Why bother ourselves with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span>? Let&rsquo;s just write what we want:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"foo"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"bar"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"foo"</span></p></td></tr></table></blockquote></div></p><p>Ellipses work as you expect when used in expressions:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fcase..rkt%2529._define%252Fwith-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/with-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x&#8342;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">21</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">average</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252F%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">/</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">average</span></td></tr><tr><td><p><span class="RktRes">7/2</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._max%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">max</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._min%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">min</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x&#8342;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3 4 5 6 a b c)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x&#8342;</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((2 3 4 5) (6 7) "a" "b" "c")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x&#8342;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1 2 3 4) (5 6) a b c)</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Automatically derived symbols:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1/y 2/y 3/y 4/y) (5/y 6/y))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y&#8342;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a/y b/y c/y)</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Same ids as the y&#8342; ones above:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">y&#8342;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:13:0 (a/y b/y c/y)&gt;</span></p></td></tr></table></blockquote></div></p><p>Here is another trick with ellipses: <span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v&#7522;</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span> should normally call
<span class="RktVal">1</span> with arguments <span class="RktVal">2</span><span class="stt"> </span><span class="RktVal">3</span><span class="stt"> </span><span class="RktVal">4</span>, and <span class="RktVal">5</span> with the argument
<span class="RktVal">6</span>, and then call the result of the first with the result of the
second as an argument. Since in most cases this is not what you want, the
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span> function is implicitly called when the second element of an
application form is an ellipsis (do not abuse it, the semantics are a bit at
odds with the usual ones in Racket and might be surprising for people reading
your code):</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1 2 3 4) (5 6))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3 4 5 6)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktVal">1000</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1001 1002 1003 1004) (1005 1006))</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Automatically derived symbols:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">y&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((1/y 2/y 3/y 4/y) (5/y 6/y))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">y&#7522;&#11388;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1/y 2/y 3/y 4/y 5/y 6/y)</span></p></td></tr></table></blockquote></div></p><p>Ellipses surprisingly also work on <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span>,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fcase..rkt%2529._define%252Fwith-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/with-syntax</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span>:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"c"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y:id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3esymbol%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;symbol</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">w</span></td></tr><tr><td><p><span class="RktRes">'((2 3 4 5) (6 7))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;syntax:eval:6:0 (a b c)&gt;</span></p></td></tr></table></blockquote></div></p><p>Since the trick is pulled off by a custom <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span> form, provided by
<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, it will not work as expected at the REPL unless
you explicitly wrap the define and ellipses with a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span> form, as
done above. Within a module, however, this should work fine.</p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Ellipsis-preserving_unsyntax&quot;">1.4<tt>&nbsp;</tt><a name="(part._.Ellipsis-preserving_unsyntax)"></a>Ellipsis-preserving <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span></h4><p>Racket&rsquo;s <span class="RktSym">syntax</span> and <span class="RktSym">template</span> from
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a> both forget the current
ellipsis position within an <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span> form. This makes it difficult to
perform simple changes to each element of a pattern variable under ellipses.
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a> provides template
metafunctions, but they are unpractical for one-off small-scale alterations.
With <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span>, <span class="RktRdr">#,</span><span class="RktSym">e</span> and <span class="RktRdr">#,@</span><span class="RktSym">e</span> both preserve the
current ellipsis position, meaning that uses of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax</a></span>,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxLink" data-pltdoc="x">template</a></span> and so on within <span class="RktSym">e</span> will use
the currently-focused portion of pattern variables under ellipses.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/list</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo 10 11)</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Quote, escape, re-quote, re-escape, re-quote:</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-e</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(foo (4 2 3 4 5) (2 6 7))</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Concise version of the above:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (4 2 3 4 5) (2 6 7))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo 4 2)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo 4 2)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (2 3 4 5) (6 7))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo 2 3 4 5 6 7)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,@</span><span class="RktPn">(</span><span class="RktSym">range</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo 0 0 1 0 1 2 0 1 2 3 0 1 2 3 4 0 1 2 3 4 5)</span></p></td></tr></table></blockquote></div></p><p>It is still possible to get the traditional full-escape behaviour with
<span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktSym">e</span> instead of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span>, and <span class="RktRdr">#,@</span><span class="RktRdr">,</span><span class="RktSym">e</span> or
<span class="RktRdr">#,</span><span class="RktRdr">,@</span><span class="RktSym">e</span> instead of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax-splicing%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax-splicing</a></span>:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/list</span><span class="hspace">&nbsp;</span><span class="RktSym">syntax/stx</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">100</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">x</span></td></tr><tr><td><p><span class="RktRes">'(10 100)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">v</span></td></tr><tr><td><p><span class="RktRes">'((1 2 3 4) (5 6))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (10 (10 100)) (100 (10 100)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym">stx-map</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-e</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (10 (11 101)) (100 (11 101)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (10 ((2 3 4 5) (6 7))) (100 ((2 3 4 5) (6 7))))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (10 ((2 3 4 5) (6 7))) (100 ((2 3 4 5) (6 7))))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym">stx-map</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(foo (10 (4 2)) (100 (4 2)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (10 (4 2)) (100 (4 2)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo ((1 2 3 4) (4 2)) ((5 6) (4 2)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,@</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (10 4 2) (100 4 2))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#,@</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym">range</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (10 0 1) (100 0 1))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sd</span><span class="hspace">&nbsp;</span><span class="RktRdr">#`</span><span class="RktPn">(</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#,</span><span class="RktRdr">,@</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">range</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(foo (1 2 3 4 (0 1 2 3) (0 1)) (5 6 (0 1 2 3) (0 1)))</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Splicing_and_conditional_template_elements&quot;">1.5<tt>&nbsp;</tt><a name="(part._.Splicing_and_conditional_template_elements)"></a>Splicing and conditional template elements</h4><p>The splicing form <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span> as well as <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span> should be familiar to
users of <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a>. The
<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> library provides overridden versions which also
work outside of syntax templates, as well as a few extras:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k:keyword</span><span class="hspace">&nbsp;</span><span class="RktSym">b:boolean</span><span class="hspace">&nbsp;</span><span class="RktSym">i:nat</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">s:str</span><span class="RktPn">}</span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:a-keyword</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"foo"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(10 3 11)</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(1 2 3 4 3 5 6)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">z</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(x y y y c 1 2 3 4 c 5 6 z)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="hspace">&nbsp;</span><span class="RktVal">"string"</span><span class="hspace">&nbsp;</span><span class="RktVal">"list of numbers"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("list of numbers" "string" "list of numbers")</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxLink" data-pltdoc="x">?cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">there-was-a-keyword</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">there-was-a-boolean</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(there-was-a-keyword 1 2 3 4 there-was-a-keyword 5 6)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxLink" data-pltdoc="x">?attr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxLink" data-pltdoc="x">?attr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxLink" data-pltdoc="x">?attr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#t #f #f)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">none</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#:a-keyword</span></p></td></tr></table></blockquote></div></p><p>The <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span> splicing form performs two levels of unwrapping (it can be
understood as a way to perform <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="stt"> </span><span class="RktSym">elements</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="RktPn">)</span>). The
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span><span class="stt"> </span><span class="RktVar">condition</span><span class="stt"> </span><span class="RktVar">true</span><span class="stt"> </span><span class="RktVar">false</span><span class="RktPn">)</span> is a generalisation of <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span>,
which accepts a <span class="RktVar">condition</span> template, and produces the
<span class="RktVar">true</span>-template if there are no missing elements in the
<span class="RktVar">condition</span> (in the sense of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span>), and produces
<span class="RktVar">false</span> otherwise. <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxLink" data-pltdoc="x">?cond</a></span> is a shorthand for a sequence of
nested <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span> forms, and <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxLink" data-pltdoc="x">?attr</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span> returns a boolean indicating
the presence of the attribute (it is a shorthand for <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktVal">#t</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span>).
Finally, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span> itself is not limited to two alternatives. When given a
single alternative, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span> implicitly uses <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="RktPn">)</span>, i.e. the empty
splice, as the second alternative (this is the behaviour of the version from
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a>). When two or more
alternatives are specified, each one is tried in turn, and the last one is
used as a fallback (i.e. an empty splice is <span class="emph">not</span> implicitly added as a
last alternative when there are already two or more alternatives).</p><p>The <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span> form is useful when one would want to write a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span>
form, where the triggering condition should not appear in the left-hand-side
of <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span>, for example when changing the generated code based on the
presence of a keyword passed to the macro:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/require</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">subtract-in</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">my-sort</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parser%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">reverse-kw</span><span class="hspace">&nbsp;</span><span class="RktPn">#:reverse</span><span class="RktPn">}</span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._sort%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sort</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">reverse-kw</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">my-sort</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">my-sort</span><span class="hspace">&nbsp;</span><span class="RktPn">#:reverse</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(3 2 1)</span></p></td></tr></table></blockquote></div></p><p>Note that <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span> work on regular lists (but ellipses do
not), and they can splice multiple arguments into the surrounding function
call. One last application trick is the dotted tail argument, used as a
shorthand for <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span>:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">subtemplate/override</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/function</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(a ((1 2 3) (4 5 6)) c)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">28</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(a 1 2 3 4 5 6 c)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">l</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">28</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">l</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(a 1 2 3 4 5 6 c)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">l</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(5 7 9)</span></p></td></tr></table></blockquote></div></p><h3 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;The_main_subtemplate_module&quot;">2<tt>&nbsp;</tt><a name="(part._.The_main_subtemplate_module)"></a><a name="(mod-path._subtemplate)"></a>The main <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> module</h3><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/subtemplate" title="Install this package using `raco pkg install subtemplate`"><span class="stt">subtemplate</span></a></span></td></tr></table></div><div class="SIntrapara">The <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> module provides <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span>, an
alternative to <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a>&rsquo;s <span class="RktSym">template</span>, which
supports several convenience features:</div><div class="SIntrapara"><ul><li><p>When an identifier <span class="RktSym">y&#7522;</span> is encountered in a template, it is
automatically defined as a pattern variable containing temporary identifiers.</p><p>This avoids the need to manually call <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._generate-temporaries%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">generate-temporaries</a></span>.</p><p>The generated temporary identifiers will be based on a <span class="RktSym">x&#7522;</span> pattern
variable with the same subscript as <span class="RktSym">y&#7522;</span>, and <span class="RktSym">y&#7522;</span> will be
nested at the same ellipsis depth as <span class="RktSym">x&#7522;</span>.</p><p>The identifiers <span class="RktSym">x&#7522;</span> and <span class="RktSym">y&#7522;</span> must end wit the same subscript,
which must be a sequence of unicode subscript characters picked among
<span class="stt">&#8336; &#8337; &#8341; &#7522; &#11388; &#8342; &#8343; &#8344; &#8345; &#8338; &#8346; &#7523; &#8347; &#8348; &#7524; &#7525; &#8339; &#7526; &#7527; &#7528; &#7529; &#7530;</span>. Alternatively, the
subscript may be specified with an underscore followed by any characters
other than an underscore. The two notations are equivalent, in the sense that
<span class="RktSym">y&#7526;</span> and <span class="RktSym">y_&#946;</span> are interpreted in the same way, and if both
appear within a template, they will use the same sequence of temporary
identifiers generated from an <span class="RktSym">x&#7526;</span> or <span class="RktSym">x_&#946;</span>.</p></li><li><p>The value of pattern variables is automatically extracted when the
variable does not appear in a syntax template. Note that since the syntax
object is transformed into a plain datum, source locations and lexical
contexts are lost. This is a trade-off between better error messages, which
make sure that source locations and lexical context are not lost by accident
(no automatic <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-e</a></span>), and more concise code (with automatic
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-e</a></span>). It is possible that a future version may require explicit
syntax-e, possibly via a concise shorthand like <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._unquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unquote</a></span> (<span class="stt">,</span>) or
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span> (<span class="stt">#,</span>), if this feature turns out to be too dangerous in
practice.</p></li><li><p><div class="SIntrapara">Ellipses work outside of syntax templates, and can be used after
definitions and expressions.
</div><div class="SIntrapara"><ul><li><p>The result of an expression under <span class="texMathInline">n</span> ellipses is a
<span class="texMathInline">\text{nested}^n</span> list, where the expression is evaluated for
each value of the pattern variables located within. In other words,
<span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> should produce a value similar to
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span><span class="stt"> </span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span>. However, it is possible to actually
manipulate the value, e.g. by writing <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span>. It is possible
to write <span class="texMathInline">m</span> ellipses in a row (which has the effect of flattening
<span class="texMathInline">m - 1</span> levels in the result list). It is also possible to nest the use
of these ellipses, e.g. with <span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span>, which keeps the
structure of the nested lists in the result.</p></li><li><p>When a definition form (<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fcase..rkt%2529._define%252Fwith-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/with-syntax</a></span> or
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span> for now) is followed by <span class="texMathInline">n</span> ellipses, then
the defined identifier is a <span class="texMathInline">\text{nested}^n</span> list, or a syntax pattern
variable with an ellipsis depth of <span class="texMathInline">n</span>. The expression is evaluated for
each value of the template variables it contains. Note that the structure
of the nested lists is not flattened, despite the fact that the ellipses
are written one after another. This is because it is usually the desired
outcome, and nesting parentheses around the definition form would produce
rather unreadable code.</p></li><li><p>These ellipses can also be used &ldquo;inline&rdquo; within function calls
(<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> overrides <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25app%29%29" class="RktStxLink" data-pltdoc="x">#%app</a></span> to achieve this). For
example: <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252F%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">/</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span> would compute the average of
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span><span class="stt"> </span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></p></li><li><p>Subscripted identifiers should also work in expressions
(<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> overrides <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25top%29%29" class="RktStxLink" data-pltdoc="x">#%top</a></span> to achieve this),
although this seems less useful, as the temporary identifiers loose their
lexical context information in that way.</p></li><li><p>The splicing forms <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span>, as well as
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxLink" data-pltdoc="x">?cond</a></span> work within expressions, and
can be used to splice values into the argument list when calling a
function. For example, <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktVal">1</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="stt"> </span><span class="RktSym">l</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">)</span> would splice the values of
the list <span class="RktSym">l</span> into the argument list, effectively calling
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktVal">1</span><span class="stt"> </span><span class="RktVal">97</span><span class="stt"> </span><span class="RktVal">98</span><span class="stt"> </span><span class="RktVal">99</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">)</span> if <span class="RktSym">l</span> was equal to
<span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">97</span><span class="stt"> </span><span class="RktVal">98</span><span class="stt"> </span><span class="RktVal">99</span><span class="RktPn">)</span>. Additionnally, it is possible to append a list
at the end of the argument list, with the syntax <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktVal">1</span><span class="stt"> </span><span class="RktVal">2</span><span class="stt"> </span><span class="RktPn">. </span><span class="RktSym">l</span><span class="RktPn">)</span>.</p></li><li><p>It is possible to create a syntax object based on one of the iterated
pattern variables within the expression-ellipses, for example using
<span class="RktPn">(</span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>.</p></li></ul></div></p></li><li><p>Within a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasisubtemplate%29%29" class="RktStxLink" data-pltdoc="x">quasisubtemplate</a></span>, it is
possible to use <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax-splicing%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax-splicing</a></span> to escape
from the template. Within the escaped expression, the ellipsis depth of the
template is conserved, making it possible to write
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktRdr">#,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span>, for example.</p><p>The usual behaviour, which resets the ellipsis count to 0, can be obtained
with <span class="RktRdr">#,</span><span class="RktRdr">,</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._expr%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">expr</a></span> (that is,
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._unquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unquote</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._expr%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">expr</a></span><span class="RktPn">)</span><span class="RktPn">)</span>) for an
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span>-like escape. An <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax-splicing%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax-splicing</a></span>-style escape can
be obtained with <span class="RktRdr">#,</span><span class="RktRdr">,@</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._expr%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">expr</a></span> or <span class="RktRdr">#,@</span><span class="RktRdr">,</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._expr%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">expr</a></span> (that is,
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._unquote-splicing%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unquote-splicing</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._expr%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">expr</a></span><span class="RktPn">)</span><span class="RktPn">)</span> or
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax-splicing%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax-splicing</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._unquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unquote</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._expr%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">expr</a></span><span class="RktPn">)</span><span class="RktPn">)</span>).</p></li><li><p>Several utilities in the spirit of <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span> are
provided, namely <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxLink" data-pltdoc="x">?attr</a></span> <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxLink" data-pltdoc="x">?cond</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span>.</p></li><li><p>All features (subscripted identifiers, dotted expressions and
definitions, and the ellipsis-preserving <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span>) should work well
with omitted elements in attributes, as created by
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~or</a></span> in <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span>.</p></li></ul></div></p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Modules_re-provided_by_subtemplate&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Modules_re-provided_by_subtemplate)"></a>Modules re-provided by <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a></h4><p>The <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> library needs some cooperation from
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fcase..rkt%2529._syntax-case%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-case</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> and similar forms. For this
reason, some patched versions are defined in the <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info</span></a>
library. <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> cannot work properly if the right modules are
loaded. To make it easier to use <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, it re-provides
the modules that need to be loaded for it to function properly.</p><p>The <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> module re-provides
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fparse%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/parse</span></a>, <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fcase%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/case</span></a> and
the parts of <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=syntax-util.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/syntax</span></a> which are not overridden by
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fcase%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/case</span></a>.</p><p>The <font class="badlink"><span class="RktModLink"><span class="RktSym">subtemplate/private/override</span></span></font> module also re-provides
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/parse/experimental/template</span></a>, but without
<span class="RktSym">template</span>, <span class="RktSym">quasitemplate</span>, <span class="RktSym">??</span> and <span class="RktSym">?@</span>, which are remapped
to their equivalents from this library, and without <span class="RktSym">template/loc</span>] and
<span class="RktSym">quasitemplate/loc</span>, which do not have an equivalent yet.</p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;New_and_overridden_bindings_provided_by_subtemplate&quot;">2.2<tt>&nbsp;</tt><a name="(part._.New_and_overridden_bindings_provided_by_subtemplate)"></a>New and overridden bindings provided by <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a></h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._subtemplate))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">subtemplate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">subtemplate</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="hspace">&nbsp;</span><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prop</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym">template</span> from <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a>,
but automatically derives identifiers for any <span class="RktSym">y&#7522;</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span> which is not bound
as a syntax pattern variable, based on a corresponding <span class="RktSym">x&#7522;</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span> which is
bound as a syntax pattern variable. Additionally, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span>
supports a number of features described in
<a href="#%28part._.The_main_subtemplate_module%29" data-pltdoc="x">The main <span class="RktModLink"><span class="RktSym">subtemplate</span></span> module</a>,
which are not part of <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._quasisubtemplate))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasisubtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">quasisubtemplate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasisubtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">quasisubtemplate</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="hspace">&nbsp;</span><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prop</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym">quasitemplate</span> from
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a>, but automatically derives
identifiers for any <span class="RktSym">y&#7522;</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span> which is not bound as a syntax pattern
variable, based on a corresponding <span class="RktSym">x&#7522;</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span> which is bound as a syntax
pattern variable, in the same way as <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span>. Additionally,
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasisubtemplate%29%29" class="RktStxLink" data-pltdoc="x">quasisubtemplate</a></span> supports a number of features described in
<a href="#%28part._.The_main_subtemplate_module%29" data-pltdoc="x">The main <span class="RktModLink"><span class="RktSym">subtemplate</span></span> module</a>,
which are not part of <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._template))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">template</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">template</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="hspace">&nbsp;</span><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prop</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span>, but does not automatically generate pattern
variables based on their subscript. The other features still work
(ellipsis-preserving escapes with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span>, support for <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span>,
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxLink" data-pltdoc="x">?attr</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxLink" data-pltdoc="x">?cond</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._quasitemplate))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasitemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">quasitemplate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasitemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">quasitemplate</a></span><span class="hspace">&nbsp;</span><span class="RktVar">tmpl</span><span class="hspace">&nbsp;</span><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prop</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasisubtemplate%29%29" class="RktStxLink" data-pltdoc="x">quasisubtemplate</a></span>, but does not automatically generate pattern
variables based on their subscript. The other features still work
(ellipsis-preserving escapes with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span>, support for <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxLink" data-pltdoc="x">?@@</a></span>,
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxLink" data-pltdoc="x">?attr</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxLink" data-pltdoc="x">?cond</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~3f~40))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">?@</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Splices the <span class="RktVar">expr</span> into the surrounding form
(which must be a function application). If the surrounding form is a
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span>, or <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25intdef-begin%29%29" class="RktStxLink" data-pltdoc="x">#%intdef-begin</a></span>, then the the
splicing lists are not processed, but may be processed later by using the
splicing-list value as an argument to a function.</div></p><p><div class="SIntrapara">Also works in <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxLink" data-pltdoc="x">template</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and their derivatives.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~3f~40~40))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40~40%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">?@@</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Appends all the lists contained within <span class="RktVar">expr</span>,
and splices the resulting list into the surrounding form. If the
surrounding form is a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span>, or
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25intdef-begin%29%29" class="RktStxLink" data-pltdoc="x">#%intdef-begin</a></span>, then the splicing lists are not processed, but may be
processed later by using the splicing-list value as an argument to a
function.</div></p><p><div class="SIntrapara">Also works in <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxLink" data-pltdoc="x">template</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and their derivatives.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~3f~3f))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">??</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">alt</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">??</a></span><span class="hspace">&nbsp;</span><span class="RktVar">alt</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="hspace">&nbsp;</span><span class="RktVar">else</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Executes <span class="RktVar">alt</span>, if none of the template variables within is omitted
(i.e. bound to <span class="RktVal">#false</span> for the current ellipsis iteration). Otherwise,
the next <span class="RktVar">alt</span> is considered. If every <span class="RktVar">alt</span> contains omitted
template variables, then <span class="RktVar">else</span> is excuted. If only one <span class="RktVar">alt</span> is
specified, without an <span class="RktVar">else</span>, then <span class="RktVar">else</span> defaults to
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="RktPn">)</span>, i.e. the empty splice.</div></p><p>Also works in <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxLink" data-pltdoc="x">template</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and their derivatives.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~3fif))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">?if</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">alt</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">?if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">alt</span><span class="hspace">&nbsp;</span><span class="RktVar">else</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Generalisation of <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~3f%29%29" class="RktStxLink" data-pltdoc="x">??</a></span>. If none of the template variables within
<span class="RktVar">condition</span> is omitted (i.e. bound to <span class="RktVal">#false</span> for the current
ellipsis iteration), then <span class="RktVar">alt</span> is executed. Otherwise, <span class="RktVar">else</span>
is executed.</div></p><p>Also works in <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxLink" data-pltdoc="x">template</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and their derivatives.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~3fattr))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fattr%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">?attr</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Shorthand for <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span><span class="stt"> </span><span class="RktVar">condition</span><span class="stt"> </span><span class="RktVal">#t</span><span class="stt"> </span><span class="RktVal">#f</span></div></p><p>Also works in <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxLink" data-pltdoc="x">template</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and their derivatives.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~3fcond))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">?cond</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">alt</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fcond%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">?cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">alt</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktVar">alt</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to nested uses of <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3fif%29%29" class="RktStxLink" data-pltdoc="x">?if</a></span>. If no <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span> clause is
supplied, then <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span><span class="RktPn">)</span>, i.e. the empty splice, is used instead.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._begin))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">begin</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Overridden version of <span class="RktSym">begin</span>. Supports ellipses after definitions
(using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fcase..rkt%2529._define%252Fwith-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/with-syntax</a></span> or
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span>). Supports ellipses after expressions, in which
case the results are grouped into a splicing list, which makes it possible to
write <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span> and obtain the same result as with
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>.</div></p><p class="SHistory">Changed in version 1.2 of package <span class="stt">subtemplate</span>: Added support <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span>, fixed documentation which
incorrectly claimed support for <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-syntax</a></span> instead of
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fcase..rkt%2529._define%252Fwith-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define/with-syntax</a></span></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._let))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">let</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">var</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">var</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Overridden version of <span class="RktSym">let</span>. Supports ellipses in the <span class="RktVar">body</span>
after definitions (using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-syntax</a></span>). Supports
ellipses after expressions both in the <span class="RktVar">body</span> and in the <span class="RktVar">val</span>.
In both cases, the results are grouped into a splicing list, which makes it
possible to write <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">vs</span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">vs</span><span class="RktPn">)</span><span class="RktPn">)</span> and obtain the same
result as with <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~23~25intdef-begin))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25intdef-begin%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">#%intdef-begin</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span> from <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, but assumes
that it appears directly within the body of a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span> or similar form.</div></p><p>Third-party macros can cooperate with <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, allowing
its features to be used where a sequence of statements is expected. To achieve
that, the macro would need to detect with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxcmp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._identifier-binding%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier-binding</a></span> and
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxtrans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-local-introduce%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax-local-introduce</a></span> whether <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25intdef-begin%29%29" class="RktStxLink" data-pltdoc="x">#%intdef-begin</a></span> is bound at the
macro&rsquo;s use-site. If this is the case, then the macro could use
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25intdef-begin%29%29" class="RktStxLink" data-pltdoc="x">#%intdef-begin</a></span> instead of <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~23~25app))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25app%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">#%app</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">rest</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25app%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">#%app</a></span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="hspace">&nbsp;</span><span class="RktVar">ooo</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">rest</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Overridden version of <span class="RktSym">#%app</span>, which supports ellipses in the argument
list. When one of the arguments contains a splicing list, the list&rsquo;s values
are spliced into the argument list.</div></p><p>If the first argument is an ellipsis, the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span> function is
implicitly used, and the first element following <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25app%29%29" class="RktStxLink" data-pltdoc="x">#%app</a></span> is interpreted
as an argument under ellipses.</p><p>A variable appearing in tail position after a dot is appended to the argument
list, and splicing-lists within are handled.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/main..rkt)._~23~25top))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~23~25top%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">#%top</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">var</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Overridden version of <span class="RktSym">#%top</span>, which is used to
automatically derive temporary identifiers in expressions. When an unbound
variable <span class="RktSym">y&#7522;</span> is used and a matching pattern variable <span class="RktSym">x&#7522;</span> with
the same subscript is bound. Note that if a variable <span class="RktSym">y&#7522;</span> is already
bound to some value, no attempt will be made to derive temporary identifiers
for that variable. In contrast, if the identifier <span class="RktSym">y&#7522;</span> appears, quoted
by a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span>, then subtemplate will attempt to derive it even if
it is bound (unless it is bound as a pattern variable).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._subtemplate/main..rkt)._~e2~80~a6))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&#8230;</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Alias for <span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._subtemplate/main..rkt)._~e2~80~a6+))"></a><span title="Provided from: subtemplate | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%2B%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">&#8230;+</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Alias for <span class="RktMeta"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._......%252B%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...+</a></span></div></p><h3 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Overriding_the_default___â€¦_and___â€¦&quot;">3<tt>&nbsp;</tt><a name="(part._.Overriding_the_default___~e2~80~a6_and___~e2~80~a6)"></a><a name="(mod-path._subtemplate/override)"></a>Overriding the default <span class="RktRdr">#'</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span> and <span class="RktRdr">#`</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span></h3><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._subtemplate%2Foverride%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate/override</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/subtemplate" title="Install this package using `raco pkg install subtemplate`"><span class="stt">subtemplate</span></a></span></td></tr></table></div><div class="SIntrapara">The <a href="#%28mod-path._subtemplate%2Foverride%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate/override</span></a> module provides the same bindings as
<a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, but also re-provides <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> as
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax</a></span>, and <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._quasisubtemplate%29%29" class="RktStxLink" data-pltdoc="x">quasisubtemplate</a></span> as <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span>. This
allows <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a> to be used via the reader shorthands
<span class="RktRdr">#'</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span> and <span class="RktRdr">#`</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span>.</div></p><h3 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Limitations&quot;">4<tt>&nbsp;</tt><a name="(part._.Limitations)"></a>Limitations</h3><p>The derived subscripted identifiers have to be syntactically present within
the template. In particular, if a template metafunction generates a part of a
template containing <span class="RktSym">y&#7522;</span>, it will work only if <span class="RktSym">y&#7522;</span> is also
present in the "main" part of the template (possibly as an argument to the
template metafunction, or elsewhere).</p><p>Currently, template metafunctions defined with
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/parse/experimental/template</span></a> are not compatible
with those from <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528mod-path._syntax%252Fparse%252Fexperimental%252Ftemplate%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse/experimental/template</span></a>, and vice
versa. There is a pending pull request to make some level of compatibility
possible, so this problem should hopefully be fixed sometime soon.</p><p>More generally, there might still be some incompatibilities between
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fparse%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/parse</span></a> and <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a> (aside
from the fact that <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> cannot derive <span class="RktSym">y&#7522;</span> from
<span class="RktSym">x&#7522;</span> if <span class="RktSym">x&#7522;</span> was defined by the &ldquo;official&rdquo;
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a>), please report them to
<a href="https://github.com/jsmaniac/subtemplate/issues"><span class="url">https://github.com/jsmaniac/subtemplate/issues</span></a>.</p><p>The code generated by <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> is not optimised, so compile-time
and run-time performance will not be as good as with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax</a></span> or
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._template%29%29" class="RktStxLink" data-pltdoc="x">template</a></span>.</p><p>The expression splicing-lists are not recognised by templates, and it is not
possible for a template to produce a &ldquo;splicing syntax object&rdquo; (instead, an
error is raised if a <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~3f~40%29%29" class="RktStxLink" data-pltdoc="x">?@</a></span> causes a template to return more than one
syntax object).</p><p>Despite the rather extensive test suite, there are likely still some bugs
lurking, please report them to
<a href="https://github.com/jsmaniac/subtemplate/issues"><span class="url">https://github.com/jsmaniac/subtemplate/issues</span></a>.</p><h4 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Omitted_elements_in_attributes__via__optional_&quot;">4.1<tt>&nbsp;</tt><a name="(part._.Omitted_elements_in_attributes__via__optional_)"></a>Omitted elements in attributes (via <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span>)</h4><p>When some values are missing in the ellipses of a template variable, e.g. via
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> combines all the existing bound
variables it can find with the correct subscript, in order to fill in as many
elements of the derived variable. For example, if
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._attribute%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="stt"> </span><span class="RktSym">x&#7522;</span><span class="RktPn">)</span><span class="NoteBox"><span class="NoteContent">For readability reasons, we note <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">x</span><span class="stt"> </span><span class="RktVal">y</span><span class="RktVal">)</span>
instead of <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span> here.</span></span> returns
<span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="stt"> </span><span class="RktVal">#f</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">#f</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">g</span><span class="stt"> </span><span class="RktVal">h</span><span class="stt"> </span><span class="RktVal">i</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktVal">)</span>, and <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._attribute%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="stt"> </span><span class="RktSym">y&#7522;</span><span class="RktPn">)</span> returns
<span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">#f</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">4</span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">6</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">7</span><span class="stt"> </span><span class="RktVal">8</span><span class="stt"> </span><span class="RktVal">9</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktVal">)</span>, then for a derived <span class="RktSym">z&#7522;</span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._~e2~80~a6%29%29" class="RktStxLink" data-pltdoc="x">&#8230;</a></span>,
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528form._%2528%2528lib._stxparse-info%252Fparse..rkt%2529._attribute%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="stt"> </span><span class="RktSym">z&#7522;</span><span class="RktPn">)</span> will contain
<span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a/z</span><span class="stt"> </span><span class="RktVal">x&#7522;79/z</span><span class="stt"> </span><span class="RktVal">x&#7522;80/z</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">4/z</span><span class="stt"> </span><span class="RktVal">5/z</span><span class="stt"> </span><span class="RktVal">6/z</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">g/z</span><span class="stt"> </span><span class="RktVal">h/z</span><span class="stt"> </span><span class="RktVal">i/z</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktVal">)</span>. The last
element is <span class="RktVal">#f</span>, as <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> lacks enough information to
determine how many elements should be present within the list. The
fully-nested <span class="RktVal">#f</span> in <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="stt"> </span><span class="RktVal">#f</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktVal">)</span> are derived, as it is clear at
that point that there is place for only a single omitted element.</p><p>If new pattern variables with the same subscript are introduced after a
generated variable was used, they should have the same structure (i.e. missing
sublists in the same positions). Otherwise, the derived variable generated by
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Fmain..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> would not contain the same elements before and after that
new pattern variable was introduced.</p><h3 x-source-module="(lib &quot;subtemplate/scribblings/subtemplate.scrbl&quot;)" x-source-pkg="subtemplate" x-part-tag="&quot;Lightweight_Subtemplate&quot;">5<tt>&nbsp;</tt><a name="(part._.Lightweight_.Subtemplate)"></a><a name="(mod-path._subtemplate/light)"></a>Lightweight Subtemplate</h3><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._subtemplate%2Flight%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate/light</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/subtemplate" title="Install this package using `raco pkg install subtemplate`"><span class="stt">subtemplate</span></a></span></td></tr></table></div><div class="SIntrapara">This module only provides stripped-down versions of <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._quasisubtemplate%29%29" class="RktStxLink" data-pltdoc="x">quasisubtemplate</a></span>, without overriding <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._syntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax</a></span> and
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span>. Note that some features will not work when using these
versions. Prefer using <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span><span class="RktPn">)</span> instead.</div><div class="SIntrapara">Another limitation is that subscripted identifiers are not searched for
within unquoted parts of the template.</div><div class="SIntrapara">Note that you need to require <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fparse%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/parse</span></a> and
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fcase%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/case</span></a>, otherwise <span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="RktStxLink" data-pltdoc="x">subtemplate</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._quasisubtemplate%29%29" class="RktStxLink" data-pltdoc="x">quasisubtemplate</a></span> will not be able to detect which pattern variables
are bound (and therefore will be unable to know from which <span class="RktSym">x&#7522;</span> an
<span class="RktSym">y&#7522;</span> should be derived.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/light..rkt)._subtemplate))"></a><span title="Provided from: subtemplate/light | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">subtemplate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">subtemplate</a></span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="hspace">&nbsp;</span><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prop</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym">subtemplate</span> from <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, but with a few
features missing (<span class="RktSym">?@@</span> <span class="RktSym">?attr</span> <span class="RktSym">?cond</span> <span class="RktSym">?if</span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/light..rkt)._subtemplate))"></a><span title="Provided from: subtemplate/light | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">subtemplate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._subtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">subtemplate</a></span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="hspace">&nbsp;</span><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prop</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym">subtemplate</span> from <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, but with a few
features missing. The utilities <span class="RktSym">?@@</span> <span class="RktSym">?attr</span> <span class="RktSym">?cond</span> <span class="RktSym">?if</span>
are not taken into account, and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span> completely escapes the
ellipses.</div></p><p>Note that the syntax pattern variables must be matched with one of the
patched forms from <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fparse%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/parse</span></a> or
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fcase%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/case</span></a>, instead of the syntax pattern-matching
forms from <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a> or <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a>,
respectively.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._subtemplate/light..rkt)._quasisubtemplate))"></a><span title="Provided from: subtemplate/light | Package: subtemplate"><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._quasisubtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">quasisubtemplate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._subtemplate%2Flight..rkt%29._quasisubtemplate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">quasisubtemplate</a></span><span class="hspace">&nbsp;</span><span class="RktVar">template</span><span class="hspace">&nbsp;</span><span class="RktPn">#:properties</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prop</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fstx..rkt%2529._identifier%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym">subtemplate</span> from <a href="#%28mod-path._subtemplate%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">subtemplate</span></a>, but with a few
features missing. The utilities <span class="RktSym">?@@</span> <span class="RktSym">?attr</span> <span class="RktSym">?cond</span> <span class="RktSym">?if</span>
are not taken into account, and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span> completely escapes the
ellipses</div></p><p>Another limitation is that subscripted identifiers are not searched for
within unquoted parts of the template.</p><p>Note that the syntax pattern variables must be matched with one of the
patched forms from <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fparse%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/parse</span></a> or
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=stxparse-info&amp;rel=index.html%23%2528mod-path._stxparse-info%252Fcase%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">stxparse-info/case</span></a>, instead of the syntax pattern-matching
forms from <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">syntax/parse</span></a> or <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a>,
respectively. </p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/subtemplate/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 02:54:19 GMT -->
</html>