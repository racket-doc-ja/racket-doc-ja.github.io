<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/clotho/sec_guide.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1&nbsp;How to Use Clotho</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Clotho</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">How to Use Clotho</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="sec_api.html" class="tocviewlink" data-pltdoc="x">Clotho API</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Acknowledgments.html" class="tocviewlink" data-pltdoc="x">Acknowledgments</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Code_and_License.html" class="tocviewlink" data-pltdoc="x">Code and License</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">How to Use Clotho</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="#%28part._.About_.Clotho%29" class="tocviewlink" data-pltdoc="x">About Clotho</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="#%28part._.Getting_.Started%29" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="#%28part._.The_.Basics_of_.Clotho%29" class="tocviewlink" data-pltdoc="x">The Basics of Clotho</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="#%28part._.Advanced_.Clotho_.Usage%29" class="tocviewlink" data-pltdoc="x">Advanced Clotho Usage</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.About_.Clotho%29" class="tocsubseclink" data-pltdoc="x">About Clotho</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Getting_.Started%29" class="tocsubseclink" data-pltdoc="x">Getting Started</a></td></tr><tr><td><span class="tocsublinknumber">1.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Installation%29" class="tocsubseclink" data-pltdoc="x">Installation</a></td></tr><tr><td><span class="tocsublinknumber">1.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Enabling_.Clotho_in_.Your_.Code%29" class="tocsubseclink" data-pltdoc="x">Enabling Clotho in Your Code</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.The_.Basics_of_.Clotho%29" class="tocsubseclink" data-pltdoc="x">The Basics of Clotho</a></td></tr><tr><td><span class="tocsublinknumber">1.3.1<tt>&nbsp;</tt></span><a href="#%28part._.The_current-random-source_.Parameter%29" class="tocsubseclink" data-pltdoc="x">The <span class="RktSym"><span class="RktValLink">current-<wbr></wbr>random-<wbr></wbr>source</span></span> Parameter</a></td></tr><tr><td><span class="tocsublinknumber">1.3.2<tt>&nbsp;</tt></span><a href="#%28part._.Extracting_the_.Byte_.String%29" class="tocsubseclink" data-pltdoc="x">Extracting the Byte String</a></td></tr><tr><td><span class="tocsublinknumber">1.3.3<tt>&nbsp;</tt></span><a href="#%28part._.Replaying_.Randomness_with_.Changes%29" class="tocsubseclink" data-pltdoc="x">Replaying Randomness with Changes</a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._.Advanced_.Clotho_.Usage%29" class="tocsubseclink" data-pltdoc="x">Advanced Clotho Usage</a></td></tr><tr><td><span class="tocsublinknumber">1.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Using_.Externally_.Defined_.Randomness_.Functions%29" class="tocsubseclink" data-pltdoc="x">Using Externally Defined Randomness Functions</a></td></tr><tr><td><span class="tocsublinknumber">1.4.2<tt>&nbsp;</tt></span><a href="#%28part._.Abstracting_.Regions_of_.Randomness%29" class="tocsubseclink" data-pltdoc="x">Abstracting Regions of Randomness</a></td></tr><tr><td><span class="tocsublinknumber">1.4.3<tt>&nbsp;</tt></span><a href="#%28part._.Easy_.Stateful_.Execution%29" class="tocsubseclink" data-pltdoc="x">Easy Stateful Execution</a></td></tr><tr><td><span class="tocsublinknumber">1.4.4<tt>&nbsp;</tt></span><a href="#%28part._.Automatically_.Wrapping_a_.Whole_.Module%29" class="tocsubseclink" data-pltdoc="x">Automatically Wrapping a Whole Module</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Clotho&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Clotho&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="sec_api.html" title="forward to &quot;2 Clotho API&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;sec:guide&quot;">1<tt>&nbsp;</tt><a name="(part._sec~3aguide)"></a>How to Use Clotho</h3><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Pierce Darragh &lt;<a href="mailto:pierce.darragh@gmail.com">pierce.darragh@gmail.com</a>&gt;,<br/>William Gallard Hatch &lt;<a href="mailto:william@hatch.uno">william@hatch.uno</a>&gt;,<br/>and Eric Eide &lt;<a href="mailto:eeide@cs.utah.edu">eeide@cs.utah.edu</a>&gt;</p></span></div><p>Clotho is a library that provides new randomness primitives that enable the
parameterization of random value generation.</p><h4 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;About_Clotho&quot;">1.1<tt>&nbsp;</tt><a name="(part._.About_.Clotho)"></a>About Clotho</h4><p>Clotho is a library for supporting <span class="emph">parametric randomness</span>.
Parametric randomness is a type of random value generation that allows you to
write programs that use random values, record those values, manipulate them
externally, and then use them to guide a subsequent execution of your program.</p><p>In addition to support for parametric randomness, Clotho provides almost all of
the randomness functionality of the Racket standard library&#8212;<wbr></wbr>meaning you can
use Clotho any time you want random values.</p><p>Clotho also provides the ability to embed externally defined functions
(such as functions that depend on using Racket&rsquo;s built-in randomness
functions).
This allows for using parametric randomness with practically any existing
library, which is good news for you, since you won&rsquo;t have to re-implement them
from scratch.</p><h4 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Getting_Started&quot;">1.2<tt>&nbsp;</tt><a name="(part._.Getting_.Started)"></a>Getting Started</h4><p>In this section, we go over the basics of Clotho.</p><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Installation&quot;">1.2.1<tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h5><p>To install Clotho, you need a modern version of
<a href="https://racket-lang.org/">Racket</a>. (We recommend version 7.0 or
later.)
Use Racket&rsquo;s built-in <span class="stt">raco</span> tool to install Clotho:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ raco pkg install clotho</span></p></td></tr></table></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>This guide shows verbatim code blocks such as the one immediately above this
note to indicate interactions on the command line.
Within these blocks, a leading <span class="RktSym">$</span> indicates a line the user could
type at a shell, and a leading <span class="RktSym">&gt;</span> indicates a line the user could
type within a Racket REPL session.
Lines that do not begin with either of these symbols represent output.</p></blockquote></blockquote></blockquote><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Enabling_Clotho_in_Your_Code&quot;">1.2.2<tt>&nbsp;</tt><a name="(part._.Enabling_.Clotho_in_.Your_.Code)"></a>Enabling Clotho in Your Code</h5><p>A Clotho program will typically start like this:</p><blockquote class="SCodeFlow"><p><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a></p></blockquote><p>But you can also do:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clotho</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Throughout this guide, we will predominantly be using Clotho as a
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a>, but the examples should mostly work identically if you instead
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span> it.</p><h4 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;The_Basics_of_Clotho&quot;">1.3<tt>&nbsp;</tt><a name="(part._.The_.Basics_of_.Clotho)"></a>The Basics of Clotho</h4><p>Clotho provides a set of randomness primitives and convenience functions that
serve two purposes:</p><ol><li><p>Replace randomness functionality of <span class="RktSym">racket/base</span>.</p></li><li><p>Enable parametric randomness.</p></li></ol><p>Let&rsquo;s learn about how to use Clotho to achieve these two goals.</p><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;The_current-random-source_Parameter&quot;">1.3.1<tt>&nbsp;</tt><a name="(part._.The_current-random-source_.Parameter)"></a>The <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span> Parameter</h5><p>Crucially, all of Clotho&rsquo;s functionality revolves around the
<span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span> parameter.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>If you do not know about <span class="emph">parameters</span> in Racket, we recommend you take a
moment to consult
<a href="../reference/parameters.html">the
documentation about them</a>.</p></blockquote></blockquote></blockquote><p>The <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span> must be parameterized with a new
<span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-source~3f%29%29" class="RktValLink" data-pltdoc="x">random-source?</a></span>, which can easily be constructed by calling
<span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span>.
The <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span> function is fairly versatile.
You can supply it with:</p><ul><li><p>No argument, creating a random <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-source~3f%29%29" class="RktValLink" data-pltdoc="x">random-source?</a></span>.</p></li><li><p>An integer argument, which will be used as a seed value from which to
generate new random values.</p></li><li><p>A <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span> argument, which will be used to (a) &ldquo;replay&rdquo; the values
it encodes and (b) generate new values when the recording is used up.</p></li></ul><p>The randomness primitives and convenience functions will only work where the
<span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span> is parameterized.
For example:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"success.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random%29%29" class="RktValLink" data-pltdoc="x">random</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>All of the code samples in the Clotho guide are available in the Clotho
repository, under the
<a href="https://gitlab.flux.utah.edu/xsmith/clotho/-/tree/master/clotho/examples/guide"><span class="RktSym">clotho/examples/guide</span></a>
directory.
For example, the above code sample can be found in the
<a href="https://gitlab.flux.utah.edu/xsmith/clotho/-/tree/master/clotho/examples/guide/success.rkt"><span class="RktSym">clotho/examples/guide/success.rkt</span></a>
file.</p></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket success.rkt</span></p></td></tr><tr><td><p><span class="stt">0.9193169593852777</span></p></td></tr></table></p><p>Outside of the body of such a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span> expression, an error will
be thrown instead:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"error.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random%29%29" class="RktValLink" data-pltdoc="x">random</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket error.rkt</span></p></td></tr><tr><td><p><span class="stt">assert-random-source-initialized: current-random-source not yet initialized!</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Have you `parameterize`d it?</span></p></td></tr></table></p><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Extracting_the_Byte_String&quot;">1.3.2<tt>&nbsp;</tt><a name="(part._.Extracting_the_.Byte_.String)"></a>Extracting the Byte String</h5><p>After calling some randomness functions, we can analyze the recording of the
generation that was captured in the <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span>.
This is a byte string (<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span>), which can be obtained by calling the
<span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span> function:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"byte-string.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-int%29%29" class="RktValLink" data-pltdoc="x">random-int</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket byte-string.rkt</span></p></td></tr><tr><td><p><span class="stt">-518059394</span></p></td></tr><tr><td><p><span class="stt">#";\240)`\355\325\334\354\31\344\310\244"</span></p></td></tr><tr><td><p><span class="stt">'(59 160 41 96 237 213 220 236 25 228 200 164)</span></p></td></tr></table></p><p>From this output, we know the first call to <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span> produced
<span class="RktVal">#t</span>, and then the call to <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-int%29%29" class="RktValLink" data-pltdoc="x">random-int</a></span> produced
<span class="RktVal"><span class="nobreak">-5</span>18059394</span>.</p><p>The byte string captured in <span class="RktSym">bs</span> consists of 4-byte chunks that each
represent an integer.
The first integer is reserved for internal use.
Each 4-byte integer after that corresponds directly to the output of a
randomness function.
Since there were two calls to randomness functions, we see 12 bytes in the byte
string: 4 for internal use, and then 2 x 4 = 8 bytes devoted to randomness
calls.</p><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Replaying_Randomness_with_Changes&quot;">1.3.3<tt>&nbsp;</tt><a name="(part._.Replaying_.Randomness_with_.Changes)"></a>Replaying Randomness with Changes</h5><p>What makes Clotho neat is the ability to run a random program a second time and
<span class="emph">replay</span> the values obtained the first time.
For example, we can rewrite the above program to use the previously generated
byte string, and then execute it:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"replay.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">inbs</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#";\240)`\355\325\334\354\31\344\310\244"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">inbs</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-int%29%29" class="RktValLink" data-pltdoc="x">random-int</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket replay.rkt</span></p></td></tr><tr><td><p><span class="stt">-518059394</span></p></td></tr><tr><td><p><span class="stt">#";\240)`\355\325\334\354\31\344\310\244"</span></p></td></tr><tr><td><p><span class="stt">'(59 160 41 96 237 213 220 236 25 228 200 164)</span></p></td></tr></table></p><p>By providing the byte string as an argument to <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span>, we
create a new <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-source~3f%29%29" class="RktValLink" data-pltdoc="x">random-source?</a></span> that will produce the same randomness
values we got out previously.</p><p>This isn&rsquo;t very exciting, though.
What would be <span class="emph">really</span> cool is if we could manipulate the source of
randomness to induce subtle changes in the generated values.
As you probably guessed by the way that last sentence was
written, we can!</p><p>Let&rsquo;s manipulate the integer that corresponds to the call that produced
<span class="RktVal">#t</span> in the previous program, and then feed the manipulated byte string
into the same program to see what happens:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"manipulate.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">racket/list</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">This</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">byte</span><span class="hspace">&nbsp;</span><span class="RktCmt">string</span><span class="hspace">&nbsp;</span><span class="RktCmt">we</span><span class="hspace">&nbsp;</span><span class="RktCmt">got</span><span class="hspace">&nbsp;</span><span class="RktCmt">before.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">prevbs</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#";\240)`\355\325\334\354\31\344\310\244"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">inbs</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list-%7E3ebytes%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list-&gt;bytes</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">list-update</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">prevbs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">7</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">inbs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">inbs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">inbs</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-int%29%29" class="RktValLink" data-pltdoc="x">random-int</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket manipulate.rkt</span></p></td></tr><tr><td><p><span class="stt">#";\240)`\355\325\334\355\31\344\310\244"</span></p></td></tr><tr><td><p><span class="stt">'(59 160 41 96 237 213 220 237 25 228 200 164)</span></p></td></tr><tr><td><p><span class="stt">#t</span></p></td></tr><tr><td><p><span class="stt">#";\240)`\355\325\334\355\31\344\310\244"</span></p></td></tr><tr><td><p><span class="stt">'(59 160 41 96 237 213 220 237 25 228 200 164)</span></p></td></tr></table></p><p>We can see that we incremented the seventh byte by 1, which we expect to modify
the value of the first randomness function.
After the generation is complete, we get back the same byte string we passed
in.
This is because the byte string was sufficiently long to handle all of the
needed randomness calls.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>It is because each of these 4-byte segments can be handled separately from
one another that we say Clotho provides mechanisms for <span class="emph">parametric
randomness</span>.
Essentially, each 4-byte segment becomes a <span class="emph">parameter</span> that can be
adjusted.</p></blockquote></blockquote></blockquote><p>The output we get out is the value <span class="RktVal">#t</span>, instead of the number
<span class="RktVal"><span class="nobreak">-5</span>18059394</span> that we had received previously.
This shows that the first randomness call (the call to <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span> in
the condition of the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">if</a></span> expression) output a <span class="RktVal">#f</span> instead of
the <span class="RktVal">#t</span> we were getting before.</p><p>Note that the third tetrad of bytes in the byte string (i.e., bytes 8&ndash;11) did
not change, but produced a boolean instead of an integer value.
This is because Clotho&rsquo;s byte strings do not record values directly, but rather
record numbers that are seeds to individual random generators that
are used for producing values for each randomness call.
Although this reduces Clotho&rsquo;s efficiency somewhat, it increases the expressive
power considerably.</p><h4 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Advanced_Clotho_Usage&quot;">1.4<tt>&nbsp;</tt><a name="(part._.Advanced_.Clotho_.Usage)"></a>Advanced Clotho Usage</h4><p>There are some additional aspects of Clotho&rsquo;s design that can be very helpful
to know, but that are somewhat more advanced than what we&rsquo;ve covered so far.</p><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Using_Externally_Defined_Randomness_Functions&quot;">1.4.1<tt>&nbsp;</tt><a name="(part._.Using_.Externally_.Defined_.Randomness_.Functions)"></a>Using Externally Defined Randomness Functions</h5><p>Sometimes, you may find yourself wanting to use a function somebody else has
written that uses Racket&rsquo;s built-in randomness functions.
This could be problematic if you want calls to this function to be recorded in
the <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span>&rsquo;s byte string.</p><p>Clotho provides a form, <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span>, that allows you to
achieve exactly this.
Consider this example using the <span class="RktSym">shuffle</span> function provided by the
<span class="RktSym">racket/list</span> library:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"external.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">racket/list</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">range</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">""</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Insert</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">newline</span><span class="hspace">&nbsp;</span><span class="RktCmt">for</span><span class="hspace">&nbsp;</span><span class="RktCmt">easier</span><span class="hspace">&nbsp;</span><span class="RktCmt">reading.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></blockquote></blockquote><p>Then, we run the code <span class="emph">twice</span>:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket external.rkt</span></p></td></tr><tr><td><p><span class="stt">'(4 9 2 5 0 8 7 6 3 1)</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0"</span></p></td></tr><tr><td><p><span class="stt">'(0 0 0 0)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">'(5 7 0 2 9 6 8 1 3 4)</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0\347\240n\333"</span></p></td></tr><tr><td><p><span class="stt">'(0 0 0 0 231 160 110 219)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">$ racket external.rkt</span></p></td></tr><tr><td><p><span class="stt">'(0 2 5 1 4 3 9 8 6 7)</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0"</span></p></td></tr><tr><td><p><span class="stt">'(0 0 0 0)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">'(5 7 0 2 9 6 8 1 3 4)</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0\347\240n\333"</span></p></td></tr><tr><td><p><span class="stt">'(0 0 0 0 231 160 110 219)</span></p></td></tr></table></p><p>There are a few things to notice about the outputs here.</p><p>First, the return values <span class="RktSym">rv1</span> and <span class="RktSym">rv2</span> are not the same within
each execution.
Second, the <span class="RktSym">rv2</span> values are identical between executions, but the
<span class="RktSym">rv1</span> values are not.
Third, the byte strings labeled <span class="RktSym">bs1</span> are shorter than the byte strings
labeled <span class="RktSym">bs2</span>.</p><p>The takeaway here is that the <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span> form has caused
the calls to <span class="RktSym">shuffle</span>&#8212;<wbr></wbr>which is not implemented with Clotho&rsquo;s
randomness functions&#8212;<wbr></wbr>to become constrained by the
<span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span>.</p><p>The <span class="RktSym">rv1</span> values in each execution are unpredictable, despite occurring
within the parameterization of the <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span>.
In most cases, this would probably be an undesirable effect.
In contrast, the <span class="RktSym">rv2</span> values are correctly handled by the
<span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span>.
In both executions, <span class="RktSym">rv2</span> and <span class="RktSym">bs2</span> come back the same.
Additionally, we see that the byte string increased in length.
This is because Clotho generated and recorded a randomness value associated
with the wrapped call to <span class="RktSym">shuffle</span>, which did not happen in the call
that wasn&rsquo;t wrapped with <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span>.</p><p>It is important to point out that Clotho is unable to wrap each individual call
to a randomness function within the scope of a
<span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span> form.
Rather, the execution of the entire form is associated with exactly one 4-byte
segment of the byte string.
To put it in code:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"external-multiple.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">racket/list</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">range</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">wrapped-shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">.</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">args</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">args</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">wrapped-shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">wrapped-shuffle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">numbers</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket external-multiple.rkt</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0\347\240n\333"</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0\347\240n\333l\331\317\250"</span></p></td></tr></table></p><p>The first byte string, <span class="RktSym">bs1</span>, shows that only one 4-byte segment was
created for the two calls to <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random%29%29" class="RktValLink" data-pltdoc="x">random</a></span>.
On the other hand, <span class="RktSym">bs2</span> is 4 bytes longer than <span class="RktSym">bs1</span>.
This is because each call to <span class="RktSym">wrapped-shuffle</span> uses its own
<span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span> form.
The advantage of this is that each randomness call is now parameterized (in the
Clotho sense of the word).</p><p>In most cases, it will be more advantageous to opt for very tight scoping on
usages of <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span>.
This requires either wrapping each individual call to a randomness function, or
else defining a new wrapper function to handle the wrapping more easily.</p><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Abstracting_Regions_of_Randomness&quot;">1.4.2<tt>&nbsp;</tt><a name="(part._.Abstracting_.Regions_of_.Randomness)"></a>Abstracting Regions of Randomness</h5><p>It can occasionally be useful to abstract complex uses of randomness functions.
For example, you may not be interested in parameterizing each randomness
function, but rather a broader-scoped meta-randomness function:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"racket-abstract.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">random-list-of-vals</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-int%29%29" class="RktValLink" data-pltdoc="x">random-int</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-ascii-lower-char%29%29" class="RktValLink" data-pltdoc="x">random-ascii-lower-char</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">abstracted-random-list-of-vals</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._with-new-random-source%29%29" class="RktStxLink" data-pltdoc="x">with-new-random-source</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-int%29%29" class="RktValLink" data-pltdoc="x">random-int</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-bool%29%29" class="RktValLink" data-pltdoc="x">random-bool</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-ascii-lower-char%29%29" class="RktValLink" data-pltdoc="x">random-ascii-lower-char</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">random-list-of-vals</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">abstracted-random-list-of-vals</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">""</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket abstract.rkt</span></p></td></tr><tr><td><p><span class="stt">'(-826043031 #t #\g)</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0\347\240n\333l\331\317\250.\313\2454"</span></p></td></tr><tr><td><p><span class="stt">'(0 0 0 0 231 160 110 219 108 217 207 168 46 203 165 52)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">'(-1378798560 #f #\h)</span></p></td></tr><tr><td><p><span class="stt">#"\0\0\0\0\347\240n\333"</span></p></td></tr><tr><td><p><span class="stt">'(0 0 0 0 231 160 110 219)</span></p></td></tr></table></p><p>We can quickly observe that the return values <span class="RktSym">rv1</span> and <span class="RktSym">rv2</span> are
different.
More interesting in the present discussion, however, is the difference in
lengths of the byte strings <span class="RktSym">bs1</span> and <span class="RktSym">bs2</span>.
There are 16 bytes in <span class="RktSym">bs1</span>, versus only 8 bytes in <span class="RktSym">bs2</span>.
This tells us that <span class="RktSym">bs1</span> corresponds to three randomness function calls,
while <span class="RktSym">bs2</span> corresponds to only one.</p><p>The <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._with-new-random-source%29%29" class="RktStxLink" data-pltdoc="x">with-new-random-source</a></span> form used in
<span class="RktSym">abstracted-random-list-of-vals</span> makes it so that all of the Clotho
randomness functions called within its body will correspond to a single 4-byte
segment of the output byte string.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._with-new-random-source%29%29" class="RktStxLink" data-pltdoc="x">with-new-random-source</a></span> form is a macro that automatically
creates a new <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span> seeded with the value returned
from calling <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._random-seed-value%29%29" class="RktValLink" data-pltdoc="x">random-seed-value</a></span> within the context of the
<span class="emph">parent</span> <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span>.
This means that if you call <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span>
within the body of the <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._with-new-random-source%29%29" class="RktStxLink" data-pltdoc="x">with-new-random-source</a></span> form, it will return
the byte string of the <span class="emph">child</span> <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span>&#8212;<wbr></wbr>which
is probably not what you intended.
Be careful where you call <span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span>!</p></blockquote></blockquote></blockquote><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Easy_Stateful_Execution&quot;">1.4.3<tt>&nbsp;</tt><a name="(part._.Easy_.Stateful_.Execution)"></a>Easy Stateful Execution</h5><p>There are times when you may want to use randomness functions without having to
use a cumbersome <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span> expression.
For example, if you are interacting with the Racket REPL to test some
functionality, it can be frustrating to wrap each call in this way.
To accommodate this, you can <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><span class="RktSym">clotho/stateful</span><span class="RktPn">)</span>:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket</span></p></td></tr><tr><td><p><span class="stt">Welcome to Racket v7.4.</span></p></td></tr><tr><td><p><span class="stt">&gt; (require clotho)</span></p></td></tr><tr><td><p><span class="stt">&gt; (random)</span></p></td></tr><tr><td><p><span class="stt">; assert-random-source-initialized: current-random-source not yet initialized!</span></p></td></tr><tr><td><p><span class="stt">;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">Have you `parameterize`d it? [,bt for context]</span></p></td></tr><tr><td><p><span class="stt">&gt; (require clotho/stateful)</span></p></td></tr><tr><td><p><span class="stt">&gt; (random)</span></p></td></tr><tr><td><p><span class="stt">0.3642047298500743</span></p></td></tr></table></p><p>There are various forms to support the use of this mode documented in the
<a href="sec_api.html" data-pltdoc="x">Clotho API</a>.
Note also that <span class="RktSym">clotho/stateful</span> can be used as a <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a>:</p><blockquote class="SCodeFlow"><p><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="sec_api.html#%28mod-path._clotho%2Fstateful%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho/stateful</span></a></p></blockquote><h5 x-source-module="(lib &quot;clotho/scribblings/clotho.scrbl&quot;)" x-source-pkg="clotho" x-part-tag="&quot;Automatically_Wrapping_a_Whole_Module&quot;">1.4.4<tt>&nbsp;</tt><a name="(part._.Automatically_.Wrapping_a_.Whole_.Module)"></a>Automatically Wrapping a Whole Module</h5><p>When you wish to use an external randomness function from a given module, you
can use Clotho&rsquo;s <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span> macro to wrap the function
call in such a way that the internal randomness will be guided by Clotho like
any other randomness call in Clotho.
However, this can be cumbersome to use if you wish to wrap many functions
within a library.</p><p>To address this issue, Clotho provides the <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._require-clotho-wrapped%29%29" class="RktStxLink" data-pltdoc="x">require-clotho-wrapped</a></span>
macro that can be used in a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span> position.
This macro will automatically wrap every Phase 0 binding within that module
with <span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._wrap-external-randomness%29%29" class="RktStxLink" data-pltdoc="x">wrap-external-randomness</a></span>.</p><p>For example, we can wrap the <span class="RktSym">math/distributions</span> library since it
provides quite a few randomness functions, and it&rsquo;s reasonable to want to use
many of them at once:</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"math-distributions.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="sec_api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">clotho</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28form._%28%28lib._clotho%2Fmain..rkt%29._require-clotho-wrapped%29%29" class="RktStxLink" data-pltdoc="x">require-clotho-wrapped</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">math/distributions</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">#:provide?</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">d</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">normal-dist</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">sample</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">d</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rv2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._current-random-source%29%29" class="RktValLink" data-pltdoc="x">current-random-source</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._make-random-source%29%29" class="RktValLink" data-pltdoc="x">make-random-source</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">d</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">normal-dist</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">sample</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">d</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="sec_api.html#%28def._%28%28lib._clotho%2Fmain..rkt%29._get-current-random-source-byte-string%29%29" class="RktValLink" data-pltdoc="x">get-current-random-source-byte-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">""</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rv2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._println%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">println</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">bs2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket math-distributions.rkt</span></p></td></tr><tr><td><p><span class="stt">'(-1.4422649979023663 0.170764610196471 -0.014599159848523677)</span></p></td></tr><tr><td><p><span class="stt">#"\360\343+g\356\344\207\225\217\307_\325"</span></p></td></tr><tr><td><p><span class="stt">'(240 227 43 103 238 228 135 149 143 199 95 213)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">'(-1.4422649979023663 0.170764610196471 -0.014599159848523677)</span></p></td></tr><tr><td><p><span class="stt">#"\360\343+g\356\344\207\225\217\307_\325"</span></p></td></tr><tr><td><p><span class="stt">'(240 227 43 103 238 228 135 149 143 199 95 213)</span></p></td></tr></table></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Clotho&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Clotho&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="sec_api.html" title="forward to &quot;2 Clotho API&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/clotho/sec_guide.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:22 GMT -->
</html>