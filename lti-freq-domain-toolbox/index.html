<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/lti-freq-domain-toolbox/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:02:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>lti-freq-domain-toolbox</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#" class="tocviewselflink" data-pltdoc="x">lti-<wbr></wbr>freq-<wbr></wbr>domain-<wbr></wbr>toolbox</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._representation%29" class="tocviewlink" data-pltdoc="x">Representing a dynamical system</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._plot-functions%29" class="tocviewlink" data-pltdoc="x">Plot functions</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._predefined-circuits%29" class="tocviewlink" data-pltdoc="x">Predefined circuits</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._circuit-simplifications%29" class="tocviewlink" data-pltdoc="x">Circuit simplifications</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">lti-<wbr></wbr>freq-<wbr></wbr>domain-<wbr></wbr>toolbox</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._representation%29" class="tocsubseclink" data-pltdoc="x">Representing a dynamical system</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._elements%29" class="tocsubseclink" data-pltdoc="x">Elements</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._block%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">block</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._tf%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">tf</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._adder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">adder</span></a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._connecting-elements%29" class="tocsubseclink" data-pltdoc="x">Connecting elements</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._connect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">connect</span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._plot-functions%29" class="tocsubseclink" data-pltdoc="x">Plot functions</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._frequency-domain%29" class="tocsubseclink" data-pltdoc="x">Frequency domain</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._bode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">bode</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._compare%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">compare</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._evolve%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">evolve</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._tune%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">tune</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._nyquist%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">nyquist</span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._time-domain%29" class="tocsubseclink" data-pltdoc="x">Time domain</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._step%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">step</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._impulse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">impulse</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._trajectory%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">trajectory</span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._predefined-circuits%29" class="tocsubseclink" data-pltdoc="x">Predefined circuits</a></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Basic._components%29" class="tocsubseclink" data-pltdoc="x">Basic components</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._integrator%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">integrator</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._sine%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">sine</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._phase-delay-circuit%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">phase-<wbr></wbr>delay-<wbr></wbr>circuit</span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Controller.S%29" class="tocsubseclink" data-pltdoc="x">Controllers</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._pi-controller%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">pi-<wbr></wbr>controller</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._pd-controller%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">pd-<wbr></wbr>controller</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._pid-controller%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">pid-<wbr></wbr>controller</span></a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Filters%29" class="tocsubseclink" data-pltdoc="x">Filters</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._chebyshev-type1%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">chebyshev-<wbr></wbr>type1</span></a></td></tr><tr><td><span class="tocsublinknumber">3.4<tt>&nbsp;</tt></span><a href="#%28part._.Delay._components%29" class="tocsubseclink" data-pltdoc="x">Delay components</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._pade-delay%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">pade-<wbr></wbr>delay</span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._circuit-simplifications%29" class="tocsubseclink" data-pltdoc="x">Circuit simplifications</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._display-modes%29" class="tocsubseclink" data-pltdoc="x">Display modes</a></td></tr><tr><td><a href="#%28def._%28%28lib._lti-freq-domain-toolbox%2Fmain..rkt%29._set-logger-mode%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">set-<wbr></wbr>logger-<wbr></wbr>mode!</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._lti-freq-domain-toolbox)"></a><a name="(mod-path._lti-freq-domain-toolbox)"></a>lti-freq-domain-toolbox</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Ioannis Stefanis &lt;<a href="mailto:iastefan@outlook.com">iastefan@outlook.com</a>&gt;</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">lti-freq-domain-toolbox</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lti-freq-domain-toolbox" title="Install this package using `raco pkg install lti-freq-domain-toolbox`"><span class="stt">lti-freq-domain-toolbox</span></a></span></td></tr></table></p><p>The <span style="font-weight: bold">lti-freq-domain-toolbox</span> is a collection of functions written in Racket, which lets Control Systems engineers study LTI (linear time-invariant) dynamical systems - from PID controllers to more complex systems.</p><p>It can perform tasks such as:</p><ul><li><p>computation of the overall transfer function (tf) of a system that is modeled by interconnected tfs in the s-domain</p></li><li><p>generation of its Bode and Nyquist plots</p></li><li><p>numerical computation of its time domain response</p></li></ul><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._representation%29" class="toptoclink" data-pltdoc="x">1<span class="hspace">&nbsp;</span>Representing a dynamical system</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._introduction%29" class="toclink" data-pltdoc="x">1.1<span class="hspace">&nbsp;</span>Introduction</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._elements%29" class="toclink" data-pltdoc="x">1.2<span class="hspace">&nbsp;</span>Elements</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._connecting-elements%29" class="toclink" data-pltdoc="x">1.3<span class="hspace">&nbsp;</span>Connecting elements</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._plot-functions%29" class="toptoclink" data-pltdoc="x">2<span class="hspace">&nbsp;</span>Plot functions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._frequency-domain%29" class="toclink" data-pltdoc="x">2.1<span class="hspace">&nbsp;</span>Frequency domain</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._time-domain%29" class="toclink" data-pltdoc="x">2.2<span class="hspace">&nbsp;</span>Time domain</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._predefined-circuits%29" class="toptoclink" data-pltdoc="x">3<span class="hspace">&nbsp;</span>Predefined circuits</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Basic._components%29" class="toclink" data-pltdoc="x">3.1<span class="hspace">&nbsp;</span>Basic components</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Controller.S%29" class="toclink" data-pltdoc="x">3.2<span class="hspace">&nbsp;</span>Controllers</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Filters%29" class="toclink" data-pltdoc="x">3.3<span class="hspace">&nbsp;</span>Filters</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Delay._components%29" class="toclink" data-pltdoc="x">3.4<span class="hspace">&nbsp;</span>Delay components</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._circuit-simplifications%29" class="toptoclink" data-pltdoc="x">4<span class="hspace">&nbsp;</span>Circuit simplifications</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._display-modes%29" class="toclink" data-pltdoc="x">4.1<span class="hspace">&nbsp;</span>Display modes</a></p></td></tr></table><h3 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;representation&quot;">1<tt>&nbsp;</tt><a name="(part._representation)"></a>Representing a dynamical system</h3><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;introduction&quot;">1.1<tt>&nbsp;</tt><a name="(part._introduction)"></a>Introduction</h4><p>A linear time-invariant (LTI) dynamical system is represented as a circuit of interconnected elements: transfer functions (tfs), adders and blocks.</p><p>A block of elements is a means for achieving abstraction. Circuit elements such as transfer functions (tfs), adders and even other blocks
can be "stored" inside a block, and form a whole that can be handled as an element itself.</p><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;elements&quot;">1.2<tt>&nbsp;</tt><a name="(part._elements)"></a>Elements</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._block))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">block</span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">block</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">parent-block</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parent-block</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-weight: bold">Implementation assumption:</span></p><p><span style="font-style: italic">Each block of elements has only one input (another tf, adder or block) and multiple outputs.</span></p><p><span style="font-style: italic">Multiple inputs can be achieved by adding in front of it an adder.</span></p></blockquote></blockquote></blockquote></div></p><p>A new block is defined using the <span class="RktSym">block</span> procedure. A parent block inside which the block is stored can be optionally specified.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-block1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">block</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-block-inside-block-a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">block</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara">Notes:
</div><div class="SIntrapara"><ul><li><p>The four blocks a, b, c, d are predefined for speed</p></li><li><p>Build new blocks only when needed and if there are elements to be stored inside</p></li><li><p>If all the elements inside a block are <span style="font-weight: bold">not</span> connected, the value of the block&rsquo;s overall tf is that of the latest tf stored</p></li><li><p>Re-run the program before defining new circuits in already used blocks</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._tf))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">tf</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">nom-coeffs</span><span class="hspace">&nbsp;</span><span class="RktVar">denom-coeffs</span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">tf?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">nom-coeffs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">denom-coeffs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-weight: bold">Implementation assumption:</span></p><p><span style="font-style: italic">Each tf has only one input (another tf, adder or block) and multiple outputs.</span></p><p><span style="font-style: italic">Multiple inputs can be achieved by adding in front of it an adder.</span></p></blockquote></blockquote></blockquote></div></p><p>To define a <span style="font-weight: bold">transfer function</span>, the lists of the coefficients of its nominator and denominator polynomials, as well as
the block it belongs to must be specified, using the <span class="RktSym">tf</span> procedure.</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-tf1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._adder))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">adder</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">adder?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-weight: bold">Implementation assumption:</span></p><p><span style="font-style: italic">Each adder has multiple inputs and multiple outputs</span></p></blockquote></blockquote></blockquote></div></p><p>An adder is an element used to add multiple input signals, and provide one or multiple outputs.
It can be placed in front of a block or tf, to provide them with multiple inputs. An adder is created and placed inside a block using the
<span class="RktSym">adder</span> procedure.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-adder1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">adder</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">connect</span><span class="hspace">&nbsp;</span><span class="RktSym">tf1</span><span class="hspace">&nbsp;</span><span class="RktSym">new-adder1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">connect</span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="hspace">&nbsp;</span><span class="RktSym">new-adder1</span><span class="RktPn">)</span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;connecting-elements&quot;">1.3<tt>&nbsp;</tt><a name="(part._connecting-elements)"></a>Connecting elements</h4><p>Elements (tfs, adders and blocks) are connected <span style="font-weight: bold">serially</span> using the <span class="RktSym">connect</span> procedure:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._connect))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">connect</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">element?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">element?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">element?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">connect</span><span class="hspace">&nbsp;</span><span class="RktSym">tf1</span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">connect</span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="hspace">&nbsp;</span><span class="RktSym">adder1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">connect</span><span class="hspace">&nbsp;</span><span class="RktSym">tf3</span><span class="hspace">&nbsp;</span><span class="RktSym">adder1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">connect</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The connection of two elements has no effect if they are not elements of the same block.</p><p>Complex connection designs can be achieved by defining all serial connections between elements.</p><h3 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;plot-functions&quot;">2<tt>&nbsp;</tt><a name="(part._plot-functions)"></a>Plot functions</h3><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-style: italic">All plot functions listed below take as inputs blocks, not transfer functions.</span></p></blockquote></blockquote></blockquote><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;frequency-domain&quot;">2.1<tt>&nbsp;</tt><a name="(part._frequency-domain)"></a>Frequency domain</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._bode))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">bode</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">bode</span> function takes as input a block. It computes and prints its overall tf, Bode magnitude and phase plots,
and characteristic numbers.</div></p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pd-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>This example works because the <span class="RktSym">pd-controller</span> function is defined so that it returns as result the block in which it is installed in.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._compare))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">compare</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span><span class="RktVar">b2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">compare</span> function takes as inputs two <span style="font-weight: bold">different</span> blocks. It computes and prints comparatively their overall tfs,
Bode magnitude and phase plots.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">block</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">block</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">c1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">c2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">compare</span><span class="hspace">&nbsp;</span><span class="RktSym">c1</span><span class="hspace">&nbsp;</span><span class="RktSym">c2</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">compare</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pid-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pi-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>The second example works because the <span class="RktSym">pid-controller</span> and <span class="RktSym">pi-controller</span> functions return as result the block they are installed in.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._evolve))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">evolve</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">evolve</span> function takes as input a block. It computes and prints its overall tf and its Bode magnitude and phase plots,
storing the results. The next time it is called, it prints the current block&rsquo;s Bode plot on top of the last one stored.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">evolve</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pid-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">evolve</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pid-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._tune))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">tune</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">freq</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">freq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">tune</span> function can be used in order to compute the value of a single system&rsquo;s parameter, so that the system achieves a specific performance.
It takes as inputs a block, an equality condition regarding the <span style="font-weight: bold">amplitude response AR</span> or the <span style="font-weight: bold">phase shift ph</span>,
and the frequency at which this equality condition must be satisfied.</div></p><p>The function prints the value of the parameter computed, and the Bode magnitude and phase plots of the system.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">tune</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pi-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">=</span><span class="hspace">&nbsp;</span><span class="RktVal">AR</span><span class="hspace">&nbsp;</span><span class="RktVal">140</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0.01</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">tune</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pi-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">=</span><span class="hspace">&nbsp;</span><span class="RktVal">ph</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-5</span>0</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0.01</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._nyquist))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">nyquist</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">nyquist</span> function takes as input a block. It computes and prints its overall tf, Nyquist plot, and characteristic numbers.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">nyquist</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;time-domain&quot;">2.2<tt>&nbsp;</tt><a name="(part._time-domain)"></a>Time domain</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._step))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">step</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span><span class="RktVar">gain</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">gain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">step</span> function takes as inputs a block and a gain number. It computes and prints the block&rsquo;s tf, the block&rsquo;s tf with gain added,
and the step time response of the system.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">step</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sine</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">0.3</span><span class="hspace">&nbsp;</span><span class="RktVal">0.1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">step</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._impulse))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">impulse</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">impulse</span> function takes as input a block. It computes and prints the block&rsquo;s tf, and its impulse time response.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">impulse</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sine</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">0.3</span><span class="hspace">&nbsp;</span><span class="RktVal">0.1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">impulse</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._trajectory))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">trajectory</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">trajectory</span> function takes as input a block. It computes and prints the block&rsquo;s tf,
and its time domain df(t)/dt - f(t) trajectory plot.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">trajectory</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sine</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tf2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tf</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">0.3</span><span class="hspace">&nbsp;</span><span class="RktVal">0.1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">trajectory</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr></table></blockquote><h3 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;predefined-circuits&quot;">3<tt>&nbsp;</tt><a name="(part._predefined-circuits)"></a>Predefined circuits</h3><p>Circuits can be defined so that they return as result the block they are stored in. Therefore, they can be used directly as inputs to functions:</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span style="font-style: italic">All plot functions listed below take as inputs blocks, not transfer functions.</span></p></blockquote></blockquote></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">feedback-loop-test1</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>instead of:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">feedback-loop-test1</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr></table></blockquote><p>That isn&rsquo;t the case when using tfs, because a tf does not return the block in which it is installed.</p><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;Basic components&quot;">3.1<tt>&nbsp;</tt><a name="(part._.Basic._components)"></a>Basic components</h4><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._integrator))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">integrator</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">integrator</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._sine))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">sine</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sine</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._phase-delay-circuit))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">phase-delay-circuit</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">phase-delay-circuit</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;ControllerS&quot;">3.2<tt>&nbsp;</tt><a name="(part._.Controller.S)"></a>Controllers</h4><p>The PI, PD and PID controllers are defined by specifying the proportional (Kp), integral (Ki) and/or derivative (Kd) gains respectively,
as well as the block to be stored in.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._pi-controller))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">pi-controller</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Kp</span><span class="hspace">&nbsp;</span><span class="RktVar">Ki</span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Kp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Ki</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pi-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._pd-controller))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">pd-controller</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Kp</span><span class="hspace">&nbsp;</span><span class="RktVar">Kd</span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Kp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Kd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pd-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._pid-controller))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">pid-controller</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Kp</span><span class="hspace">&nbsp;</span><span class="RktVar">Ki</span><span class="hspace">&nbsp;</span><span class="RktVar">Kd</span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Kp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Ki</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Kd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pid-controller</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;Filters&quot;">3.3<tt>&nbsp;</tt><a name="(part._.Filters)"></a>Filters</h4><p>A Chebyshev Type I filter is defined by specifying the polynomial order (n), ripple factor (e) and cutoff frequency (w0) parameters,
along with the block to be stored in.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._chebyshev-type1))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">chebyshev-type1</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">w0</span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">w0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">bode</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">chebyshev-type1</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;Delay components&quot;">3.4<tt>&nbsp;</tt><a name="(part._.Delay._components)"></a>Delay components</h4><p><div class="SIntrapara">Delay can be modeled in two ways:
</div><div class="SIntrapara"><ul><li><p>by approximating it using a Pad&#233; polynomial</p></li><li><p>by adding delay as a function f(w) of the frequency w in the overall block&rsquo;s tf (only for the s-domain)</p></li></ul></div></p><p>The <span class="RktSym">pade-delay</span> procedure adds a time delay component to a block, modeled by a Pad&#233; polynomial of order [6/6] approximating the function e^(-t).</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._pade-delay))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">pade-delay</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">block?</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">step</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pade-delay</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sine</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></p></blockquote><h3 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;circuit-simplifications&quot;">4<tt>&nbsp;</tt><a name="(part._circuit-simplifications)"></a>Circuit simplifications</h3><p>In order to compute the overall transfer function (tf) of a system modeled by interconnected elements inside a block, a simplification of its structure
must be performed.</p><p>This simplification is performed by running a set of algorithms inside the block. Each algorithm may run more than once.
During each algorithm run, a simplification may or may not be performed.</p><p>To be able to test and review this whole process, logging checkpoints have been implemented, with respective messages available to be displayed.</p><h4 x-source-module="(lib &quot;lti-freq-domain-toolbox/doc/lti-freq-domain-toolbox.scrbl&quot;)" x-source-pkg="lti-freq-domain-toolbox" x-part-tag="&quot;display-modes&quot;">4.1<tt>&nbsp;</tt><a name="(part._display-modes)"></a>Display modes</h4><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lti-freq-domain-toolbox/main..rkt)._set-logger-mode!))"></a><span title="Provided from: lti-freq-domain-toolbox | Package: lti-freq-domain-toolbox"><span class="RktSym"><span class="RktSymDef RktSym">set-logger-mode!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">logger-mode</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">logger-mode</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">set-logger-mode!</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">checkpoints</span><span class="RktPn">)</span></p></blockquote><p>The <span class="RktSym">set-logger-mode!</span> procedure can adjust the volume of simplifications-related messages displayed, in terms of the four following levels:</p><ul><li><p><span style="font-weight: bold">&rsquo;nil</span>: no messages are displayed (default)</p></li><li><p><span style="font-weight: bold">&rsquo;algorithms</span>: only messages regarding the algorithms run are displayed</p></li><li><p><span style="font-weight: bold">&rsquo;simplifications</span>: only messages regarding the algorithms run and the simplifications performed are displayed</p></li><li><p><span style="font-weight: bold">&rsquo;checkpoints</span>: all messages at all checkpoints are displayed</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/lti-freq-domain-toolbox/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:02:28 GMT -->
</html>