<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/simple-oauth2/OAuth_2_0_Client.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;OAuth 2.0 Client</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Package simple-<wbr></wbr>oauth2.</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Common_Definitions.html" class="tocviewlink" data-pltdoc="x">Common Definitions</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">OAuth 2.0 Client</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Configuration_and_Client_Persistence.html" class="tocviewlink" data-pltdoc="x">Configuration and Client Persistence</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Example_Command_Line_Tools.html" class="tocviewlink" data-pltdoc="x">Example Command Line Tools</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="License.html" class="tocviewlink" data-pltdoc="x">License</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">OAuth 2.0 Client</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Module_oauth2_client_%29" class="tocviewlink" data-pltdoc="x">Module oauth2/<span class="mywbr"> &nbsp;</span>client.</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._.Module_oauth2_client_flow_%29" class="tocviewlink" data-pltdoc="x">Module oauth2/<span class="mywbr"> &nbsp;</span>client/<span class="mywbr"> &nbsp;</span>flow.</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Module_oauth2_client_pkce_%29" class="tocviewlink" data-pltdoc="x">Module oauth2/<span class="mywbr"> &nbsp;</span>client/<span class="mywbr"> &nbsp;</span>pkce.</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Module_oauth2_client_%29" class="tocsubseclink" data-pltdoc="x">Module oauth2/<span class="mywbr"> &nbsp;</span>client.</a></td></tr><tr><td><span class="tocsublinknumber">2.1.1<tt>&nbsp;</tt></span><a href="#%28part._.Authorization%29" class="tocsubseclink" data-pltdoc="x">Authorization</a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._request-authorization-code%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>authorization-<wbr></wbr>code</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._authorization-complete%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">authorization-<wbr></wbr>complete</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.1.2<tt>&nbsp;</tt></span><a href="#%28part._.Authorization_.Token_.Management%29" class="tocsubseclink" data-pltdoc="x">Authorization Token Management</a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-authorization-code%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">grant-<wbr></wbr>token/<span class="mywbr"> &nbsp;</span>from-<wbr></wbr>authorization-<wbr></wbr>code</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Fimplicit%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">grant-<wbr></wbr>token/<span class="mywbr"> &nbsp;</span>implicit</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-owner-credentials%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">grant-<wbr></wbr>token/<span class="mywbr"> &nbsp;</span>from-<wbr></wbr>owner-<wbr></wbr>credentials</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-client-credentials%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">grant-<wbr></wbr>token/<span class="mywbr"> &nbsp;</span>from-<wbr></wbr>client-<wbr></wbr>credentials</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Fextension%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">grant-<wbr></wbr>token/<span class="mywbr"> &nbsp;</span>extension</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._oauth-namespace-urn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">oauth-<wbr></wbr>namespace-<wbr></wbr>urn</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._oauth-grant-type-urn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">oauth-<wbr></wbr>grant-<wbr></wbr>type-<wbr></wbr>urn</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._refresh-token%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">refresh-<wbr></wbr>token</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._revoke-token%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">revoke-<wbr></wbr>token</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._introspect-token%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">introspect-<wbr></wbr>token</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.1.3<tt>&nbsp;</tt></span><a href="#%28part._.Resource_.Access%29" class="tocsubseclink" data-pltdoc="x">Resource Access</a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._resource-sendrecv%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">resource-<wbr></wbr>sendrecv</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._make-authorization-header%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>authorization-<wbr></wbr>header</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.1.4<tt>&nbsp;</tt></span><a href="#%28part._.Parameter_.Creation%29" class="tocsubseclink" data-pltdoc="x">Parameter Creation</a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._create-random-state%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">create-<wbr></wbr>random-<wbr></wbr>state</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.1.5<tt>&nbsp;</tt></span><a href="#%28part._.Response_.Error_.Handling%29" class="tocsubseclink" data-pltdoc="x">Response Error Handling</a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._register-error-transformer%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">register-<wbr></wbr>error-<wbr></wbr>transformer</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._deregister-error-transformer%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">deregister-<wbr></wbr>error-<wbr></wbr>transformer</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Module_oauth2_client_flow_%29" class="tocsubseclink" data-pltdoc="x">Module oauth2/<span class="mywbr"> &nbsp;</span>client/<span class="mywbr"> &nbsp;</span>flow.</a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient%2Fflow..rkt%29._initiate-code-flow%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">initiate-<wbr></wbr>code-<wbr></wbr>flow</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Module_oauth2_client_pkce_%29" class="tocsubseclink" data-pltdoc="x">Module oauth2/<span class="mywbr"> &nbsp;</span>client/<span class="mywbr"> &nbsp;</span>pkce.</a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient%2Fpkce..rkt%29._pkce%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">pkce</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient%2Fpkce..rkt%29._create-challenge%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">create-<wbr></wbr>challenge</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._oauth2%2Fclient%2Fpkce..rkt%29._verifier-char~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">verifier-<wbr></wbr>char?</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Common_Definitions.html" title="backward to &quot;1 Common Definitions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Package simple-oauth2.&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Configuration_and_Client_Persistence.html" title="forward to &quot;3 Configuration and Client Persistence&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;OAuth_2_0_Client&quot;">2<tt>&nbsp;</tt><a name="(part._.O.Auth_2_0_.Client)"></a>OAuth 2.0 Client</h3><p>Simple OAuth 2.0 client implementation, with a module based on the specific
and individual request/response patterns defined in the specification as well as
a higher-level module that implements end-to-end <span style="font-style: italic">flows</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">oauth2</span><span class="hspace">&nbsp;</span><span class="RktSym">oauth2/client</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">response-channel</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._request-authorization-code%29%29" class="RktValLink" data-pltdoc="x">request-authorization-code</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client%29%29" class="RktValLink" data-pltdoc="x">client</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"scope-a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"scope-b"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">authorization-code</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=channel.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._channel-get%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">channel-get</a></span><span class="hspace">&nbsp;</span><span class="RktSym">response-channel</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"received auth-code ~a"</span><span class="hspace">&nbsp;</span><span class="RktSym">authorization-code</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=when_unless.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._when%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exn%7E3afail%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">authorization-code</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._raise%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">raise</a></span><span class="hspace">&nbsp;</span><span class="RktSym">authorization-code</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">token-response</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fetch-token/from-code</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client%29%29" class="RktValLink" data-pltdoc="x">client</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">authorization-code</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"fetch-token/from-code returned ~a"</span><span class="hspace">&nbsp;</span><span class="RktSym">token-response</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Module_oauth2_client_&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Module_oauth2_client_)"></a><a name="(mod-path._oauth2/client)"></a>Module oauth2/client.</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._oauth2%2Fclient%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">oauth2/client</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/simple-oauth2" title="Install this package using `raco pkg install simple-oauth2`"><span class="stt">simple-oauth2</span></a></span></td></tr></table></p><p>This module provides request-level procedures that match the sections of the
OAuth specification. While each provides a reasonable interface abstraction
there remains a 1:1 mapping from the procedures here and the specific HTTP requests
described in the corresponding RFCs.</p><h5 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Authorization&quot;">2.1.1<tt>&nbsp;</tt><a name="(part._.Authorization)"></a>Authorization</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._request-authorization-code))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._request-authorization-code%29%29" class="RktValDef RktValLink" data-pltdoc="x">request-authorization-code</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">client</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">scopes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:state</span><span class="hspace">&nbsp;</span><span class="RktVar">state</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:challenge</span><span class="hspace">&nbsp;</span><span class="RktVar">challenge</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:audience</span><span class="hspace">&nbsp;</span><span class="RktVar">audience</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=channel.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._channel%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">channel?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">scopes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">challenge</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">audience</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Given a client configuration, and a list of requested scopes, request an
authorization code by having the user complete a manual authentication and
authorization step via the URI in <span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client-authorization-uri%29%29" class="RktValLink" data-pltdoc="x">client-authorization-uri</a></span>. This is
an asynchronous process directing the user to a web page provided by the
service to authenticate the request. Upon success the users browser is
redirected to a page hosted by this package (the <span style="font-style: italic">redirect server</span>).
To address this, the response from this procedure is a <span class="RktSym">channel</span> which
will be to communicate back to the caller the authorization code provided by
the service via the redirect server. See
<a href="https://tools.ietf.org/html/rfc6749#section-4.1">The OAuth 2.0
Authorization Framework</a>, &#167;4.1</div></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">scopes</span> - a set of scopes to which we are requesting access.</p></li><li><p><span class="RktVar">state</span> - (optional) a state value, returned to the redirect
server for request/response correlation.</p></li><li><p><span class="RktVar">challenge</span> - (optional) a PKCE challenge structure, if <span class="RktVal">#f</span>
PKCE <span style="font-style: italic">will not</span> be used. See <a href="https://tools.ietf.org/html/rfc7636#section-4.3">Proof
Key for Code Exchange (PKCE) by OAuth Public Clients</a>, &#167;4.3.</p></li><li><p><span class="RktVar">audience</span> - (optional) a non-standard value used by some services
to denote the API set to which access is requested. if <span class="RktVal">#f</span>
this parameter <span style="font-style: italic">will not</span> be sent.</p></li></ul><p>The value read from the response channel will either be a <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span> code or
an exception (<span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._exn~3afail~3ahttp%29%29" class="RktValLink" data-pltdoc="x">exn:fail:http</a></span> or <span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._exn~3afail~3aoauth2%29%29" class="RktValLink" data-pltdoc="x">exn:fail:oauth2</a></span>). The authorization
code read from the response channel may then be used in a call to
<span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-authorization-code%29%29" class="RktValLink" data-pltdoc="x">grant-token/from-authorization-code</a></span> to retieve a token for this client.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._authorization-complete))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._authorization-complete%29%29" class="RktValDef RktValLink" data-pltdoc="x">authorization-complete</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The redirect server used in the retrieval of authorization codes utilizes a
set of asynchronous resources including blocking threads. These resources
are only started when a client calls <span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._request-authorization-code%29%29" class="RktValLink" data-pltdoc="x">request-authorization-code</a></span> for
the first time but then they remain in place until the process is terminated
or they are shut down explicitly. This procedure performs an orderly shut down
of the redirect server.</div></p><h5 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Authorization_Token_Management&quot;">2.1.2<tt>&nbsp;</tt><a name="(part._.Authorization_.Token_.Management)"></a>Authorization Token Management</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._grant-token/from-authorization-code))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-authorization-code%29%29" class="RktValDef RktValLink" data-pltdoc="x">grant-token/from-authorization-code</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">client</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">authorization-code</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:challenge</span><span class="hspace">&nbsp;</span><span class="RktVar">challenge</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">authorization-code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">challenge</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Request the authorization server grant an access token (and usually a refresh token also) given an
authorization code previously provided by <span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._request-authorization-code%29%29" class="RktValLink" data-pltdoc="x">request-authorization-code</a></span>.</div></p><p>From <a href="https://tools.ietf.org/html/rfc6749#section-4.1.3">The OAuth 2.0 Authorization
Framework</a>, &#167;4.1.3: <span class="emph">The authorization code grant type is used to obtain both access
tokens and refresh tokens and is optimized for confidential clients.
Since this is a redirection-based flow, the client must be capable of
interacting with the resource owner&rsquo;s user-agent (typically a web
browser) and capable of receiving incoming requests (via redirection)
from the authorization server.</span></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service granting
the token(s).</p></li><li><p><span class="RktVar">authorization-code</span> - a valid authorization code.</p></li><li><p><span class="RktVar">challenge</span> - (optional) a PKCE challenge structure, if <span class="RktVal">#f</span>
PKCE <span style="font-style: italic">will not</span> be used. See
 <a href="https://tools.ietf.org/html/rfc7636#section-4.5">Proof
Key for Code Exchange (PKCE) by OAuth Public Clients</a>, &#167;4.5.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._grant-token/implicit))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Fimplicit%29%29" class="RktValDef RktValLink" data-pltdoc="x">grant-token/implicit</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">client</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">scopes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:state</span><span class="hspace">&nbsp;</span><span class="RktVar">state</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:audience</span><span class="hspace">&nbsp;</span><span class="RktVar">audience</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">scopes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">audience</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">From <a href="https://tools.ietf.org/html/rfc6749#section-4.2.1">The
OAuth 2.0 Authorization Framework</a>, &#167;4.2.1:
<span class="emph">The implicit grant type is used to obtain access tokens (it does not
   support the issuance of refresh tokens) and is optimized for public
   clients known to operate a particular redirection URI. ...

Unlike the authorization code grant type, in which the client makes
   separate requests for authorization and for an access token, the
   client receives the access token as the result of the authorization
   request.</span></div></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">scopes</span> - a set of scopes to which we are requesting access.</p></li><li><p><span class="RktVar">state</span> - (optional) a state value, returned to the redirect
server for request/response correlation.</p></li><li><p><span class="RktVar">audience</span> - (optional) a non-standard value used by some services
to denote the API set to which access is requested. if <span class="RktVal">#f</span>
this parameter <span style="font-style: italic">will not</span> be sent.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._grant-token/from-owner-credentials))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-owner-credentials%29%29" class="RktValDef RktValLink" data-pltdoc="x">grant-token/from-owner-credentials</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">client</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">username</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">password</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">username</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">password</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">From <a href="https://tools.ietf.org/html/rfc6749#section-4.3.2">The OAuth 2.0 Authorization
Framework</a>, &#167;4.3.2:
<span class="emph">The resource owner password credentials grant type is suitable in
   cases where the resource owner has a trust relationship with the
   client, such as the device operating system or a highly privileged
   application. ...

This grant type is suitable for clients capable of obtaining the
   resource owner&rsquo;s credentials (username and password, typically using
   an interactive form).  It is also used to migrate existing clients
   using direct authentication schemes such as HTTP Basic or Digest
   authentication to OAuth by converting the stored credentials to an
   access token.</span></div></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">username</span> - the name of the resource owner being authorized.</p></li><li><p><span class="RktVar">password</span> - the password for the resource owner being authorized.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._grant-token/from-client-credentials))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-client-credentials%29%29" class="RktValDef RktValLink" data-pltdoc="x">grant-token/from-client-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">client</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">From <a href="https://tools.ietf.org/html/rfc6749#section-4.4.2">The OAuth 2.0 Authorization
Framework</a>, &#167;4.4.2:
<span class="emph">The client can request an access token using only its client
credentials (or other supported means of authentication) when the
client is requesting access to the protected resources under its
control, or those of another resource owner that have been previously
arranged with the authorization server (the method of which is beyond
the scope of this specification).</span></div></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._grant-token/extension))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Fextension%29%29" class="RktValDef RktValLink" data-pltdoc="x">grant-token/extension</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">client</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">grant-type-urn</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">parameters</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">grant-type-urn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parameters</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fhash..rkt%2529._hash%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">From <a href="https://tools.ietf.org/html/rfc6749#section-4.5">The OAuth 2.0 Authorization
Framework</a>, &#167;4.5: <span class="emph">The client uses an extension grant type by specifying the grant type
using an absolute URI (defined by the authorization server) as the
value of the "grant_type" parameter of the token endpoint, and by
adding any additional parameters necessary.</span></div></p><p>Note that the <span class="RktVar">grant-type-urn</span> <span style="font-weight: bold">should</span> be a registered IETF value
according to <a href="https://tools.ietf.org/html/rfc6755">An IETF URN Sub-Namespace for OAuth</a>,
but the only validation the client performs is that it starts with the prefix
value <span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._oauth-grant-type-urn%29%29" class="RktValLink" data-pltdoc="x">oauth-grant-type-urn</a></span>.</p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">grant-type-urn</span> - the absolute URI (actually verifies it as a URN)
that identifies the <span class="stt">grant_type</span> extension.</p></li><li><p><span class="RktVar">parameters</span> - (optional) a mapping of symbols that represent grant
parameter names and string values.</p></li></ul><p><span style="font-weight: bold">Example SAML 2.0 extension</span></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Fextension%29%29" class="RktValLink" data-pltdoc="x">grant-token/extension</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">client</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">"urn:ietf:params:oauth:grant_type:saml2-bearer"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">assertion</span><span class="hspace">&nbsp;</span><span class="RktVal">"PEFzc2VydGlvbiBJc3N1ZUluc3RhbnQ9Ij...IwMTEtMDU"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._oauth2/client..rkt)._oauth-namespace-urn))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._oauth-namespace-urn%29%29" class="RktValDef RktValLink" data-pltdoc="x">oauth-namespace-urn</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._oauth2/client..rkt)._oauth-grant-type-urn))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._oauth-grant-type-urn%29%29" class="RktValDef RktValLink" data-pltdoc="x">oauth-grant-type-urn</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">These values represent the IETF registered URN prefixes for extension values
used to add methods to OAuth. See <span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Fextension%29%29" class="RktValLink" data-pltdoc="x">grant-token/extension</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._refresh-token))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._refresh-token%29%29" class="RktValDef RktValLink" data-pltdoc="x">refresh-token</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span><span class="RktVar">token</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="emph">Access tokens</span> are returned to the client along with an expiration duration, thus
they periodically become unusable when they expire. If the authorization server
also provided a <span class="emph">refresh token</span> it may be used to generate a new access token, with
a new expiration duration.</div></p><p>From <a href="https://tools.ietf.org/html/rfc6749#section-6">The OAuth 2.0 Authorization
Framework</a>, &#167;6: <span class="emph">If the authorization server issued a refresh token to the client, the
client makes a refresh request to the token endpoint</span>. Note that the token endpoint is the
  same used for access grants above.</p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">token</span> - the token structure, the <span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token-refresh-token%29%29" class="RktValLink" data-pltdoc="x">token-refresh-token</a></span> value
will be used to generate a new <span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token-access-token%29%29" class="RktValLink" data-pltdoc="x">token-access-token</a></span> value.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._revoke-token))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._revoke-token%29%29" class="RktValDef RktValLink" data-pltdoc="x">revoke-token</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span><span class="RktVar">token</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">token-type-hint</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token-type-hint</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">From <a href="https://tools.ietf.org/html/rfc7009#section-2.1">OAuth 2.0 Token Revocation</a>,
  &#167;2.1:
<span class="emph">The OAuth 2.0 core specification [RFC6749] defines several ways for a
client to obtain refresh and access tokens.  This specification
supplements the core specification with a mechanism to revoke both
types of tokens.  A token is a string representing an authorization
grant issued by the resource owner to the client.  A revocation
request will invalidate the actual token and, if applicable, other
tokens based on the same authorization grant and the authorization
grant itself.</span></div></p><p><span class="emph">Implementations MUST support the revocation of refresh tokens and
SHOULD support the revocation of access tokens</span></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">token</span> - the token to revoke.</p></li><li><p><span class="RktVar">token-type-hint</span> - (optional) determines the type of token to send to the server.
One of <span class="RktVal">'</span><span class="RktVal">access-token</span> or <span class="RktVal">'</span><span class="RktVal">refresh-token</span>.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._introspect-token))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._introspect-token%29%29" class="RktValDef RktValLink" data-pltdoc="x">introspect-token</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">client</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">token</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">token-type-hint</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528def._%2528%2528lib._json%252Fmain..rkt%2529._jsexpr%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">jsexpr?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token-type-hint</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">From <a href="https://tools.ietf.org/html/rfc7662#section-2.1">OAuth 2.0 Token Introspection</a>,
  &#167;2.1: <span class="emph">This specification defines a protocol that allows authorized
protected resources to query the authorization server to determine
the set of metadata for a given token that was presented to them by
an OAuth 2.0 client.  This metadata includes whether or not the token
is currently active (or if it has expired or otherwise been revoked),
what rights of access the token carries (usually conveyed through
OAuth 2.0 scopes), and the authorization context in which the token
was granted (including who authorized the token and which client it
was issued to).  Token introspection allows a protected resource to
query this information regardless of whether or not it is carried in
the token itself, allowing this method to be used along with or
independently of structured token values.  Additionally, a protected
resource can use the mechanism described in this specification to
introspect the token in a particular authorization decision context
and ascertain the relevant metadata about the token to make this
authorization decision appropriately.</span></div></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">token</span> - the token to introspect.</p></li><li><p><span class="RktVar">token-type-hint</span> - (optional) determines the type of token to send to the server.
One of <span class="RktVal">'</span><span class="RktVal">access-token</span> or <span class="RktVal">'</span><span class="RktVal">refresh-token</span>.</p></li></ul><h5 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Resource_Access&quot;">2.1.3<tt>&nbsp;</tt><a name="(part._.Resource_.Access)"></a>Resource Access</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._resource-sendrecv))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._resource-sendrecv%29%29" class="RktValDef RktValLink" data-pltdoc="x">resource-sendrecv</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">resource-uri</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">token</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:method</span><span class="hspace">&nbsp;</span><span class="RktVar">method</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:data</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">resource-uri</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">method</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"GET"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Make a request to a resource server, protected by <span class="RktVar">token</span>, and return the result. The
results are in the form of a four-part list <span style="font-style: italic">(http-code http-message response-headers
response-body)</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._make-authorization-header))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._make-authorization-header%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-authorization-header</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">token</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">token</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Create a valid HTTP authorization header, as a byte string, from the provided <span class="RktVar">token</span> value.
See <a href="https://tools.ietf.org/html/rfc7662#section-7.1">OAuth 2.0 Token Introspection</a>,
  &#167;7.1:</div></p><h5 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Parameter_Creation&quot;">2.1.4<tt>&nbsp;</tt><a name="(part._.Parameter_.Creation)"></a>Parameter Creation</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._create-random-state))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._create-random-state%29%29" class="RktValDef RktValLink" data-pltdoc="x">create-random-state</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">bytes</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bytes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">16</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a random string that can be used as the <span class="RktSym">state</span> parameter in authorization requests.
The random bytes are formatted as a byte string and safe for URL encoding.</div></p><h5 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Response_Error_Handling&quot;">2.1.5<tt>&nbsp;</tt><a name="(part._.Response_.Error_.Handling)"></a>Response Error Handling</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._register-error-transformer))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._register-error-transformer%29%29" class="RktValDef RktValLink" data-pltdoc="x">register-error-transformer</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528def._%2528%2528lib._json%252Fmain..rkt%2529._jsexpr%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">jsexpr?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contmarks.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._continuation-mark-set%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">continuation-mark-set?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._exn~3afail~3aoauth2%29%29" class="RktValLink" data-pltdoc="x">exn:fail:oauth2</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Specifically for services that do not follow the standard error response format in
<a href="https://tools.ietf.org/html/rfc6749#section-4.1.2.1">The OAuth 2.0 Authorization
Framework</a>, &#167;4.1.2.1 (or other sections titled Error Response). A client may register an
error transformer that will be passed any non-standard JSON error responses from calls to
the registered URL, to transform into an <span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._exn~3afail~3aoauth2%29%29" class="RktValLink" data-pltdoc="x">exn:fail:oauth2</a></span> exception.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fitbit-error-handler</span><span class="hspace">&nbsp;</span><span class="RktSym">uri</span><span class="hspace">&nbsp;</span><span class="RktSym">json-body</span><span class="hspace">&nbsp;</span><span class="RktSym">cm</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._hash-has-key%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash-has-key?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">json-body</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">errors</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">json-error</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash-ref%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">json-body</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">errors</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._make-exn~3afail~3aoauth2%29%29" class="RktValLink" data-pltdoc="x">make-exn:fail:oauth2</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash-ref%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">json-error</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">errorType</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">unknown</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash-ref%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">json-error</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">message</span><span class="hspace">&nbsp;</span><span class="RktVal">""</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">uri</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">""</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">cm</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._register-error-transformer%29%29" class="RktValLink" data-pltdoc="x">register-error-transformer</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client-authorization-uri%29%29" class="RktValLink" data-pltdoc="x">client-authorization-uri</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fitbit-client</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym">fitbit-error-handler</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client..rkt)._deregister-error-transformer))"></a><span title="Provided from: oauth2/client | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._deregister-error-transformer%29%29" class="RktValDef RktValLink" data-pltdoc="x">deregister-error-transformer</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This procedure removes any error transformer associated with <span class="RktVar">url</span>.</div></p><h4 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Module_oauth2_client_flow_&quot;">2.2<tt>&nbsp;</tt><a name="(part._.Module_oauth2_client_flow_)"></a><a name="(mod-path._oauth2/client/flow)"></a>Module oauth2/client/flow.</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._oauth2%2Fclient%2Fflow%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">oauth2/client/flow</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/simple-oauth2" title="Install this package using `raco pkg install simple-oauth2`"><span class="stt">simple-oauth2</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client/flow..rkt)._initiate-code-flow))"></a><span title="Provided from: oauth2/client/flow | Package: simple-oauth2"><span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient%2Fflow..rkt%29._initiate-code-flow%29%29" class="RktValDef RktValLink" data-pltdoc="x">initiate-code-flow</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">client</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">scopes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:user-name</span><span class="hspace">&nbsp;</span><span class="RktVar">user-name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:state</span><span class="hspace">&nbsp;</span><span class="RktVar">state</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:challenge</span><span class="hspace">&nbsp;</span><span class="RktVar">challenge</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:audience</span><span class="hspace">&nbsp;</span><span class="RktVar">audience</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._token~3f%29%29" class="RktValLink" data-pltdoc="x">token?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">client</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Common_Definitions.html#%28def._%28%28lib._oauth2%2Fmain..rkt%29._client~3f%29%29" class="RktValLink" data-pltdoc="x">client?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">scopes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">user-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">challenge</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">pkce?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">audience</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">TBD</div></p><ul><li><p><span class="RktVar">client</span> - the client configuration for the service performing
the authorization.</p></li><li><p><span class="RktVar">scopes</span> - a set of scopes to which we are requesting access.</p></li><li><p><span class="RktVar">state</span> - (optional) a state value, returned to the redirect
server for request/response correlation.</p></li><li><p><span class="RktVar">user-name</span> - (optional) the user name to record the token under; if
<span class="RktVal">#f</span> then the value of <span class="RktSym">get-current-user-name</span> will be used.</p></li><li><p><span class="RktVar">challenge</span> - (optional) a PKCE challenge structure, if <span class="RktVal">#f</span>
PKCE <span style="font-style: italic">will not</span> be used.</p></li><li><p><span class="RktVar">audience</span> - (optional) a non-standard value used by some services
to denote the API set to which access is requested. if <span class="RktVal">#f</span>
this parameter <span style="font-style: italic">will not</span> be sent.</p></li></ul><h4 x-source-module="(lib &quot;oauth2/scribblings/simple-oauth2.scrbl&quot;)" x-source-pkg="simple-oauth2" x-part-tag="&quot;Module_oauth2_client_pkce_&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Module_oauth2_client_pkce_)"></a><a name="(mod-path._oauth2/client/pkce)"></a>Module oauth2/client/pkce.</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._oauth2%2Fclient%2Fpkce%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">oauth2/client/pkce</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/simple-oauth2" title="Install this package using `raco pkg install simple-oauth2`"><span class="stt">simple-oauth2</span></a></span></td></tr></table></p><p>This module simply provides the constructor for challenge values as specified in
<a href="https://tools.ietf.org/html/rfc7636">RFC7636 - Proof Key for Code
Exchange (PKCE) by OAuth Public Clients</a>. PKCE structures may be used in the
<span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._request-authorization-code%29%29" class="RktValLink" data-pltdoc="x">request-authorization-code</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._oauth2%2Fclient..rkt%29._grant-token%2Ffrom-authorization-code%29%29" class="RktValLink" data-pltdoc="x">grant-token/from-authorization-code</a></span>
procedures.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._oauth2/client/pkce..rkt)._pkce-method))"></a><a name="(def._((lib._oauth2/client/pkce..rkt)._pkce-challenge))"></a><a name="(def._((lib._oauth2/client/pkce..rkt)._pkce-verifier))"></a><a name="(def._((lib._oauth2/client/pkce..rkt)._pkce~3f))"></a><a name="(def._((lib._oauth2/client/pkce..rkt)._struct~3apkce))"></a><a name="(def._((lib._oauth2/client/pkce..rkt)._pkce))"></a><span title="Provided from: oauth2/client/pkce | Package: simple-oauth2"><span class="RktSym"><span class="RktSymDef RktSym">pkce</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">verifier</span><span class="stt"> </span><span class="RktSym">challenge</span><span class="stt"> </span><span class="RktSym">method</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">verifier</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">challenge</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">method</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"plain"</span><span class="hspace">&nbsp;</span><span class="RktVal">"S256"</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Values of <span class="RktSym">pkce?</span> are constructed only by <span class="RktSym">create-challenge</span> (there is
no <span class="stt">make-pkce</span> procedure) and represent the PKCE challenge details.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client/pkce..rkt)._create-challenge))"></a><span title="Provided from: oauth2/client/pkce | Package: simple-oauth2"><span class="RktSym"><span class="RktSymDef RktSym">create-challenge</span></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">a-verifier</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">pkce?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-verifier</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a structure that represents the components of a PKCE
challenge. The <span class="RktVar">a-verifier</span> value (defined as a <span class="emph">high-entropy cryptographic
random STRING</span>) can be used as the seed string, if not specified a random
byte string is generated.</div></p><p>The following is the specified challenge construction approach from
<a href="https://tools.ietf.org/html/rfc7636#section-4.1">RFC7636</a>, &#167;4.1.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">code_challenge = BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))</span></p></td></tr><tr><td><p><span class="stt">code-verifier</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">= 43*128unreserved</span></p></td></tr><tr><td><p><span class="stt">unreserved</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">= ALPHA / DIGIT / "-" / "." / "_" / "~"</span></p></td></tr><tr><td><p><span class="stt">ALPHA</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">= %x41-5A / %x61-7A</span></p></td></tr><tr><td><p><span class="stt">DIGIT</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">= %x30-39</span></p></td></tr></table></p><p>Also, note that while the value <span class="stt">"plain"</span> is a valid <span class="RktSym">method</span> according to the PKCE RFC
<span style="font-weight: bold">at this time</span> it is not used in this implementation, <span style="font-weight: bold">only</span> the value
<span class="stt">"S256"</span> will be used.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._oauth2/client/pkce..rkt)._verifier-char~3f))"></a><span title="Provided from: oauth2/client/pkce | Package: simple-oauth2"><span class="RktSym"><span class="RktSymDef RktSym">verifier-char?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ch</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ch</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any?</span></td></tr></table></blockquote></div><div class="SIntrapara">Implements the <span class="stt">unreserved</span> rule from the construction rules above.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Common_Definitions.html" title="backward to &quot;1 Common Definitions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Package simple-oauth2.&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Configuration_and_Client_Persistence.html" title="forward to &quot;3 Configuration and Client Persistence&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/simple-oauth2/OAuth_2_0_Client.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:25 GMT -->
</html>