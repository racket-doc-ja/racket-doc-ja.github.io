<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/chido-parse/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 02:57:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Chido Parse</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Chido Parse</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Guide%29" class="tocviewlink" data-pltdoc="x">Guide</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Reference%29" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Code_and_.License%29" class="tocviewlink" data-pltdoc="x">Code and License</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Chido Parse</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Guide%29" class="tocsubseclink" data-pltdoc="x">Guide</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Reference%29" class="tocsubseclink" data-pltdoc="x">Reference</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Gotchas%29" class="tocsubseclink" data-pltdoc="x">Gotchas</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Core_.A.P.I%29" class="tocsubseclink" data-pltdoc="x">Core API</a></td></tr><tr><td><span class="tocsublinknumber">2.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Parsing_.Functions%29" class="tocsubseclink" data-pltdoc="x">Parsing Functions</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">whole-<wbr></wbr>parse*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">whole-<wbr></wbr>parse</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse*-<wbr></wbr>direct</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._delimit-parse%2A-direct%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">delimit-<wbr></wbr>parse*-<wbr></wbr>direct</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Parse_.Derivations%29" class="tocsubseclink" data-pltdoc="x">Parse Derivations</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>parse-<wbr></wbr>derivation</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>result</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-source-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>source-<wbr></wbr>name</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-line%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>line</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-column%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>column</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-start-position%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>start-<wbr></wbr>position</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-end-position%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>end-<wbr></wbr>position</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-subderivations%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>derivation-<wbr></wbr>subderivations</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Parse_.Failures%29" class="tocsubseclink" data-pltdoc="x">Parse Failures</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-failure%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>parse-<wbr></wbr>failure</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>failure?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._exn-~3efailure%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn-<wbr></wbr>&gt;failure</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Flocation-triple%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>failure-<wbr></wbr>&gt;string/<span class="mywbr"> &nbsp;</span>location-<wbr></wbr>triple</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fsimple%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>failure-<wbr></wbr>&gt;string/<span class="mywbr"> &nbsp;</span>simple</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fmessage%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>failure-<wbr></wbr>&gt;string/<span class="mywbr"> &nbsp;</span>message</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fchain%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>failure-<wbr></wbr>&gt;string/<span class="mywbr"> &nbsp;</span>chain</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Ftree%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>failure-<wbr></wbr>&gt;string/<span class="mywbr"> &nbsp;</span>tree</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-keep-multiple-failures~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>parse-<wbr></wbr>keep-<wbr></wbr>multiple-<wbr></wbr>failures?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.4<tt>&nbsp;</tt></span><a href="#%28part._.Chido_.Parse_.Parameters%29" class="tocsubseclink" data-pltdoc="x">Chido Parse Parameters</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>parse-<wbr></wbr>parameter?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>parse-<wbr></wbr>parameter</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameterize%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">chido-<wbr></wbr>parse-<wbr></wbr>parameterize</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.5<tt>&nbsp;</tt></span><a href="#%28part._.Stream_construction%29" class="tocsubseclink" data-pltdoc="x">Stream construction</a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">parse-<wbr></wbr>stream-<wbr></wbr>cons</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> &nbsp;</span>parse</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.6<tt>&nbsp;</tt></span><a href="#%28part._.Parsers_and_core_parser_constructors%29" class="tocsubseclink" data-pltdoc="x">Parsers and core parser constructors</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parser?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">proc-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">proc-<wbr></wbr>parser?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">alt-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">alt-<wbr></wbr>parser?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._non-cached-parser-thunk%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">non-<wbr></wbr>cached-<wbr></wbr>parser-<wbr></wbr>thunk</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._prop~3acustom-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">prop:<span class="mywbr"> &nbsp;</span>custom-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parser-<wbr></wbr>name</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-prefix%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parser-<wbr></wbr>prefix</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-potentially-left-recursive~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parser-<wbr></wbr>potentially-<wbr></wbr>left-<wbr></wbr>recursive?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-potentially-null~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parser-<wbr></wbr>potentially-<wbr></wbr>null?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Literal_.Parsers%29" class="tocsubseclink" data-pltdoc="x">Literal Parsers</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._eof-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">eof-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._any-char-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">any-<wbr></wbr>char-<wbr></wbr>parser</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Combinators%29" class="tocsubseclink" data-pltdoc="x">Combinators</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sequence</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._repetition%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">repetition</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._kleene-star%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">kleene-<wbr></wbr>star</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._kleene-plus%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">kleene-<wbr></wbr>plus</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._kleene-question%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">kleene-<wbr></wbr>question</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._permutation%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">permutation</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._epsilon-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">epsilon-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._not-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">not-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._peek-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">peek-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._char-range-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">char-<wbr></wbr>range-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._regexp-~3eparser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">regexp-<wbr></wbr>&gt;parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._as-syntax%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">as-<wbr></wbr>syntax</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._wrap-derivation%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">wrap-<wbr></wbr>derivation</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._binding-sequence%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">binding-<wbr></wbr>sequence</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Filters%29" class="tocsubseclink" data-pltdoc="x">Filters</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-filter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">parse-<wbr></wbr>filter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._not-follow-filter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">not-<wbr></wbr>follow-<wbr></wbr>filter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._must-follow-filter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">must-<wbr></wbr>follow-<wbr></wbr>filter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._derivation-filter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">derivation-<wbr></wbr>filter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._result-filter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">result-<wbr></wbr>filter</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.5<tt>&nbsp;</tt></span><a href="#%28part._chido-readtables%29" class="tocsubseclink" data-pltdoc="x">Chido-<wbr></wbr>Readtable Parsers</a></td></tr><tr><td><span class="tocsublinknumber">2.5.1<tt>&nbsp;</tt></span><a href="#%28part._chido-readtable_objects%29" class="tocsubseclink" data-pltdoc="x">chido-<wbr></wbr>readtable objects</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>chido-<wbr></wbr>readtable</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._empty-chido-readtable%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">empty-<wbr></wbr>chido-<wbr></wbr>readtable</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.5.2<tt>&nbsp;</tt></span><a href="#%28part._.Variations_on_chido-readtable_parsers%29" class="tocsubseclink" data-pltdoc="x">Variations on chido-<wbr></wbr>readtable parsers</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread1%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>&gt;read1</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread1%2Flayout%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>&gt;read1/<span class="mywbr"> &nbsp;</span>layout</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>&gt;read*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread%2B%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>&gt;read+</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout1%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>&gt;layout1</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>&gt;layout*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout%2B%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>&gt;layout+</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-read1-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>chido-<wbr></wbr>readtable-<wbr></wbr>read1-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-layout%2A-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>chido-<wbr></wbr>readtable-<wbr></wbr>layout*-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-layout%2B-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>chido-<wbr></wbr>readtable-<wbr></wbr>layout+<span class="mywbr"> &nbsp;</span>-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-symbol-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>chido-<wbr></wbr>readtable-<wbr></wbr>symbol-<wbr></wbr>parser</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.5.3<tt>&nbsp;</tt></span><a href="#%28part._.Extending_and_modifying_chido-readtables%29" class="tocsubseclink" data-pltdoc="x">Extending and modifying chido-<wbr></wbr>readtables</a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-effect%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>symbol-<wbr></wbr>effect/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._extend-chido-readtable%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">extend-<wbr></wbr>chido-<wbr></wbr>readtable</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._extend-chido-readtable%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">extend-<wbr></wbr>chido-<wbr></wbr>readtable*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-list-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>add-<wbr></wbr>list-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-raw-string-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>add-<wbr></wbr>raw-<wbr></wbr>string-<wbr></wbr>parser</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-mixfix-operator%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>add-<wbr></wbr>mixfix-<wbr></wbr>operator</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._set-chido-readtable-symbol-result-transformer%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">set-<wbr></wbr>chido-<wbr></wbr>readtable-<wbr></wbr>symbol-<wbr></wbr>result-<wbr></wbr>transformer</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._set-chido-readtable-symbol-support%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">set-<wbr></wbr>chido-<wbr></wbr>readtable-<wbr></wbr>symbol-<wbr></wbr>support</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-support~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>symbol-<wbr></wbr>support?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-blacklist-symbols%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>blacklist-<wbr></wbr>symbols</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chido-<wbr></wbr>readtable-<wbr></wbr>name</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._set-chido-readtable-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">set-<wbr></wbr>chido-<wbr></wbr>readtable-<wbr></wbr>name</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.6<tt>&nbsp;</tt></span><a href="#%28part._.B.N.F_.D.S.L%29" class="tocsubseclink" data-pltdoc="x">BNF DSL</a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>bnf-<wbr></wbr>arm</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._readtable-extend-as-bnf-arm%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">readtable-<wbr></wbr>extend-<wbr></wbr>as-<wbr></wbr>bnf-<wbr></wbr>arm</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>bnf</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">bnf-<wbr></wbr>parser?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser-~3ewith-surrounding-layout%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">bnf-<wbr></wbr>parser-<wbr></wbr>&gt;with-<wbr></wbr>surrounding-<wbr></wbr>layout</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser-~3earm-parser%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">bnf-<wbr></wbr>parser-<wbr></wbr>&gt;arm-<wbr></wbr>parser</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.7<tt>&nbsp;</tt></span><a href="#%28part._.T.O.D.O%29" class="tocsubseclink" data-pltdoc="x">TODO</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Code_and_.License%29" class="tocsubseclink" data-pltdoc="x">Code and License</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Chido_.Parse)"></a>Chido Parse</h2><p>William Hatch &lt;<a href="mailto:william@hatch.uno">william@hatch.uno</a>&gt;</p><h3 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Guide&quot;">1<tt>&nbsp;</tt><a name="(part._.Guide)"></a>Guide</h3><p>NOTE - chido-parse is NOT YET STABLE, and APIs may change.</p><p>Chido Parse is an expressive, extensible, composable parsing system.
It allows users to build and compose parsers using any mix of ad-hoc procedural parsing, parser combinators, and other parsing abstractions and interfaces, such as readtables and BNF.
It allows ambiguous grammars, but provides tools to filter ambiguity, including declarative operator associativity and precidence rules in readtables and BNF rules.
Chido Parse supports context-sensitive grammars, including data-dependent grammars, in addition to supporting the entire class of context-free grammars.</p><p>Chido Parse is also... slow.
So until and unless it can be optimized about 1 order of magnitude faster, I don&rsquo;t expect people to really use it except for quick prototyping.
If it gets 1 order of magnitude faster it will still be slow, but probably faster than macro expansion (at least for s-expression based languages), which will make it viable for projects where extensible and composable concrete syntax extension is as important as macro-based extension.
But if you want fast compilation... look elsewhere.</p><p>You can use Chido Parse by constructing parser objects and then using <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="RktValLink" data-pltdoc="x">whole-parse</a></span> to parse your input.
The simplest kind of parser to use is a literal string, and you can easily use combinators like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span>.</p><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="stt"> </span><span class="RktSym">abc-d</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="RktValLink" data-pltdoc="x">whole-parse</a></span><span class="stt"> </span><span class="RktVal">"abc"</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span><span class="stt"> </span><span class="RktVal">"a"</span><span class="stt"> </span><span class="RktVal">"b"</span><span class="stt"> </span><span class="RktVal">"c"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>The above code will return a derivation object.  We can get a semantic result out with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span>:</p><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span><span class="stt"> </span><span class="RktSym">abc-d</span><span class="RktPn">)</span></p><p>Which will return <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="stt"> </span><span class="RktVal">"b"</span><span class="stt"> </span><span class="RktVal">"c"</span><span class="RktVal">)</span>.</p><p>One of the key features of Chido Parse is its support for procedural parsers.
Parsing procedures take a port and return either a derivation or a parse failure.
To use them as parsers, you need to wrap them with the <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span> struct.
We can easily re-use existing parsers this way.</p><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">port</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="RktValLink" data-pltdoc="x">make-parse-derivation</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Reading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._read-syntax%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">read-syntax</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=inspectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._object-name%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">object-name</a></span><span class="stt"> </span><span class="RktSym">port</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">port</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>Actually, procedural parsers can return a <span class="RktSym">stream</span> tree of parse derivations and failures.
This allows them to support ambiguous grammars.
However, result streams for Chido Parse should be constructed with <span class="RktSym">stream-cons</span> or <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxLink" data-pltdoc="x">for/parse</a></span>, unless you know what you&rsquo;re doing.</p><p>Procedural parsers can recur back into the parsing system by using <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>.
<span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span> is like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="RktValLink" data-pltdoc="x">whole-parse</a></span>, except that it doesn&rsquo;t have to consume the whole input and it returns a stream of derivations.
Note that <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="RktValLink" data-pltdoc="x">whole-parse</a></span> actually returns a parse failure if there is more than one derivation.
If you want multiple results from a top-level parse, you can use <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%2A%29%29" class="RktValLink" data-pltdoc="x">whole-parse*</a></span>.
While parsers can return a tree of streams, they are flattened and <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%2A%29%29" class="RktValLink" data-pltdoc="x">whole-parse*</a></span> return a stream whose members are all <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span> objects.</p><p>For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">plus</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">port</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxLink" data-pltdoc="x">for/parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">l</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxLink" data-pltdoc="x">for/parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktVal">"+"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:start</span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxLink" data-pltdoc="x">for/parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span><span class="hspace">&nbsp;</span><span class="RktPn">#:start</span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="RktValLink" data-pltdoc="x">make-parse-derivation</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:derivations</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Note that <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span> does not actually consume input from the port, so successive parses need the <span class="RktPn">#:start</span> keyword.
But there&rsquo;s an easier way.
Instead of <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>, you can use <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span>, which uses delimited continuation magic to loop over a stream while looking like straight-line code:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">plus</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">port</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktVal">"+"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="RktValLink" data-pltdoc="x">make-parse-derivation</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:derivations</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Note that if we define the expression parser like so:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser%29%29" class="RktValLink" data-pltdoc="x">alt-parser</a></span><span class="hspace">&nbsp;</span><span class="RktSym">plus</span><span class="hspace">&nbsp;</span><span class="RktSym">number</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">number</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._kleene-plus%29%29" class="RktValLink" data-pltdoc="x">kleene-plus</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._char-range-parser%29%29" class="RktValLink" data-pltdoc="x">char-range-parser</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"09"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3enumber%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;number</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ds</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>It turns out that our procedural plus parser is left-recursive!
Everybody knows that if you make a left-recursive procedural parser you get infinite recursion!
But not in Chido Parse.
Chido Parse dynamically detects left-recursive dependency cycles and resolves them by capturing and descheduling first-class delimited continuations.
When a cycle occurs, Chido Parse saves the continuation, finds other work, and then applies the continuation to a result when one is available from a different alternate.
If there is no alternate that can make progress, Chido Parse breaks the cycle by returning a failure result to the left-recursive parser.
Failing cycles this way is mostly so the parser can compute a good failure message, but conceivably you could implement a biased alternate this way.
However, at present Chido Parse doesn&rsquo;t guarantee any order to cycle breaking, so don&rsquo;t.</p><p>Chido Parse also has BNF forms, of course:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf%29%29" class="RktStxLink" data-pltdoc="x">define-bnf</a></span><span class="hspace">&nbsp;</span><span class="RktSym">dumb-statement-parser</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">statement</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVal">"pass"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">"for"</span><span class="hspace">&nbsp;</span><span class="RktSym">id</span><span class="hspace">&nbsp;</span><span class="RktVal">"in"</span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span><span class="hspace">&nbsp;</span><span class="RktVal">"do"</span><span class="hspace">&nbsp;</span><span class="RktSym">statement</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">"{"</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">#:repeat-min</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">#:splice</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym">statement</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVal">"}"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVal">"block"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">expression</span><span class="RktPn">]</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">expression</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">number-parser</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">id</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">expression</span><span class="hspace">&nbsp;</span><span class="RktVal">"+"</span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span><span class="hspace">&nbsp;</span><span class="RktPn">#:associativity</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">left</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">expression</span><span class="hspace">&nbsp;</span><span class="RktVal">"*"</span><span class="hspace">&nbsp;</span><span class="RktSym">expression</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:associativity</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">right</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:precedence-greater-than</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"+"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Obviously this is a bad identifier parser, but I'm making dumb examples in a hurry.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">id</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">#:repeat-min</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">char-range</span><span class="hspace">&nbsp;</span><span class="RktVal">"az"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote><p>The <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf%29%29" class="RktStxLink" data-pltdoc="x">define-bnf</a></span> form has a bunch of optional arguments for specifying automatic layout insertion (IE allowing whitespace between things).
Note that these things are all just parsers.
You can use a procedural parser anywhere in your BNF definition, you can stick a BNF parser in a combinator, etc.</p><p>Of course, the real reason I started Chido Parse was because I wanted better readtables.
So Chido Parse has a readtable-style abstraction for making and extending fancy s-expression parsers.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cool-s-exp</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-list-parser%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-list-parser</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"$("</span><span class="hspace">&nbsp;</span><span class="RktVal">")"</span><span class="hspace">&nbsp;</span><span class="RktSym">basic-chido-readtable</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:wrap</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#%dollar-paren</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Now <span class="stt">cool-s-exp</span> can parse</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(foo bar $(quux flub) zonkers)</span></p></td></tr></table></p><p>as <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">foo</span><span class="stt"> </span><span class="RktVal">bar</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">#%dollar-paren</span><span class="stt"> </span><span class="RktVal">quux</span><span class="stt"> </span><span class="RktVal">flub</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">zonkers</span><span class="RktVal">)</span></p><p>Chido readtables support infix/prefix/postfix operators as well as the kinds of extensions that Racket&rsquo;s normal readtables support.
Chido readtables support arbitrary-length prefixes unlike Racket readtables with their single character prefix..</p><p>Chido readtables and BNF parsers can be extended, eg. with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._extend-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">extend-chido-readtable</a></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">extend-bnf</span></span></span>.
BNF parsers are actually made out of readtables, and you can do <span class="RktSym">extend-readtable-as-bnf</span>.</p><p>Parsers can be extended, modified, or loaded dynamically.
Eg. you can use <span class="RktSym">extend-readtable</span> during parsing, and you can create parsers like Racket&rsquo;s built-in <span class="stt">#reader</span> form.
All these fancy parsing abstractions are built out of procedural parsers.
If there is another parsing abstraction you know of and like, you can build that abstraction too!</p><p>This is clearly a bad guide, but I wanted to write at least something real quick.</p><p>TODO - write a better guide.</p><h3 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Reference&quot;">2<tt>&nbsp;</tt><a name="(part._.Reference)"></a>Reference</h3><p>NOTE - chido-parse is NOT YET STABLE, and APIs may change.</p><h4 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Gotchas&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Gotchas)"></a>Gotchas</h4><p>Don&rsquo;t use <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._parameter%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">parameter?</a></span>s, use <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-parameter?</a></span>s.
Don&rsquo;t use <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528form._%2528%2528lib._racket%252Fstream..rkt%2529._stream-cons%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">stream-cons</a></span> or other stream constructors, use <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="RktStxLink" data-pltdoc="x">parse-stream-cons</a></span> and its derivatives provided by Chido Parse.</p><h4 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Core_API&quot;">2.2<tt>&nbsp;</tt><a name="(part._.Core_.A.P.I)"></a>Core API</h4><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Parsing_Functions&quot;">2.2.1<tt>&nbsp;</tt><a name="(part._.Parsing_.Functions)"></a>Parsing Functions</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse*))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:start</span><span class="hspace">&nbsp;</span><span class="RktVar">start</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._stream%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stream?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">start</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Parse the <span class="RktVar">input</span> with <span class="RktVar">parser</span>.
If <span class="RktVar">start</span> is <span class="RktVal">#f</span>, start at the current port position (at the beginning if <span class="RktVar">input</span> is a string).
Returns a stream of parse derivations.
The empty stream element is a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span> instead of the vanilla <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._empty-stream%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">empty-stream</a></span>.</div></p><p>If this is the first call into the parsing system, the input port is actually replaced for inner parses with a wrapper that can be rewound for multiple ambiguous parses.
In any event, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span> does NOT change the current position of the port.
If you do a series of parses with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>, you should pass the previous derivation as the start position to the next call of <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>.
Realistically, within a parser <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span> should only be used in tail position or in combination with <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxLink" data-pltdoc="x">for/parse</a></span>.
For a more convenient function for use within parsers, see <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span>.</p><p>This is technically the core parsing function, but you probably want to use <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="RktValLink" data-pltdoc="x">whole-parse</a></span> or <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%2A%29%29" class="RktValLink" data-pltdoc="x">whole-parse*</a></span> for the initial parse, and <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span> inside parsers.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span><span class="RktVar">parser</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>, but:
</div><div class="SIntrapara"><ul><li><p>You can&rsquo;t set the start position: it always starts at the port position.</p></li><li><p>If the result of <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span> would be a stream with more than one derivation, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%29%29" class="RktValLink" data-pltdoc="x">parse</a></span> returns a parse failure.  IE no ambiguity is allowed.</p></li><li><p>A successful parse moves the port position to the end of the derivation.</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._whole-parse*))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">whole-parse*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:start</span><span class="hspace">&nbsp;</span><span class="RktVar">start</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._stream%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stream?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">start</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>, but only returns results that consume the entire input (starting at <span class="RktVar">start</span> position).
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._whole-parse))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="RktValDef RktValLink" data-pltdoc="x">whole-parse</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span><span class="RktVar">parser</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%29%29" class="RktValLink" data-pltdoc="x">whole-parse</a></span> is to <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._whole-parse%2A%29%29" class="RktValLink" data-pltdoc="x">whole-parse*</a></span> as <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%29%29" class="RktValLink" data-pltdoc="x">parse</a></span> is to <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>.
Always starts at the current port position, only returns results that consume the entire input, and fails if the result is ambiguous.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse*-direct))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse*-direct</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">input</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:start</span><span class="hspace">&nbsp;</span><span class="RktVar">start</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:failure</span><span class="hspace">&nbsp;</span><span class="RktVar">failure-arg</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">start</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">failure-arg</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Can only be used inside a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span>.
  Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>, but it uses delimited continuation magic.
  The return to the call-site is always a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span>.
  However, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span> captures the current (delimited) continuation of the parser and returns a stream which applies the continuation to every derivation returned by <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>.
  The overall return of the parser will be the stream created by <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span>.
  You can use multiple calls to <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span> within a function and it will nest the streams appropriately.
  When <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span> returns, the port argument of the parsing procedure will be set to the end-position of the derivation returned, so you don&rsquo;t need to supply start positions to future calls of parse*-direct.</div></p><p><div class="SIntrapara">For example, here is a parser that parses the string <span class="RktVal">"abc"</span>.
  </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">abc-parser</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">port</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktVal">"c"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="RktValLink" data-pltdoc="x">make-parse-derivation</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-append</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:derivations</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>However, if you are doing some OTHER delimited continuation stuff or creating a stream of results using something other than <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="RktStxLink" data-pltdoc="x">parse-stream-cons</a></span> (or <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxLink" data-pltdoc="x">for/parse</a></span>), you may need to take care to use <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._delimit-parse%2A-direct%29%29" class="RktStxLink" data-pltdoc="x">delimit-parse*-direct</a></span> so the overall parse result is correct.</p><p><div class="SIntrapara">The <span class="RktVar">failure-arg</span> lets you synthesize a custom <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span>, giving the inner failure from the end of the <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span> stream to your function.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._delimit-parse*-direct))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._delimit-parse%2A-direct%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">delimit-parse*-direct</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This is automatically done upon executing a parsing procedure and by <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="RktStxLink" data-pltdoc="x">parse-stream-cons</a></span>, as well as by <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxLink" data-pltdoc="x">for/parse</a></span>.
If you use something else to construct a result stream, you need to manually use this to prevent <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span> from aborting out of your stream constructor and returning its own stream in its place.</div></p><p>But really just don&rsquo;t use something other than <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="RktStxLink" data-pltdoc="x">parse-stream-cons</a></span> (and its derivatives) to construct result streams!</p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Parse_Derivations&quot;">2.2.2<tt>&nbsp;</tt><a name="(part._.Parse_.Derivations)"></a>Parse Derivations</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._make-parse-derivation))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-parse-derivation</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">result</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:end</span><span class="hspace">&nbsp;</span><span class="RktVar">end</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:derivations</span><span class="hspace">&nbsp;</span><span class="RktVar">derivations</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">result</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">end</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">derivations</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Make a parse derivation.
Can only be called during the dynamic extent of a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span>.
If <span class="RktVar">end</span> is #f, it determines the end by calculating the maximum end position of the subderivations supplied.
If no subderivations are supplied and <span class="RktVar">end</span> is #f, it raises an error.</div></p><p>Result can be anything, but if it is a procedure it is assumed to be a delayed result.
The procedure should be of the form:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">src</span><span class="hspace">&nbsp;</span><span class="RktSym">line</span><span class="hspace">&nbsp;</span><span class="RktSym">col</span><span class="hspace">&nbsp;</span><span class="RktSym">pos</span><span class="hspace">&nbsp;</span><span class="RktSym">span</span><span class="hspace">&nbsp;</span><span class="RktVar">derivations</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._datum-%7E3esyntax%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">datum-&gt;syntax</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">my-result</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">src</span><span class="hspace">&nbsp;</span><span class="RktSym">line</span><span class="hspace">&nbsp;</span><span class="RktSym">col</span><span class="hspace">&nbsp;</span><span class="RktSym">pos</span><span class="hspace">&nbsp;</span><span class="RktSym">span</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for parse-derivations.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-result))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-result</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the result of a parse-derivation.  May force the supplied procedure, but the result is cached and only forced once.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-parser</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span> that was used to create <span class="RktVar">pd</span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-source-name))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-source-name%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-source-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the source name of the input used for parsing.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-line))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-line%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-line</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the line number of the derivation.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-column))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-column%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-column</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the column number of the derivation.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-start-position))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-start-position%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-start-position</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the start position number of the derivation.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-end-position))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-end-position%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-end-position</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the end position number of the derivation.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-derivation-subderivations))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-subderivations%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-derivation-subderivations</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pd</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the list of subderivations used in constructing <span class="RktVar">pd</span>.  Useful for filtering operator precedence and such.</div></p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Parse_Failures&quot;">2.2.3<tt>&nbsp;</tt><a name="(part._.Parse_.Failures)"></a>Parse Failures</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._make-parse-failure))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-failure%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-parse-failure</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:message</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:position</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:end</span><span class="hspace">&nbsp;</span><span class="RktVar">end</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:made-progress?</span><span class="hspace">&nbsp;</span><span class="RktVar">made-progress?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:inner-failure</span><span class="hspace">&nbsp;</span><span class="RktVar">inner-failure</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:failures</span><span class="hspace">&nbsp;</span><span class="RktVar">failures</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">end</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">made-progress?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">progress-default</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">inner-failure</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">failures</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Make a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span>.
Can only be called during the dynamic extent of a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span>.
The <span class="RktVar">message</span> and <span class="RktVar">position</span> are used to help the user figure out what went wrong.
Inner failures are also used to improve the message, and provide a chain of failures.
Everything aside from the message is used in comparing parse failures when there are ambiguous failures to try to find the best failure message to display to the user.</div></p><p><div class="SIntrapara">When the <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-keep-multiple-failures~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-keep-multiple-failures?</a></span> is true, all inner failures are kept (IE <span class="RktVar">inner-failure</span> and <span class="RktVar">failures</span>), though there isn&rsquo;t currently a very useful way of looking at them.
When <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-keep-multiple-failures~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-keep-multiple-failures?</a></span> is false, only the best inner failure is kept.
If <span class="RktVar">inner-failure</span> is supplied, it is always used as the best inner failure.
If <span class="RktVar">inner-failure</span> is not supplied, a heuristic sorting function is used on <span class="RktVar">failures</span> to choose one.
Of course, a terminal parser will have no inner failures, and that&rsquo;s fine too.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-failure~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-failure?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for parse failure objects.</div></p><p>Note that parse failures implement the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._gen%7E3astream%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">gen:stream</a></span> interface as empty streams.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._exn-~3efailure))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._exn-~3efailure%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn-&gt;failure</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exn%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Convenience function for turning an exception into a parse failure.
This is not done automatically &ndash; an unhandled exception during parsing will kill the entire parser.
But if you want to run an existing parsing function that raises exceptions upon failure, catch the exception and use this.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-failure-~3estring/location-triple))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Flocation-triple%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-failure-&gt;string/location-triple</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pf</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pf</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the location triple of a parse failure as a string.  Eg. <span class="stt">&lt;line&gt;:&lt;column&gt;:&lt;position&gt;</span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-failure-~3estring/simple))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fsimple%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-failure-&gt;string/simple</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pf</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pf</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a string for the parse failure.  Includes location triple, name of the parser that failed, and the message if one is on the failure object.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-failure-~3estring/message))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fmessage%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-failure-&gt;string/message</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pf</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pf</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fsimple%29%29" class="RktValLink" data-pltdoc="x">parse-failure-&gt;string/simple</a></span>, but searches the failure chain to find the first message if one is not on the outermost failure.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-failure-~3estring/chain))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fchain%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-failure-&gt;string/chain</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pf</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pf</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Formats the list of failures that cascaded into the creation of <span class="RktVar">pf</span>, showing the info from <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fsimple%29%29" class="RktValLink" data-pltdoc="x">parse-failure-&gt;string/simple</a></span> for each.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-failure-~3estring/tree))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Ftree%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-failure-&gt;string/tree</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pf</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pf</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure-~3estring%2Fchain%29%29" class="RktValLink" data-pltdoc="x">parse-failure-&gt;string/chain</a></span>, except it shows ALL failures, not just the chain of best failures.
It indents each message to show the tree relationship of failures.
This is only useful if <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-keep-multiple-failures~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-keep-multiple-failures?</a></span> is set to true.
Be prepared for a lot of text.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-parse-keep-multiple-failures~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-keep-multiple-failures~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-parse-keep-multiple-failures?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-keep-multiple-failures~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-parse-keep-multiple-failures?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keep</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keep</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Parameter used to determine whether to store all sub-failures within a failure object.
Keeping all failures is mostly an academic exercise.</div></p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Chido_Parse_Parameters&quot;">2.2.4<tt>&nbsp;</tt><a name="(part._.Chido_.Parse_.Parameters)"></a>Chido Parse Parameters</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-parse-parameter~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-parse-parameter?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for chido-parse-parameters.</div></p><p>Don&rsquo;t use <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._parameter%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">parameter?</a></span>s inside parsing procedures.
Use chido-parse-parameters instead.</p><p>They behave similarly, but chido-parse-parameters are a key to the parsing cache (so you don&rsquo;t accidentally pull out a cached result that was constructed by referring to a <span class="emph">different</span> parameter value, such as a different value for <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">current-chido-readtable</a></span>) and are preserved by <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="RktStxLink" data-pltdoc="x">parse-stream-cons</a></span>, whereas regular parameters are NOT preserved by <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528form._%2528%2528lib._racket%252Fstream..rkt%2529._stream-cons%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">stream-cons</a></span> and friends.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-parse-parameter))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-parse-parameter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">default</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-parameter?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">default</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a chido parse parameter with the given default value.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._chido-parse-parameterize))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameterize%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">chido-parse-parameterize</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">cp-param</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span>, but for <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-parameter?</a></span>s.</div></p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Stream_construction&quot;">2.2.5<tt>&nbsp;</tt><a name="(part._.Stream_construction)"></a>Stream construction</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._parse-stream-cons))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">parse-stream-cons</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">head</span><span class="hspace">&nbsp;</span><span class="RktVar">tail</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Use this instead of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528form._%2528%2528lib._racket%252Fstream..rkt%2529._stream-cons%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">stream-cons</a></span>.
Like <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528form._%2528%2528lib._racket%252Fstream..rkt%2529._stream-cons%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">stream-cons</a></span>, but plays nicely with <span class="RktSym">chido-parse-parameters</span> and <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._for/parse))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._for%2Fparse%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">for/parse</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">binding-id</span><span class="hspace">&nbsp;</span><span class="RktVar">stream-expression</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Similar to other <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for</a></span> forms.
But it returns a stream created using <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._parse-stream-cons%29%29" class="RktStxLink" data-pltdoc="x">parse-stream-cons</a></span> and the <span class="RktVar">stream-expression</span> must return a stream.</div></p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Parsers_and_core_parser_constructors&quot;">2.2.6<tt>&nbsp;</tt><a name="(part._.Parsers_and_core_parser_constructors)"></a>Parsers and core parser constructors</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parser~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">parser?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Don&rsquo;t really use this.
This should maybe be replaced by a higher-order contract.
Right now it&rsquo;s just a first-order check that things seem OK.</div></p><p>BUT - here I&rsquo;ll at least document what this is meant to check, and what you can expect from functions that return <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span>s.</p><p>Parsers are either <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span>s, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser%29%29" class="RktValLink" data-pltdoc="x">alt-parser</a></span>s, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span>s, structs that implement <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._prop~3acustom-parser%29%29" class="RktValLink" data-pltdoc="x">prop:custom-parser</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._non-cached-parser-thunk%29%29" class="RktValLink" data-pltdoc="x">non-cached-parser-thunk</a></span>, or a thunk that returns one of those.</p><p>Thunks are allowed because parsers often need to recursively refer to each other.
If parsers are mutually recursive, you have an ordering issue where neither can be constructed without the other.
To break the cycle, put one in a thunk!
Thunks that contain parsers are only forced once and cached, so you can rely on the results of the thunk being <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">eq?</a></span> (eg.for filtering purposes).
Because sometimes you really do want the thunk to be re-evaluated, thunks wrapped with the <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._non-cached-parser-thunk%29%29" class="RktValLink" data-pltdoc="x">non-cached-parser-thunk</a></span> struct are NOT cached.
Additionally, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-parameter?</a></span>s used as parser thunks are not cached, because their whole point is to be this dynamically extensible thing to allow you to implement parsers independently then have them dynamically reference the right parser when recurring.</p><p>If you use a procedure as a parser that is NOT a thunk that returns (perhaps eventually through multiple layers of thunks) a primitive parser, you will get an exception when the scheduler actually tries to force it and use it as a parser.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._proc-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">proc-parser</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">proc</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:prefix</span><span class="hspace">&nbsp;</span><span class="RktVar">prefix</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:preserve-prefix?</span><span class="hspace">&nbsp;</span><span class="RktVar">preserve-prefix?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:promise-no-left-recursion?</span><span class="hspace">&nbsp;</span><span class="RktVar">promise-no-left-recursion?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser~3f%29%29" class="RktValLink" data-pltdoc="x">proc-parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._stream%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stream?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">prefix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">""</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~a"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=inspectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._object-name%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">preserve-prefix?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">promise-no-left-recursion?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Make a procedural parser.
The procedure should accept an input port.
It should return a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span> or <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span>.
If it&rsquo;s an ambiguous parser (or recurs with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A%29%29" class="RktValLink" data-pltdoc="x">parse*</a></span>, therefore inheriting any ambiguity of the recursive parser used), it should return a stream tree that ultimately contains <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span>s and <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span>s.</div></p><p>If <span class="RktVar">prefix</span> is given, it is a literal prefix to match before the procedure is called.
Unless <span class="RktVar">preserve-prefix?</span> is true, the port is set to just <span class="emph">after</span> the prefix, so your parsing function can focus on the interesting part of the parse.
<span class="RktVar">preserve-prefix?</span> is mostly there as a convenience for wrapping existing parsing procedures.</p><p>The <span class="RktVar">prefix</span> may be queried and used in a semantically meaningful way, as by <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span>s.</p><p><div class="SIntrapara">Parsers with prefixes (that don&rsquo;t use <span class="RktVar">preserve-prefix?</span>) are statically known not to be left-recursive.
The scheduler is optimized to try non-left-recursive parsers first.
In RacketCS continuation capture is really cheap, but it&rsquo;s somewhat expensive in RacketBC, so an additional optimization is that parsers that are marked as non-left-recursive DON&rsquo;T get their continuations captured and aborted when recurring!
If you <span class="emph">really</span> promise that your procedure is not left-recursive, you can mark it as such with <span class="RktSym">promise-no-left-recursion</span>.
But if you lie your parser might go into an infinite loop!
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._proc-parser~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">proc-parser?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for parsers constructed with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span>.
If this is true, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span> is also true.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._alt-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">alt-parser</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktOpt">]</span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser~3f%29%29" class="RktValLink" data-pltdoc="x">alt-parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a parser that returns the results of all of the given parsers.
IE it&rsquo;s an alternation combinator.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._alt-parser~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">alt-parser?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for parsers constructed with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser%29%29" class="RktValLink" data-pltdoc="x">alt-parser</a></span>.
If this is true, <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span> is also true.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._non-cached-parser-thunk))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._non-cached-parser-thunk%29%29" class="RktValDef RktValLink" data-pltdoc="x">non-cached-parser-thunk</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">For when you want the parser to be computed fresh every time you use it.
Note that if the thunk returns ANOTHER thunk, the inner thunk WILL be cached.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._prop~3acustom-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._prop~3acustom-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">prop:custom-parser</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=structprops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._struct-type-property%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">struct-type-property?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">You can define your own structs that act as parsers.</div></p><p>TODO - I should document this.  But really it should probably be gen:custom-parser and support multiple methods, eg. for name, prefix, etc.</p><p>IE this is not stable.</p><p>At any rate, while this is undocumented you can also just use a function that takes your struct and returns a parser, though that&rsquo;s less satisfying.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parser-name))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-name%29%29" class="RktValDef RktValLink" data-pltdoc="x">parser-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Get the name of a parser.</div></p><p>Note that this has to force thunks.</p><p><div class="SIntrapara">If you try to use sub-parsers when constructing the name of a parser, make sure you don&rsquo;t have a mutually recursive cycle going on, or you will have a bad time.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parser-prefix))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-prefix%29%29" class="RktValDef RktValLink" data-pltdoc="x">parser-prefix</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Get the prefix of a parser.</div></p><p><div class="SIntrapara">Note that this has to force thunks.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parser-potentially-left-recursive~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-potentially-left-recursive~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">parser-potentially-left-recursive?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">If you are making a combinator, you might want to use this to determine whether your whole result will be left recursive and use it when constructing a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span>.</div></p><p><div class="SIntrapara">Note that this has to force thunks.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parser-potentially-null~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-potentially-null~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">parser-potentially-null?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">If you are making a combinator, you might want to use this to determine whether your whole result will be left recursive and use it when constructing a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span>.</div></p><p>Note that this has to force thunks.</p><h4 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Literal_Parsers&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Literal_.Parsers)"></a>Literal Parsers</h4><p>You can use <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span>s as literal parsers.
You can always create <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span>s that parse literals.
The other literal parsers here are just <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._proc-parser%29%29" class="RktValLink" data-pltdoc="x">proc-parser</a></span>s that are convenient enough to be in the standard parser library.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._eof-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._eof-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">eof-parser</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Parser that succeeds when reading a port would return an <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eof-object%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">eof-object?</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._any-char-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._any-char-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">any-char-parser</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A parser that parses any single character.</div></p><h4 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Combinators&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Combinators)"></a>Combinators</h4><p>The alternation combinator <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._alt-parser%29%29" class="RktValLink" data-pltdoc="x">alt-parser</a></span> is documented in another section.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._sequence))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValDef RktValLink" data-pltdoc="x">sequence</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:derive</span><span class="hspace">&nbsp;</span><span class="RktVar">derive</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/bare</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/stx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:between</span><span class="hspace">&nbsp;</span><span class="RktVar">between</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:before</span><span class="hspace">&nbsp;</span><span class="RktVar">before</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:after</span><span class="hspace">&nbsp;</span><span class="RktVar">after</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">derive</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/bare</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">between</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">after</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Sequence combinator.
You can add optional parsers between members of the sequence with <span class="RktVar">between</span>.
The <span class="RktVar">between</span> parser is <span class="emph">not</span> put between the first and last normal parsers and the <span class="RktVar">before</span> and <span class="RktVar">after</span> parsers.
For example <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span><span class="stt"> </span><span class="RktPn">#:before</span><span class="stt"> </span><span class="RktVal">"&lt;"</span><span class="stt"> </span><span class="RktVal">"a"</span><span class="stt"> </span><span class="RktVal">"b"</span><span class="stt"> </span><span class="RktPn">#:after</span><span class="stt"> </span><span class="RktVal">"&gt;"</span><span class="stt"> </span><span class="RktPn">#:between</span><span class="stt"> </span><span class="RktVal">"-"</span><span class="RktPn">)</span> would parse <span class="RktVal">"&lt;a-b&gt;"</span> but not <span class="RktVal">"&lt;-a-b-&gt;"</span>.</div></p><p>The <span class="RktVar">derive</span>, <span class="RktSym">result/bare</span>, and <span class="RktSym">result/stx</span> arguments are for building the result derivation, and only one may be given (a non-<span class="RktVal">#f</span> value).
They are all procedures that must accept one value for each of <span class="RktVar">parser</span>, but <span class="emph">not</span> the <span class="RktVar">before</span>, <span class="RktVar">between</span>, or <span class="RktVar">after</span> parsers.</p><p><span class="RktVar">derive</span> should be a function that accepts one derivation for each <span class="RktVar">parser</span>, and should return a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span>.</p><p><span class="RktSym">result/bare</span> should be a function that accepts the result values (IE using <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation-result%29%29" class="RktValLink" data-pltdoc="x">parse-derivation-result</a></span>) from each <span class="RktVar">parser</span> and should return a value to be used as the result field of <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="RktValLink" data-pltdoc="x">make-parse-derivation</a></span>.
You can also provide <span class="RktVal">#t</span> instead of a procedure to just get the results in a list.</p><p><span class="RktSym">result/stx</span> is like <span class="RktSym">result/bare</span>, but it wraps the result you return as a syntax object with appropriate source location info.
You can also provide <span class="RktVal">#t</span> instead of a procedure to just get the results in a syntax list.</p><p>If none of the result options are given, the default is as if <span class="RktSym">result/stx</span> is <span class="RktVal">#t</span>.</p><p>TODO - example usage.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._repetition))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._repetition%29%29" class="RktValDef RktValLink" data-pltdoc="x">repetition</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:derive</span><span class="hspace">&nbsp;</span><span class="RktVar">derive</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/bare</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/stx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:min</span><span class="hspace">&nbsp;</span><span class="RktVar">min</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:max</span><span class="hspace">&nbsp;</span><span class="RktVar">max</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:greedy?</span><span class="hspace">&nbsp;</span><span class="RktVar">greedy?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:between</span><span class="hspace">&nbsp;</span><span class="RktVar">between</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:before</span><span class="hspace">&nbsp;</span><span class="RktVar">before</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:after</span><span class="hspace">&nbsp;</span><span class="RktVar">after</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">derive</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/bare</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">min</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">+inf.0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">greedy?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">between</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">after</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Repetition combinator.
Parse <span class="RktVar">parser</span> repeatedly.</div></p><p>The optional argument API is like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span>.
<span class="RktVar">between</span> is used between iterations of <span class="RktVar">parser</span>, <span class="RktVar">before</span> and <span class="RktVar">after</span> are parsed before/after the first/last repetition of <span class="RktVar">parser</span>.</p><p><span class="RktVar">derive</span>, <span class="RktSym">result/bare</span>, and <span class="RktSym">result/stx</span> act like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span> but should accept a single argument which will be a list of derivations returned by <span class="RktVar">parser</span> (in order).
Again, <span class="RktSym">result/bare</span> and <span class="RktSym">result/stx</span> may be <span class="RktVal">#t</span> instead of a procedure, in which case the results will be put in a list or syntax list.
If none of the options are non-false, <span class="RktSym">result/stx</span> is treated as <span class="RktVal">#t</span>.</p><p>You can specify the minimum and maximum number of acceptible repetitions with <span class="RktVar">min</span> and <span class="RktVar">max</span>.
If <span class="RktVar">greedy?</span> is non-false, derivations will only be returned if they parsed the <span class="RktVar">max</span> number of repetitions or no more repetitions can be parsed after the last one.
Note that the result may still be ambiguous depending on whether <span class="RktVar">parser</span> or <span class="RktVar">before</span>/<span class="RktVar">between</span>/<span class="RktVar">after</span> are ambiguous.
If <span class="RktVar">greedy?</span> is false, all derivations with a number of repetitions between <span class="RktVar">min</span> and <span class="RktVar">max</span>, inclusive, are returned.
Frankly, for any realistic use, you want <span class="RktVar">greedy?</span> to be true, because the extra ambiguity of non-greedy makes a lot of work for the system, even though most of it is immediately thrown away.</p><p>TODO - usage example.</p><p>UNSTABLE - I might change the default option for <span class="RktVar">greedy?</span>.  On the one hand, false gives the more general parser and what most people would probably expect at first.  But non-greedy repetition is just so much slower that any practical use really needs to reach for greedy.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._kleene-star))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._kleene-star%29%29" class="RktValDef RktValLink" data-pltdoc="x">kleene-star</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:derive</span><span class="hspace">&nbsp;</span><span class="RktVar">derive</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/bare</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/stx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:greedy?</span><span class="hspace">&nbsp;</span><span class="RktVar">greedy?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:between</span><span class="hspace">&nbsp;</span><span class="RktVar">between</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:before</span><span class="hspace">&nbsp;</span><span class="RktVar">before</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:after</span><span class="hspace">&nbsp;</span><span class="RktVar">after</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">derive</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/bare</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">greedy?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">between</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">after</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._repetition%29%29" class="RktValLink" data-pltdoc="x">repetition</a></span> with min 0 and max infinity.</div></p><p><div class="SIntrapara">UNSTABLE - I might change the default option for <span class="RktVar">greedy?</span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._kleene-plus))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._kleene-plus%29%29" class="RktValDef RktValLink" data-pltdoc="x">kleene-plus</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:derive</span><span class="hspace">&nbsp;</span><span class="RktVar">derive</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/bare</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/stx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:greedy?</span><span class="hspace">&nbsp;</span><span class="RktVar">greedy?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:between</span><span class="hspace">&nbsp;</span><span class="RktVar">between</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:before</span><span class="hspace">&nbsp;</span><span class="RktVar">before</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:after</span><span class="hspace">&nbsp;</span><span class="RktVar">after</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">derive</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/bare</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">greedy?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">between</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">after</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._repetition%29%29" class="RktValLink" data-pltdoc="x">repetition</a></span> with min 1 and max infinity.</div></p><p><div class="SIntrapara">UNSTABLE - I might change the default option for <span class="RktVar">greedy?</span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._kleene-question))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._kleene-question%29%29" class="RktValDef RktValLink" data-pltdoc="x">kleene-question</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:derive</span><span class="hspace">&nbsp;</span><span class="RktVar">derive</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/bare</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/stx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:greedy?</span><span class="hspace">&nbsp;</span><span class="RktVar">greedy?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:between</span><span class="hspace">&nbsp;</span><span class="RktVar">between</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:before</span><span class="hspace">&nbsp;</span><span class="RktVar">before</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:after</span><span class="hspace">&nbsp;</span><span class="RktVar">after</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">derive</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/bare</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">greedy?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">between</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">after</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._repetition%29%29" class="RktValLink" data-pltdoc="x">repetition</a></span> with min 0 and max 1.</div></p><p>UNSTABLE - I might change the default option for <span class="RktVar">greedy?</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._permutation))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._permutation%29%29" class="RktValDef RktValLink" data-pltdoc="x">permutation</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:derive</span><span class="hspace">&nbsp;</span><span class="RktVar">derive</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/bare</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">make-result/stx</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:between</span><span class="hspace">&nbsp;</span><span class="RktVar">between</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:before</span><span class="hspace">&nbsp;</span><span class="RktVar">before</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:after</span><span class="hspace">&nbsp;</span><span class="RktVar">after</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">derive</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/bare</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">make-result/stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">between</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">after</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Permutation combinator.
The interface is essentially the same as <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span>, but the parser accepts all permutations of the sequence of <span class="RktVar">parser</span>s.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._epsilon-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._epsilon-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">epsilon-parser</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result</span><span class="hspace">&nbsp;</span><span class="RktVar">result</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"epsilon"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">result</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Parser that parses the empty string.
You can provide a custom name and result (IE the result for <span class="RktSym">make-derivation</span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._not-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._not-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">not-parser</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result</span><span class="hspace">&nbsp;</span><span class="RktVar">result</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"not_~a"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser-name%29%29" class="RktValLink" data-pltdoc="x">parser-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">parser</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">result</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a parser that succeeds when <span class="RktVar">parser</span> fails.
In other words, if the result of <span class="RktVar">parser</span> is a stream with any derivations, the not-parser fails.
If the result of <span class="RktVar">parser</span> is a parse failure (IE empty stream), this parser succeeds.</div></p><p>You can supply <span class="RktVar">result</span> as the result field for <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._make-parse-derivation%29%29" class="RktValLink" data-pltdoc="x">make-parse-derivation</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._peek-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._peek-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">peek-parser</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">parser</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return a parser that parses with <span class="RktVar">parser</span> but wraps the resulting derivation in another derivation whose end point is its start point.
The wrapped derivation will have the same result as the inner derivation returned by <span class="RktVar">parser</span>.</div></p><p>You could use this with eg. <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse%2A-direct%29%29" class="RktValLink" data-pltdoc="x">parse*-direct</a></span> to peek ahead without actually effecting the input port.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._char-range-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._char-range-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">char-range-parser</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">min</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">max</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">min</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">char?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">char?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Parses characters in the given range.
You can supply a string of length 2 for <span class="RktVar">min</span> and don&rsquo;t provide <span class="RktVar">max</span>, or you can supply two characters or strings of length 1.
The first character must have a lower code point value than the second.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._regexp-~3eparser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._regexp-~3eparser%29%29" class="RktValDef RktValLink" data-pltdoc="x">regexp-&gt;parser</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rx</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=regexp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._regexp%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">regexp?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a parser that parses a regexp.
The derivation&rsquo;s result field is the result returned by <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=regexp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._regexp-match%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">regexp-match</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._as-syntax))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._as-syntax%29%29" class="RktValDef RktValLink" data-pltdoc="x">as-syntax</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a parser whose derivation result is the same as <span class="RktVar">p</span>&rsquo;s, but wrapped up as a syntax object with appropriate source location info.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._wrap-derivation))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._wrap-derivation%29%29" class="RktValDef RktValLink" data-pltdoc="x">wrap-derivation</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span><span class="RktVar">wrap-func</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wrap-func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a parser that applies <span class="RktVar">wrap-func</span> to the derivations returned by <span class="RktVar">p</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._binding-sequence))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._binding-sequence%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">binding-sequence</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">elem</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">global-option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">elem</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">parser</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span><span class="RktVar">elem-optional</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">global-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">parser-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:derive</span><span class="hspace">&nbsp;</span><span class="RktVar">derive</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">result/bare</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">result/stx</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:splice</span><span class="hspace">&nbsp;</span><span class="RktVar">splice-global</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:inherit-between</span><span class="hspace">&nbsp;</span><span class="RktVar">inherit-between</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:between</span><span class="hspace">&nbsp;</span><span class="RktVar">between-parser</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">elem-optional</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:bind</span><span class="hspace">&nbsp;</span><span class="RktVar">binding-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:ignore</span><span class="hspace">&nbsp;</span><span class="RktVar">ignore</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:splice</span><span class="hspace">&nbsp;</span><span class="RktVar">splice-number</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:repeat-min</span><span class="hspace">&nbsp;</span><span class="RktVar">repeat-min</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:repeat-max</span><span class="hspace">&nbsp;</span><span class="RktVar">repeat-max</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:repeat-greedy?</span><span class="hspace">&nbsp;</span><span class="RktVar">repeat-greedy?</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Produce a sequence parser that can bind intermediate results and reference them in parsers later in the sequence.
Each element is evaluated to construct parsers <span class="emph">after</span> the previous parser has returned a derivation, so <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._binding-sequence%29%29" class="RktStxLink" data-pltdoc="x">binding-sequence</a></span> can be used to construct data-dependent parsers.</div></p><p>To bind the derivation as a result, use the <span class="RktPn">#:bind</span> keyword to bind the derivation to <span class="RktSym">name</span>.
Then just refer to <span class="RktSym">name</span> later!</p><p>Global options affect the entire sequence.
<span class="RktVar">between-parser</span> is inserted between each element in the sequence.
If <span class="RktVar">between-parser</span> is not specified but <span class="RktVar">inherit-between</span> is truthy, then the sequence inherits the <span class="RktVar">between-parser</span> from any <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._binding-sequence%29%29" class="RktStxLink" data-pltdoc="x">binding-sequence</a></span> that surrounds this one.
If <span class="RktVar">splice-global</span> is a number greater than 0, the resulting list is spliced that many times (which is only useful if your sequence only has a single non-ignored element).
The <span class="RktVar">derive</span>, <span class="RktVar">result/bare</span>, and <span class="RktVar">result/stx</span> arguments are similar to the similar arguments in <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span>, though note that splices and ignores affect the list of arguments that will be passed to them.
The default derivation result will be a syntax list of the results of the elements (taking into account splices and ignores).</p><p>Each element in the sequence may have extra options about binding, splicing, or repetition.
The <span class="RktVar">binding-name</span> argument is bound to the derivation of that element for future elements in the sequence.
The <span class="RktVar">splice-number</span> argument should be a positive integer, and the result list of that parser will be spliced that number of times into the outer result list.
If the <span class="RktVar">ignore</span> argument is true, that element is not included in the result list.
The repetition arguments act as in <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._repetition%29%29" class="RktValLink" data-pltdoc="x">repetition</a></span>, though the <span class="RktVar">between-parser</span> is inserted between repetitions.</p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Filters&quot;">2.4.1<tt>&nbsp;</tt><a name="(part._.Filters)"></a>Filters</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._parse-filter))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-filter%29%29" class="RktValDef RktValLink" data-pltdoc="x">parse-filter</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">p</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">filter-func</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:replace-derivation?</span><span class="hspace">&nbsp;</span><span class="RktVar">replace-derivation?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:include-failures?</span><span class="hspace">&nbsp;</span><span class="RktVar">include-failures?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">filter-func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktSym">derivation</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">replace-derivation?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">include-failures?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">This is probably not your go-to filter combinator, but it is the most general.</div></p><p>The <span class="RktVar">filter-func</span> receieves the input port at the position <span class="emph">after</span> the parser&rsquo;s derivation, as well as the derivation itself.
If the <span class="RktVar">filter-func</span> returns false, that derivation is removed from the result stream of the filtered parser.
If <span class="RktVar">replace-derivation?</span> is true, the <span class="RktVar">filter-func</span>&rsquo;s non-false results must be new parse derivations, which replace the original derivations in the parse stream.
Otherwise the original parse derivations are used even if the truthy value returned by <span class="RktVar">filter-func</span> is itself a parse derivation.</p><p>If <span class="RktVar">include-failures?</span> is true, each filtered derivation will be replaced in the stream by a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-failure~3f%29%29" class="RktValLink" data-pltdoc="x">parse-failure?</a></span> with a message about the filtered derivation.
It&rsquo;s really only useful if you want to track all failures with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-keep-multiple-failures~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-keep-multiple-failures?</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._not-follow-filter))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._not-follow-filter%29%29" class="RktValDef RktValLink" data-pltdoc="x">not-follow-filter</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">main-parser</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">not-follow-parser</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:include-failures?</span><span class="hspace">&nbsp;</span><span class="RktVar">include-failures?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">main-parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">not-follow-parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">include-failures?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Filters out derivations if <span class="RktVar">not-follow-parser</span> can succeed immediately after the derivation.</div></p><p><div class="SIntrapara">Eg. <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._not-follow-filter%29%29" class="RktValLink" data-pltdoc="x">not-follow-filter</a></span><span class="stt"> </span><span class="RktVal">"abc"</span><span class="stt"> </span><span class="RktVal">"d"</span><span class="RktPn">)</span> parses the strings <span class="RktVal">"abc"</span> and (the first three characters of) <span class="RktVal">"abce"</span> but not the string <span class="RktVal">"abcd"</span>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._must-follow-filter))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._must-follow-filter%29%29" class="RktValDef RktValLink" data-pltdoc="x">must-follow-filter</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">main-parser</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">must-follow-parser</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:include-failures?</span><span class="hspace">&nbsp;</span><span class="RktVar">include-failures?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">main-parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">must-follow-parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">include-failures?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Filters out derivations if <span class="RktVar">must-follow-parser</span> can not succeed immediately after the derivation.</div></p><p>Eg. <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._must-follow-filter%29%29" class="RktValLink" data-pltdoc="x">must-follow-filter</a></span><span class="stt"> </span><span class="RktVal">"abc"</span><span class="stt"> </span><span class="RktVal">"d"</span><span class="RktPn">)</span> parses the first three characters of the string <span class="RktVal">"abcd"</span>, but does not parse the strings <span class="RktVal">"abc"</span> or <span class="RktVal">"abce"</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._derivation-filter))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._derivation-filter%29%29" class="RktValDef RktValLink" data-pltdoc="x">derivation-filter</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">p</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">filter-func</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:replace-derivation?</span><span class="hspace">&nbsp;</span><span class="RktVar">replace-derivation?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:include-failures?</span><span class="hspace">&nbsp;</span><span class="RktVar">include-failures?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">filter-func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parse-derivation~3f%29%29" class="RktValLink" data-pltdoc="x">parse-derivation?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">replace-derivation?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">include-failures?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Filter out derivations that don&rsquo;t pass <span class="RktVar">filter-func</span>, also replace the derivations if <span class="RktVar">replace-derivation?</span> is true.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._result-filter))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._result-filter%29%29" class="RktValDef RktValLink" data-pltdoc="x">result-filter</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">p</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">filter-func</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:replace-result?</span><span class="hspace">&nbsp;</span><span class="RktVar">replace-result?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:include-failures?</span><span class="hspace">&nbsp;</span><span class="RktVar">include-failures?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">filter-func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">replace-result?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">include-failures?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Filter out derivations whose <span class="RktSym">derivation-result</span> does not pass <span class="RktVar">filter-func</span>.
If <span class="RktVar">replace-result?</span> is true, derivations are replaced with derivations whose result is the value returned by <span class="RktVar">filter-func</span>.</div></p><h4 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;chido-readtables&quot;">2.5<tt>&nbsp;</tt><a name="(part._chido-readtables)"></a>Chido-Readtable Parsers</h4><p>Chido-readtables have an interface similar to Rackets readtables (see <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=hash-reader.html%23%2528part._readtable%2529&amp;version=8.6" class="Sq" data-pltdoc="x">Readtables</a> in the Racket Guide)</p><p>Chido-readtables are a fancy kind of alternative parser.
Among their alternatives, chido-readtables have a built-in symbol parser whose behavior is modified by the other parsers.
Chido-readtables are extended with parsers and a symbol denoting an effect on the built-in symbol parser, such as <span class="RktVal">'</span><span class="RktVal">terminating</span> or <span class="RktVal">'</span><span class="RktVal">nonterminating-layout</span>.</p><p>When the built-in symbol parser is used by a chido-readtable, the symbol continues until reaching the prefix of a <span class="RktVal">'</span><span class="RktVal">terminating</span> or <span class="RktVal">'</span><span class="RktVal">terminating-layout</span> parser or a successful parse from a <span class="RktVal">'</span><span class="RktVal">soft-terminating</span> or <span class="RktVal">'</span><span class="RktVal">soft-terminating-layout</span> parser.</p><p>Layout parsers are whitespace or comment parsers that delimit symbols and are generally allowed between other parsers inside lists.
Results from layout parsers are ignored when creating parse results from readtable parsers, only the fact that they succeed at parsing is relevant.
They come in <span class="RktVal">'</span><span class="RktVal">terminating-layout</span>, <span class="RktVal">'</span><span class="RktVal">soft-terminating-layout</span>, and <span class="RktVal">'</span><span class="RktVal">nonterminating-layout</span> varieties, which match the symbol effects of <span class="RktVal">'</span><span class="RktVal">terminating</span>, <span class="RktVal">'</span><span class="RktVal">soft-terminating</span>, and <span class="RktVal">'</span><span class="RktVal">nonterminating</span> parsers, respectively.</p><p>Terminating parsers are parsing alternatives that also delimit symbols (IE they terminate the built-in symbol parsing).
In other words no space is necessary between a symbol and a following terminating parser.
<span class="RktVal">'</span><span class="RktVal">soft-terminating</span> parsers terminate a symbol only of they parse successfully.
Hard terminating (<span class="RktVal">'</span><span class="RktVal">terminating</span>) parsers terminate a symbol when their prefix matches, whether or not they parse successfully.
Therefore the prefixes of hard terminating parsers are disallowed anywhere within symbols.</p><p>Nonterminating parsers are alternatives that do not delimit a symbol.
Layout (whitespace) is required between a symbol and a following nonterminating parser.</p><p>Terminating and nonterminating parsers can follow each other with no layout in between, though layout is allowed between them, and usually good style to have.</p><p>Note that when using a chido-readtable as a parser directly, it parses only ONE form, equivalent to using <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread1%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;read1</a></span>.  When you want to parse a sequence using chido-readtables, instead of using a kleene star combinator, you should use <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread%2A%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;read*</a></span>.</p><p>Ambiguous results are possible from parsing with a chido-readtable when terminating/nonterminating parsers themselves return ambiguous results or when multiple terminating/nonterminating parsers are successful at a given position.
If another parser is successful, the symbol parser is not tried.
The symbol parser never returns an ambiguous result.</p><p>One final parser flag is <span class="RktVal">'</span><span class="RktVal">left-recursive-nonterminating</span>.
Parsers with the <span class="RktVal">'</span><span class="RktVal">left-recursive-nonterminating</span> flag are run <span class="emph">after</span> the symbol parser and do not effect symbol parsing.
While chido-parse doesn&rsquo;t normally need a flag to handle left-recursive parsers, because most readtable parsers are run before the symbol parser and used to effect the symbol parser, left-recursive parsers need a special flag in the readtable parser.</p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;chido-readtable_objects&quot;">2.5.1<tt>&nbsp;</tt><a name="(part._chido-readtable_objects)"></a>chido-readtable objects</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._current-chido-readtable))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-chido-readtable</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter~3f%29%29" class="RktValLink" data-pltdoc="x">chido-parse-parameter?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-parse-parameter%29%29" class="RktValLink" data-pltdoc="x">chido-parse-parameter</a></span> holding a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span>.
Use this in any parser that needs to recur by parsing a chido readtable.
Using it allows extension parsers to be written independently and combined while allowing each one to reference the combined readtable, rather than having to re-construct each extension with a reference to the proper extended readtable.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._empty-chido-readtable))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._empty-chido-readtable%29%29" class="RktValDef RktValLink" data-pltdoc="x">empty-chido-readtable</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span> with NO parsers of ANY kind attached, except the built-in symbol parser.</div></p><p>TODO - list the flags that the table starts with, eg. <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-support~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-symbol-support?</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for chido-readtables.
Note that if <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span> is true, then <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span> is true too.
When used directly as parsers, chido-readtables parse once with no leading or trailing layout.
To properly parse multiple times with a chido-readtable, use <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread%2A%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;read*</a></span> to use the readtable&rsquo;s layout configuration.</div></p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Variations_on_chido-readtable_parsers&quot;">2.5.2<tt>&nbsp;</tt><a name="(part._.Variations_on_chido-readtable_parsers)"></a>Variations on chido-readtable parsers</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-~3eread1))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread1%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-&gt;read1</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an opaque parser that parses a single form using <span class="RktVar">rt</span> (with NO leading whitespace allowed).
The parser is equivalent to using the readtable directly as a parser.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-~3eread1/layout))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread1%2Flayout%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-&gt;read1/layout</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread1%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;read1</a></span>, but with leading layout (using the layout parsers within the readtable).
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-~3eread*))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-&gt;read*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an opaque parser that parses a sequence of forms using <span class="RktVar">rt</span>, returning a list.
This is preferable to using a chido-readtable directly inside a kleene-star combinator because it consistently handles layout parsing and allows trailing layout.
The parser allows leading, middle, and trailing layout per the layout parser configuration in <span class="RktVar">rt</span>, and can successfully parse an empty list of forms (which may still have layout).</div></p><p><div class="SIntrapara">Note that this does NOT parse parentheses at the start/end of a list &ndash; rather, this is a procedure that could be used on the inside of a list.
Rather, if you want to parse several (potentially extended) s-expressions within a file that potentially has layout (whitespace) before, between, and after the forms, you would use this parser.
Of course, you can also make a list parser with <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._sequence%29%29" class="RktValLink" data-pltdoc="x">sequence</a></span><span class="stt"> </span><span class="RktVal">"("</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread%2A%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;read*</a></span><span class="stt"> </span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">")"</span><span class="RktPn">)</span>.
But <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-list-parser%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-list-parser</a></span> also handles the extra details of adding the list parser to the readtable for recursive parses, adding a terminating and failing parser for the right delimiter, properly using the <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">current-chido-readtable</a></span>, and other conveniences, so probably just use it instead.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-~3eread+))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread%2B%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-&gt;read+</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym">chido-readtable-&gt;read*-parser</span> but it requires at least one form.
In other words, it fails on empty lists.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-~3elayout1))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout1%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-&gt;layout1</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an opaque parser that parses a single piece of layout using <span class="RktVar">rt</span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-~3elayout*))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-&gt;layout*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an opaque parser that parses any amount of layout using <span class="RktVar">rt</span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-~3elayout+))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout%2B%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-&gt;layout+</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an opaque parser that parses one or more pieces of layout using <span class="RktVar">rt</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._current-chido-readtable-read1-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-read1-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-chido-readtable-read1-parser</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Parser that applies <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3eread1%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;read1</a></span> to <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">current-chido-readtable</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._current-chido-readtable-layout*-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-layout%2A-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-chido-readtable-layout*-parser</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Parser that applies <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout%2A%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;layout*</a></span> to <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">current-chido-readtable</a></span>.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._current-chido-readtable-layout+-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-layout%2B-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-chido-readtable-layout+-parser</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Parser that applies <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-~3elayout%2B%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-&gt;layout+</a></span> to <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">current-chido-readtable</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._current-chido-readtable-symbol-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable-symbol-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-chido-readtable-symbol-parser</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Parses symbols using the symbol parser of <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._current-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">current-chido-readtable</a></span>.
IE it uses all the extensions to determine what symbols can be parsed, but it is <span class="emph">ONLY</span> the symbol parser.</div></p><p>UNSTABLE - chido readtables don&rsquo;t yet support symbols with escapes (IE with backslash) or as literals with pipes around them as Racket&rsquo;s built-in readtable does.
At some point there will be options to set on the readtable itself to toggle options about those.</p><h5 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Extending_and_modifying_chido-readtables&quot;">2.5.3<tt>&nbsp;</tt><a name="(part._.Extending_and_modifying_chido-readtables)"></a>Extending and modifying chido-readtables</h5><p>All readtable &#8220;modifiers&#8221; are functional.
They do not actually mutate a readtable, they merely return a new modified readtable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-symbol-effect/c))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-effect%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-symbol-effect/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">contract?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The same as
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">terminating</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">soft-terminating</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">nonterminating</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">terminating-layout</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">soft-terminating-layout</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">nonterminating-layout</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">left-recursive-nonterminating</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._extend-chido-readtable))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._extend-chido-readtable%29%29" class="RktValDef RktValLink" data-pltdoc="x">extend-chido-readtable</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">mode</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parser</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">rt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:operator</span><span class="hspace">&nbsp;</span><span class="RktVar">operator-type</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:precedence-less-than</span><span class="hspace">&nbsp;</span><span class="RktVar">precedence-less-than</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:precedence-greater-than</span><span class="hspace">&nbsp;</span><span class="RktVar">precedence-greater-than</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:associativity</span><span class="hspace">&nbsp;</span><span class="RktVar">associativity</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mode</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-effect%2Fc%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-symbol-effect/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parser</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">parser/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">operator-type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">infix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">prefix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">postfix</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">precedence-less-than</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">precedence-greater-than</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">associativity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">left</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">right</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Extend <span class="RktVar">rt</span> with <span class="RktVar">parser</span> and given <span class="RktVar">mode</span>.
To understand the various modes, see <a href="#%28part._chido-readtables%29" data-pltdoc="x">Chido-Readtable Parsers</a>.</div></p><p>Also, chido-readtables support operators.
You can use the optional arguments to do so, but better yet see <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-mixfix-operator%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-mixfix-operator</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._extend-chido-readtable*))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._extend-chido-readtable%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">extend-chido-readtable*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Applies <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._extend-chido-readtable%29%29" class="RktValLink" data-pltdoc="x">extend-chido-readtable</a></span> multiple times.
Eg.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._extend-chido-readtable%2A%29%29" class="RktValLink" data-pltdoc="x">extend-chido-readtable*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">my-rt</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">terminating</span><span class="hspace">&nbsp;</span><span class="RktSym">at-reader-parser</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">nonterminating</span><span class="hspace">&nbsp;</span><span class="RktSym">some-other-parser</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-add-list-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-list-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-add-list-parser</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">l-delim</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">r-delim</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">rt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:wrapper</span><span class="hspace">&nbsp;</span><span class="RktVar">wrapper</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:inside-readtable</span><span class="hspace">&nbsp;</span><span class="RktVar">inside-readtable</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:readtable-symbol-effect</span><span class="hspace">&nbsp;</span><span class="RktVar">readtable-symbol-effect</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-delim</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r-delim</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">chid-readtable?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wrapper</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">inside-readtable</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">readtable-symbol-effect</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-effect%2Fc%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-symbol-effect/c</a></span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">terminating</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Adds a list parser with the given delimiters.
Eg. the default parenthesis parser in Racket is similar to
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-list-parser%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-list-parser</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"("</span><span class="hspace">&nbsp;</span><span class="RktVal">")"</span><span class="hspace">&nbsp;</span><span class="RktSym">my-rt</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">.</div></p><p>If <span class="RktVar">inside-readtable</span> is <span class="RktVal">#f</span>, the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Reading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-readtable%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-readtable</a></span> is queried for recursive parses (of both forms and layout).
You can instead set <span class="RktVar">inside-readtable</span> to a particular readtable to use it, or to a thunk that provides a readtable, in which case the thunk will be called (with no caching) to get an inner readtable each time.</p><p><div class="SIntrapara">If <span class="RktVar">wrapper</span> is a symbol, that symbol is prepended to the list.
Eg. if you use
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-list-parser%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-list-parser</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"$("</span><span class="hspace">&nbsp;</span><span class="RktVal">")"</span><span class="hspace">&nbsp;</span><span class="RktSym">mostly-normal-rt</span><span class="hspace">&nbsp;</span><span class="RktPn">#:wrapper</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">#%dollar-paren</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">,
then the string <span class="RktVal">"$(foo bar)"</span> would be parsed as <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">#%dollar-paren</span><span class="stt"> </span><span class="RktVal">foo</span><span class="stt"> </span><span class="RktVal">bar</span><span class="RktVal">)</span>.</div></p><p>You can also use a procedure for <span class="RktVar">wrapper</span>, in which case the procedure takes the result syntax as an argument and must return a syntax object.</p><p>Note that if <span class="RktVar">l-delim</span> and <span class="RktVar">r-delim</span> are the same character, you can&rsquo;t nest lists.
It&rsquo;s a constant annoyance to me that people ever choose to use the same (likely single character) string as both left and right delimiters for things, because of course you can&rsquo;t nest such things without some kind of escaping.</p><p>The <span class="RktVar">readtable-symbol-effect</span> should generally be <span class="RktVal">'</span><span class="RktVal">terminating</span>, but another reasonable choice is <span class="RktVal">'</span><span class="RktVal">terminating-layout</span> to get an s-expression comment form.
I&rsquo;m not sure it&rsquo;s a terribly useful comment form, but it&rsquo;s interesting at least.</p><p>UNSTABLE - these list forms do not yet support dots for improper lists or for operator moving (a la <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">op</span><span class="stt"> </span><span class="RktVal">l</span><span class="stt"> </span><span class="RktVal">r</span><span class="RktVal">)</span>).
I will eventually add them as optional keyword arguments (without using the keyword, no dots will be supported).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-add-raw-string-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-raw-string-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-add-raw-string-parser</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">l-delim</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">r-delim</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">rt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:wrapper</span><span class="hspace">&nbsp;</span><span class="RktVar">wrapper</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:readtable-symbol-effect</span><span class="hspace">&nbsp;</span><span class="RktVar">readtable-symbol-effect</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-delim</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r-delim</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">chid-readtable?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wrapper</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">readtable-symbol-effect</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-effect%2Fc%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-symbol-effect/c</a></span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">terminating</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Adds a parser for raw strings with balanced inner delimiters.
In other words, there are no escapes like <span class="RktVal">"\n"</span>, every character in the source string exists in the parsed string, including newlines and embedded delimiters.
If <span class="RktVar">l-delim</span> appears in the string before <span class="RktVar">r-delim</span>, it will cause an <span class="RktVar">r-delim</span> to be part of the string instead of the string terminator.
This means that not all strings are representable with a given raw string parser added with this procedure.
But if you really need a string that contains the same delimiters without being balanced, you can use a different string notation.</div></p><p><div class="SIntrapara">Raw strings are convenient for embedding source code as strings.
For example, if we use
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-raw-string-parser%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-raw-string-parser</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"&#171;"</span><span class="hspace">&nbsp;</span><span class="RktVal">"&#187;"</span><span class="hspace">&nbsp;</span><span class="RktSym">my-rt</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">,
we can parse the following as a single string:</div></p><p>TODO - this example is messing up my auto-indentation, so I&rsquo;m commenting it out for the moment.</p><p>I mean, that&rsquo;s a pretty dumb example, but I think you get the picture.
When you have to embed HTML inside Javascript inside PHP inside ... escaping is super annoying.
But realistically raw strings of source code are useful in Racket in particular because you can write macros to parse those string at compile time.
And sometimes you just want to write strings that contain quotes or backslashes without a bunch of escaping nonsense.
In other words, they are also nice for writing regular expressions (IE a special case of embedding source code as a string).</p><p>Note that if <span class="RktVar">l-delim</span> and <span class="RktVar">r-delim</span> are the same character, you can&rsquo;t nest raw strings.
It&rsquo;s a constant annoyance to me that people ever choose to use the same (likely single character) string as both left and right delimiters for things, because of course you can&rsquo;t nest such things without some kind of escaping.</p><p>The <span class="RktVar">readtable-symbol-effect</span> should generally be <span class="RktVal">'</span><span class="RktVal">terminating</span>, but another reasonable choice is <span class="RktVal">'</span><span class="RktVal">terminating-layout</span> to get a nestable multi-line comment form.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-add-mixfix-operator))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-mixfix-operator%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-add-mixfix-operator</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">rt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:layout</span><span class="hspace">&nbsp;</span><span class="RktVar">layout</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:precedence-greater-than</span><span class="hspace">&nbsp;</span><span class="RktVar">precedence-greater-than</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:precedence-less-than</span><span class="hspace">&nbsp;</span><span class="RktVar">precedence-less-than</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:associativity</span><span class="hspace">&nbsp;</span><span class="RktVar">associativity</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">layout</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">required</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">optional</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">none</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">required</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">precedence-greater-than</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">precedence-less-than</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">associativity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">left</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">right</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Yes, that&rsquo;s right, chido-readtables can have infix, prefix, and postfix operators.
Whether or not that&rsquo;s a good idea you can decide for yourself.
But they&rsquo;re supported!</div></p><p><div class="SIntrapara">This code:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-mixfix-operator%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-mixfix-operator</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"_&lt;+&gt;_"</span><span class="hspace">&nbsp;</span><span class="RktSym">my-rt</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">adds a <span class="stt">&lt;+&gt;</span> operator to the readtable, so you could write eg:
<span class="RktVal">"(string-length foo) &lt;+&gt; (some-thunk)"</span>
and it would be read as:
<span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">#%chido-readtable-infix-operator</span><span class="stt"> </span><span class="RktVal">&lt;+&gt;</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">string-length</span><span class="stt"> </span><span class="RktVal">foo</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">some-thunk</span><span class="RktVal">)</span><span class="RktVal">)</span>.</div></p><p>The <span class="RktVar">name</span> must have an underscore everywhere you want a recursive parse to happen, thus determining whether the operator is infix, prefix, postfix, or &#8220;notfix&#8221; (meaning that it neither begins nor ends with a recursive parse).
The fixity determines the implicit symbol that starts the result form, either <span class="RktVal">'</span><span class="RktVal">#%chido-readtable-infix-operator</span>, <span class="RktVal">'</span><span class="RktVal">#%chido-readtable-prefix-operator</span>, <span class="RktVal">'</span><span class="RktVal">#%chido-readtable-postfix-operator</span>, or <span class="RktVal">'</span><span class="RktVal">#%chido-readtable-notfix-operator</span>.</p><p>The second symbol in the result is the operator name, with any leading and trailing underscores stripped but any interior underscores preserved.</p><p><div class="SIntrapara">Example with inner holes (though the specific example is kind of dumb):
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-add-mixfix-operator%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-add-mixfix-operator</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">IF_THEN_ELSE_</span><span class="hspace">&nbsp;</span><span class="RktSym">my-rt</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">would parse the string
<span class="RktVal">"IF 5 THEN (foobar) ELSE quux"</span>
as
<span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">#%chido-readtable-prefix-operator</span><span class="stt"> </span><span class="RktVal">IF_THEN_ELSE</span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">foobar</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">quux</span><span class="RktVal">)</span>.</div></p><p>The <span class="RktVar">layout</span> argument determines whether layout is required, optional, or disallowed between the operator components and the recursive parses.
Obviously the only good answer here is <span class="RktVal">'</span><span class="RktVal">required</span>, but if you love poor language design where you can&rsquo;t allow identifiers to include the characters used as operator names you can choose <span class="RktVal">'</span><span class="RktVal">optional</span>, just know that I think poorly of your choices.
To round things out, you can also choose <span class="RktVal">'</span><span class="RktVal">none</span>, which I hope everyone can see is just a dumb choice.
But I added it for the sake of completeness.</p><p>The <span class="RktVar">associativity</span> argument should not need much explanation.
But it should be extended to allow associativity groups, which it currently doesn&rsquo;t support.</p><p>The <span class="RktVar">precedence-greater-than</span> and <span class="RktVar">precedence-less-than</span> allow you to specify relative precedence of operators.
Using these, your operator precedence forms a partial order, and any operators with no ordering between them require disambiguation (IE it&rsquo;s an error to put them together).
(I could have left it ambiguous, but really who wants that?)
I could have written this with numeric precedence instead, but I like partial-order precedence a lot better, so that&rsquo;s what you get in this implementation.
(I mean, it could be extended to have the option of doing either, or maybe both!  But that&rsquo;s more work than I currently want to bother with.)</p><p>The symbol pieces of the operator name are blacklisted from the symbol parser.  So if you add the operator <span class="RktVal">'</span><span class="RktVal">&lt;&gt;=&lt;_&gt;&gt;#&gt;_&lt;$+&#162;&gt;_</span> (channeling Haskell), the symbols <span class="RktVal">'</span><span class="RktVal">&lt;&gt;=&lt;</span>, <span class="RktVal">'</span><span class="RktVal">&gt;&gt;#&gt;</span>, and <span class="RktVal">'</span><span class="RktVal">&lt;$+&#162;&gt;</span> would be unreadable by the readtable.
This prevents ambiguous parses where you have a parse with the operator as an operator and a parse where you just have the operator name as a symbol in a list of forms.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._set-chido-readtable-symbol-result-transformer))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><span class="RktSymDef RktSym">set-chido-readtable-symbol-result-transformer</span></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">crt</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">transformer</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">crt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transformer</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Parse results from the built-in symbol parsers are syntax objects by default.
By setting a transformer, you can change the result (eg, perhaps you want datums instead of syntax objects).</div></p><p>The default transformer is the identify function.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._set-chido-readtable-symbol-support))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._set-chido-readtable-symbol-support%29%29" class="RktValDef RktValLink" data-pltdoc="x">set-chido-readtable-symbol-support</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Turn off or on the built-in symbol parser.
Why would you want to turn it off?
Mostly to re-use the declarative operator precedence and associativity support built into chido-readtables for alternates where you actually don&rsquo;t want a symbol included.</div></p><p><div class="SIntrapara">In particular, the BNF DSL is implemented on top of readtables that (generally) have symbol support turned off.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-symbol-support~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-support~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-symbol-support?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for whether symbol support is on or off.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-blacklist-symbols))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-blacklist-symbols%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-blacklist-symbols</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">symbols</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">rt</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">symbols</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Produce a readtable where certain symbols are disallowed.
In other words, the built-in symbol parser has a filter on it that checks whether the symbols read are in the blacklist.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._chido-readtable-name))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-name%29%29" class="RktValDef RktValLink" data-pltdoc="x">chido-readtable-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Get the name of the readtable.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._set-chido-readtable-name))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._set-chido-readtable-name%29%29" class="RktValDef RktValLink" data-pltdoc="x">set-chido-readtable-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Set the name of the chido-readtable (functionally).</div></p><p>TODO - other APIs or parsers?</p><h4 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;BNF_DSL&quot;">2.6<tt>&nbsp;</tt><a name="(part._.B.N.F_.D.S.L)"></a>BNF DSL</h4><p>Frankly, the BNF DSL is a little rougher than the rest of the system.
It&rsquo;s more likely to see some minor changes than the rest of the system.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._define-bnf-arm))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-bnf-arm</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">arm-name</span><span class="hspace">&nbsp;</span><span class="RktVar">top-level-optional</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">arm-alt-spec</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">top-level-optional</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:layout</span><span class="hspace">&nbsp;</span><span class="RktVar">layout-flag</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:layout-parsers</span><span class="hspace">&nbsp;</span><span class="RktVar">layout-parsers</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:ignore-arm-name?</span><span class="hspace">&nbsp;</span><span class="RktVar">ignore-arm-name?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">result/stx</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">result/bare</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">layout-flag</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">quote</span><span class="RktVar">required</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">quote</span><span class="RktVar">optional</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">quote</span><span class="RktVar">none</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">bnf-arm-alt-spec</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">binding-sequence-elem</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">arm-alt-optional</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">arm-alt-optional</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:associativity</span><span class="hspace">&nbsp;</span><span class="RktVar">associativity</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:precedence-less-than</span><span class="hspace">&nbsp;</span><span class="RktVar">plt</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:precedence-greater-than</span><span class="hspace">&nbsp;</span><span class="RktVar">pgt</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">result/stx</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">result/bare</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Construct a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span> that acts like one arm of a BNF grammar.
The result has <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable-symbol-support~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable-symbol-support?</a></span> off.
If <span class="RktVar">layout-flag</span> is <span class="RktPn">(</span><span class="RktVar">quote</span><span class="stt"> </span><span class="RktVar">required</span><span class="RktPn">)</span>, layout parsers are automatically inserted between parser elements.
If <span class="RktVar">layout-flag</span> is <span class="RktPn">(</span><span class="RktVar">quote</span><span class="stt"> </span><span class="RktVar">optional</span><span class="RktPn">)</span>, layout-or-epsilon parsers are automatically inserted between parser elements.
The default <span class="RktVar">layout-flag</span> is &rsquo;optional.</div></p><p>In reality, a parser is always inserted between, but it checks a flag stored on the readtable...</p><p>The <span class="RktVar">layout-parsers</span> argument should be a list of parsers, and if unspecified defaults to the list <span class="RktPn">(</span><span class="RktVar">quote</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVal">" "</span><span class="stt"> </span><span class="RktVal">"\t"</span><span class="stt"> </span><span class="RktVal">"\r"</span><span class="stt"> </span><span class="RktVal">"\n"</span><span class="RktPn">)</span><span class="RktPn">)</span>.
Note that these are simply layout parsers on the resulting readtable, so this list can be extended later.</p><p>The <span class="RktVar">result/stx</span> and <span class="RktVar">result/bare</span> arguments act as in the various combinators, but both a global default for the arm and per-alt overrides can be supplied.
If <span class="RktVar">ignore-arm-name?</span> is false, the name of the arm is prepended to the result list by the default result constructior.</p><p>Each alternative in the &#8220;arm&#8221; is essentially a <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._binding-sequence%29%29" class="RktStxLink" data-pltdoc="x">binding-sequence</a></span>, but with different whole-sequence options.
In particular, if the leftmost or rightmost sequence members are <span class="RktVar">arm-name</span>, the alternate is determined to be an operator, and the associativity and precedence arguments are used.</p><p>TODO - example.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._readtable-extend-as-bnf-arm))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._readtable-extend-as-bnf-arm%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">readtable-extend-as-bnf-arm</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rt</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">bnf-arm-alt-spec</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arm-name</span><span class="hspace">&nbsp;</span><span class="RktVar">arm-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:ignore-arm-name?</span><span class="hspace">&nbsp;</span><span class="RktVar">ignore-arm-name?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">result/stx</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">result/bare</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Extend <span class="RktVar">rt</span> in the manner of <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="RktStxLink" data-pltdoc="x">define-bnf-arm</a></span>.
Each <span class="RktVar">bnf-arm-alt-spec</span> is as defined for <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="RktStxLink" data-pltdoc="x">define-bnf-arm</a></span>.</div></p><p>TODO - example.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._chido-parse/main..rkt)._define-bnf))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-bnf</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">global-options</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVar">arm-name</span><span class="hspace">&nbsp;</span><span class="RktVar">bnf-arm-option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">bnf-arm-alt-spec</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">global-options</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:layout-parsers</span><span class="hspace">&nbsp;</span><span class="RktVar">layout-parsers</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:layout</span><span class="hspace">&nbsp;</span><span class="RktVar">global-layout-flag</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">bnf-arm-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:main-arm</span><span class="hspace">&nbsp;</span><span class="RktVar">main-arm</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:layout</span><span class="hspace">&nbsp;</span><span class="RktVar">layout-flag-for-arm</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:ignore-arm-name?</span><span class="hspace">&nbsp;</span><span class="RktVar">ignore-arm-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/stx</span><span class="hspace">&nbsp;</span><span class="RktVar">result/stx</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/bare</span><span class="hspace">&nbsp;</span><span class="RktVar">result/bare</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Define a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser~3f%29%29" class="RktValLink" data-pltdoc="x">bnf-parser?</a></span> (which is also a <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span>) using a BNF grammar.
When the result parser is used directly, the <span class="RktVar">main-arm</span> is the parser that is actually used.
The <span class="RktVar">main-arm</span> defaults to the top arm.
Note that if you use the parser directly it does NOT parse surrounding layout.
If you want a parser that accepts leading and trailing layout, use <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser-~3ewith-surrounding-layout%29%29" class="RktValLink" data-pltdoc="x">bnf-parser-&gt;with-surrounding-layout</a></span>?</div></p><p>The <span class="RktVar">bnf-arm-alt-spec</span>s you can use in each arm are the same as in <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="RktStxLink" data-pltdoc="x">define-bnf-arm</a></span>.
The layout flag can be set globally but overridden per-arm, with values of <span class="RktVal">'</span><span class="RktVal">required</span>, <span class="RktVal">'</span><span class="RktVal">optional</span>, or <span class="RktVal">'</span><span class="RktVal">none</span> as per <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="RktStxLink" data-pltdoc="x">define-bnf-arm</a></span>.
The <span class="RktVar">layout-parsers</span> again default to <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">" "</span><span class="stt"> </span><span class="RktVal">"\t"</span><span class="stt"> </span><span class="RktVal">"\r"</span><span class="stt"> </span><span class="RktVal">"\n"</span><span class="RktVal">)</span>?</p><p>Each arm is a <span class="RktSym">chido-readtable</span>, as built with <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="RktStxLink" data-pltdoc="x">define-bnf-arm</a></span>, and they can be accessed with <span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser-~3earm-parser%29%29" class="RktValLink" data-pltdoc="x">bnf-parser-&gt;arm-parser</a></span>.</p><p>TODO - example.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._bnf-parser~3f))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">bnf-parser?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for parsers defined with <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf%29%29" class="RktStxLink" data-pltdoc="x">define-bnf</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._bnf-parser-~3ewith-surrounding-layout))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser-~3ewith-surrounding-layout%29%29" class="RktValDef RktValLink" data-pltdoc="x">bnf-parser-&gt;with-surrounding-layout</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._parser~3f%29%29" class="RktValLink" data-pltdoc="x">parser?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser~3f%29%29" class="RktValLink" data-pltdoc="x">bnf-parser?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a parser like <span class="RktVar">p</span> but that allows leading/trailing layout.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._chido-parse/main..rkt)._bnf-parser-~3earm-parser))"></a><span title="Provided from: chido-parse | Package: chido-parse"><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser-~3earm-parser%29%29" class="RktValDef RktValLink" data-pltdoc="x">bnf-parser-&gt;arm-parser</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span><span class="RktVar">arm-name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._chido-readtable~3f%29%29" class="RktValLink" data-pltdoc="x">chido-readtable?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._chido-parse%2Fmain..rkt%29._bnf-parser~3f%29%29" class="RktValLink" data-pltdoc="x">bnf-parser?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arm-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the parser for the given arm of the BNF.
It&rsquo;s a <span class="RktSym">chido-readtable</span>, though probably not one that&rsquo;s necessarily like you might make directly (except through <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf-arm%29%29" class="RktStxLink" data-pltdoc="x">define-bnf-arm</a></span>).</div></p><h4 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;TODO&quot;">2.7<tt>&nbsp;</tt><a name="(part._.T.O.D.O)"></a>TODO</h4><p>TODO - document these</p><ul><li><p>extend-bnf &ndash; a form to extend BNFs with an API similar to <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf%29%29" class="RktStxLink" data-pltdoc="x">define-bnf</a></span>.</p></li><li><p>define-bnf/quick &ndash; a form to define BNFs like <span class="RktSym"><a href="#%28form._%28%28lib._chido-parse%2Fmain..rkt%29._define-bnf%29%29" class="RktStxLink" data-pltdoc="x">define-bnf</a></span>, but using short symbols instead of verbose keyword arguments.</p></li><li><p>define-bnf/syntactic &ndash; a form that defines a BNF using custom concrete syntax that looks more like traditional BNF notation.  It takes a string literal and parses it at macro expansion time.</p></li><li><p>define-bnf/syntactic/parsed &ndash; this actually should be private, I think, but I&rsquo;m leaving this in the list for the moment...</p></li><li><p>#lang chido-parse/bnf-syntactic &ndash; like <span class="stt">define-bnf/syntactic</span> but as a #lang.  It allows trailing s-expression definitions and provides the defined bnf as <span class="stt">parser</span>.</p></li></ul><h3 x-source-module="(lib &quot;chido-parse/scribblings/chido-parse.scrbl&quot;)" x-source-pkg="chido-parse" x-part-tag="&quot;Code_and_License&quot;">3<tt>&nbsp;</tt><a name="(part._.Code_and_.License)"></a>Code and License</h3><p>The code is available
<a href="https://github.com/willghatch/chido-parse">on github</a>.</p><p>This library is distributed under the MIT license and the Apache version 2.0 license, at your option.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/chido-parse/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 02:57:52 GMT -->
</html>