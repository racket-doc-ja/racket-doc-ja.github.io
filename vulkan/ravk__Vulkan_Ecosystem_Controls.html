<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/vulkan/ravk__Vulkan_Ecosystem_Controls.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4&nbsp;ravk: Vulkan Ecosystem Controls</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Vulkan API Integration</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Setup.html" class="tocviewlink" data-pltdoc="x">Setup</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Controlling_the_Vulkan_Specification.html" class="tocviewlink" data-pltdoc="x">Controlling the Vulkan Specification</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Unsafe_Bindings.html" class="tocviewlink" data-pltdoc="x">Unsafe Bindings</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x"><span class="stt">ravk</span>:<span class="mywbr"> &nbsp;</span> Vulkan Ecosystem Controls</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Contributing.html" class="tocviewlink" data-pltdoc="x">Contributing</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>4&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x"><span class="stt">ravk</span>:<span class="mywbr"> &nbsp;</span> Vulkan Ecosystem Controls</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="#%28part._ravk_show__.Review_key_information%29" class="tocviewlink" data-pltdoc="x"><span class="stt">ravk show</span>:<span class="mywbr"> &nbsp;</span> Review key information</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="#%28part._ravk_generate__.Generate_.Code_to_use_.Vulkan%29" class="tocviewlink" data-pltdoc="x"><span class="stt">ravk generate</span>:<span class="mywbr"> &nbsp;</span> Generate Code to use Vulkan</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._ravk_show__.Review_key_information%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ravk show</span>:<span class="mywbr"> &nbsp;</span> Review key information</a></td></tr><tr><td><span class="tocsublinknumber">4.1.1<tt>&nbsp;</tt></span><a href="#%28part._ravk_show_spec__.Specification_review%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ravk show spec</span>:<span class="mywbr"> &nbsp;</span> Specification review</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._ravk_generate__.Generate_.Code_to_use_.Vulkan%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ravk generate</span>:<span class="mywbr"> &nbsp;</span> Generate Code to use Vulkan</a></td></tr><tr><td><span class="tocsublinknumber">4.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Using_.Built-in_.Generators%29" class="tocsubseclink" data-pltdoc="x">Using Built-<wbr></wbr>in Generators</a></td></tr><tr><td><span class="tocsublinknumber">4.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Example__.Your_.First_.Code_.Generator%29" class="tocsubseclink" data-pltdoc="x">Example:<span class="mywbr"> &nbsp;</span> Your First Code Generator</a></td></tr><tr><td><span class="tocsublinknumber">4.2.3<tt>&nbsp;</tt></span><a href="#%28part._genconfig%29" class="tocsubseclink" data-pltdoc="x">Generator Configuration Space</a></td></tr><tr><td><span class="tocsublinknumber">4.2.3.1<tt>&nbsp;</tt></span><a href="#%28part._.Switches%29" class="tocsubseclink" data-pltdoc="x">Switches</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Unsafe_Bindings.html" title="backward to &quot;3 Unsafe Bindings&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Vulkan API Integration&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Contributing.html" title="forward to &quot;5 Contributing&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;ravk__Vulkan_Ecosystem_Controls&quot;">4<tt>&nbsp;</tt><a name="(part._ravk__.Vulkan_.Ecosystem_.Controls)"></a><span class="stt">ravk</span>: Vulkan Ecosystem Controls</h3><p><span class="stt">ravk</span> (pronounced "Ravick") is a command-line interface
that reports useful facts about a Vulkan integration in terms
of a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">vk.xml</span><span class="hspace"></span></span> specification.</p><p>You can use <span class="stt">ravk</span> to generate modules that operate
independently from this collection, generate Racket
code fragments for auditing purposes, and to review
information about the Vulkan specification itself.</p><p>Many commands operate on a copy of <span class="stt">vk.xml</span>, and you
can specify which to use.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk ...</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"># Use local mirror of vk.xml</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk --latest ...</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># (or -l) Use latest vk.xml from the Khronos Group.</span></p></td></tr></table></p><h4 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;ravk_show__Review_key_information&quot;">4.1<tt>&nbsp;</tt><a name="(part._ravk_show__.Review_key_information)"></a><span class="stt">ravk show</span>: Review key information</h4><p>Use <span class="stt">ravk show</span> to view helpful data about the code that
will run on the host system in an integration.</p><h5 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;ravk_show_spec__Specification_review&quot;">4.1.1<tt>&nbsp;</tt><a name="(part._ravk_show_spec__.Specification_review)"></a><span class="stt">ravk show spec</span>: Specification review</h5><p>It&rsquo;s critically important that all concerned parties
keep an eye on the Vulkan specification. You will need
information about the spec to know if you should upgrade
this collection or use a different version of <span class="stt">vk.xml</span> to
generate code.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk show spec</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"># prints local mirror of vk.xml for offline use.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk show spec --xexpr</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"># (or -x) prints vk.xml as an X-expression. Ignored if -v is set.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk show spec --version # (or -v) Show specification version.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk -l show spec -x</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"># X-expression of latest vk.xml</span></p></td></tr></table></p><h4 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;ravk_generate__Generate_Code_to_use_Vulkan&quot;">4.2<tt>&nbsp;</tt><a name="(part._ravk_generate__.Generate_.Code_to_use_.Vulkan)"></a><span class="stt">ravk generate</span>: Generate Code to use Vulkan</h4><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk generate heading.rkt body.rkt footer.rkt ...</span></p></td></tr></table></p><p>The <span class="stt">generate</span> command prints code to STDOUT. The output
may be a full Racket module body complete with a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#lang</span><span class="hspace"></span></span> line,
or a parseable fragment that follows certain assumptions.</p><p>Use this command to inspect the Vulkan registry with
custom views, or to prepare code with an adjustable
level of overhead.</p><p>The arguments are paths to Racket modules that must provide a
procedure called <span class="RktSym">in-fragment</span>. It returns a sequence of Racket
code given a Vulkan specification and a shared configuration.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/generator</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-fragment</span><span class="hspace">&nbsp;</span><span class="RktSym">registry</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">config</span><span class="hspace">&nbsp;</span><span class="RktVal">#hash</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Generators.html%23%2528form._%2528%2528lib._racket%252Fgenerator..rkt%2529._in-generator%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">in-generator</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Generators.html%23%2528def._%2528%2528lib._racket%252Fgenerator..rkt%2529._yield%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">yield</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"#lang racket/base"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Generators.html%23%2528def._%2528%2528lib._racket%252Fgenerator..rkt%2529._yield%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">yield</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">define</span><span class="hspace">&nbsp;</span><span class="RktVal">something</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>If the first element of the sequence is a string, it will be printed in <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._display%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">display</a></span>
mode. This is to support <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#lang</span><span class="hspace"></span></span> lines. In this case, a trailing newline character
is optional. In all other cases, each element of the sequence is a datum that, when printed
in <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">write</a></span> mode, will appear in a file as a valid Racket expression.</p><p><span class="RktSym">config</span> is populated by the <span class="stt">ravk generate</span> command such that the long form
name of each option is a key in the dictionary (e.g. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">--enable-auto-check-vkresult</span><span class="hspace"></span></span>
has the key <span class="RktVal">'</span><span class="RktVal">enable-auto-check-vkresult</span>. Keys might not be present, and the value
of each key depends on the option. See <a href="#%28part._genconfig%29" data-pltdoc="x">Generator Configuration Space</a>.</p><p>The output of each module appears follows the order declared in the
command line. There is no guarentee that the output will be a valid
program, so you have to know what you are asking for.</p><h5 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;Using_Built-in_Generators&quot;">4.2.1<tt>&nbsp;</tt><a name="(part._.Using_.Built-in_.Generators)"></a>Using Built-in Generators</h5><p>Besides paths to Racket modules, you can symbolically refer
to built-in generators. In addition, the output of
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">ravk generate unsafe</span><span class="hspace"></span></span> in particular is the
content of <a href="Unsafe_Bindings.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">vulkan/unsafe</span></a>.</p><p>This effectively locks down a copy of Racket code against a Vulkan
spec version, and makes it possible for some packages to operate
without a dependency on this collection, and with minimal overhead.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk generate unsafe &gt; unsafe.rkt</span></p></td></tr></table></p><p>Here are the currently supported built-in generators:</p><p><table cellspacing="0" cellpadding="0" class="boxed"><tr><td align="left"><p>unsafe</p></td><td align="right"><p>FFI bindings for Vulkan across all platforms and extensions for the given specification.</p></td></tr></table></p><h5 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;Example__Your_First_Code_Generator&quot;">4.2.2<tt>&nbsp;</tt><a name="(part._.Example__.Your_.First_.Code_.Generator)"></a>Example: Your First Code Generator</h5><p>A code generator module lazily produces Racket code in terms
of a Vulkan specification. To write one, you need to
know the <a href="https://www.khronos.org/registry/vulkan/specs/1.1/registry.html">Vulkan Registry</a>.</p><p>It so happens that code generator modules are easy to write with Racket
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Generators.html&amp;version=8.6" class="Sq" data-pltdoc="x">Generators</a>.  Be careful not to confuse
the two.</p><p>In this example, we generate a Racket module that prints platform-specific
type names when instantiated. <span class="RktSym">registry-xexpr</span> is bound to an
X-expression form of the <span class="stt">&lt;registry&gt;</span> (root) element of a Vulkan
specification.</p><blockquote class="SCodeFlow"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"gen-platform-type-printer.rkt"</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktSym">in-fragment</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/generator</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">racket/string</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">txexpr</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-fragment</span><span class="hspace">&nbsp;</span><span class="RktSym">registry-xexpr</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">config</span><span class="hspace">&nbsp;</span><span class="RktVal">#hash</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Generators.html%23%2528form._%2528%2528lib._racket%252Fgenerator..rkt%2529._in-generator%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">in-generator</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Generators.html%23%2528def._%2528%2528lib._racket%252Fgenerator..rkt%2529._yield%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">yield</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"#lang racket/base"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">platform-type-elements</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=txexpr&amp;rel=index.html%23%2528def._%2528%2528lib._txexpr%252Fmain..rkt%2529._findf%252A-txexpr%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">findf*-txexpr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">registry-xexpr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528lib._racket%252Fstring..rkt%2529._string-suffix%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-suffix?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=txexpr&amp;rel=index.html%23%2528def._%2528%2528lib._txexpr%252Fmain..rkt%2529._attr-ref%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">attr-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">requires</span><span class="hspace">&nbsp;</span><span class="RktVal">""</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">".h"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">element</span><span class="hspace">&nbsp;</span><span class="RktSym">platform-type-elements</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Generators.html%23%2528def._%2528%2528lib._racket%252Fgenerator..rkt%2529._yield%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">yield</a></span><span class="hspace">&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">displayln</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=txexpr&amp;rel=index.html%23%2528def._%2528%2528lib._txexpr%252Fmain..rkt%2529._attr-ref%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">attr-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym">element</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">name</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote></blockquote><p>For Vulkan 1.1.126, this session holds:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ ravk generate gen-platform-type-printer.rkt &gt; print-platform-types.rkt</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">$ racket print-platform-types.rkt</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Display</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">VisualID</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Window</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">RROutput</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">wl_display</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">wl_surface</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">HINSTANCE</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">HWND</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">HMONITOR</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">HANDLE</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">SECURITY_ATTRIBUTES</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">DWORD</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">LPCWSTR</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">xcb_connection_t</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">xcb_visualid_t</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">xcb_window_t</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">zx_handle_t</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">GgpStreamDescriptor</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">GgpFrameToken</span></p></td></tr></table></p><p>Code generators can also generate documentation or report data.
The possibilities are exciting, but some words of warning:</p><ul><li><p>A search through the registry element is expensive. Use memoization and limit your search space whenever possible.</p></li><li><p>The Vulkan specification is machine-readable, but human-comprehensible. Expect to write weird and wonderful things to make your program work reliably. Mostly weird.</p></li><li><p>There are no guarentees that the order of data you encounter is the order it should appear in Racket.</p></li></ul><h5 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;genconfig&quot;">4.2.3<tt>&nbsp;</tt><a name="(part._genconfig)"></a>Generator Configuration Space</h5><p>The built-in code generators share configuration that controls
their output. You can control this configuration using command-line
flags.</p><h5 x-source-module="(lib &quot;vulkan/scribblings/vulkan.scrbl&quot;)" x-source-pkg="vulkan" x-part-tag="&quot;Switches&quot;">4.2.3.1<tt>&nbsp;</tt><a name="(part._.Switches)"></a>Switches</h5><p>The following values are booleans for <span class="RktSym">in-fragment</span>&rsquo;s purposes.
If the flag is not set, the key will not be set in the dictionary
passed to <span class="RktSym">in-fragment</span>.</p><ul><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">--enable-auto-check-vkresult</span><span class="hspace"></span></span>: When set, all foreign
function calls that return a <span class="stt">VkResult</span> will be automatically
checked in a wrapping Racket procedure. If the code is an error code,
the wrapping procedure will raise <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span>.</p></li><li><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">--enable-symbolic-enums</span><span class="hspace"></span></span>: When set, all C enum types
are represented using either <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=foreign&amp;rel=Enumerations_and_Masks.html%23%2528def._%2528%2528lib._ffi%252Funsafe..rkt%2529.__enum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">_enum</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=foreign&amp;rel=Enumerations_and_Masks.html%23%2528def._%2528%2528lib._ffi%252Funsafe..rkt%2529.__bitmask%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">_bitmask</a></span>
depending on their intended use. You must then use symbols to represent
enumerants according to the rules of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=foreign&amp;rel=Enumerations_and_Masks.html%23%2528def._%2528%2528lib._ffi%252Funsafe..rkt%2529.__enum%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">_enum</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=foreign&amp;rel=Enumerations_and_Masks.html%23%2528def._%2528%2528lib._ffi%252Funsafe..rkt%2529.__bitmask%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">_bitmask</a></span>
in your program.</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Unsafe_Bindings.html" title="backward to &quot;3 Unsafe Bindings&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Vulkan API Integration&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Contributing.html" title="forward to &quot;5 Contributing&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/vulkan/ravk__Vulkan_Ecosystem_Controls.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:31:47 GMT -->
</html>