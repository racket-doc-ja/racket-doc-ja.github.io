<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/dssl2/Contracts.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>6&nbsp;Contracts</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">DSSL2:<span class="mywbr"> &nbsp;</span> Data Structures Student Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Formal_grammar.html" class="tocviewlink" data-pltdoc="x">Formal grammar</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Lexical_syntax.html" class="tocviewlink" data-pltdoc="x">Lexical syntax</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="stm-forms.html" class="tocviewlink" data-pltdoc="x">Statement forms</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="exp-forms.html" class="tocviewlink" data-pltdoc="x">Expression forms</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="prims.html" class="tocviewlink" data-pltdoc="x">Built-<wbr></wbr>in functions, classes, methods, and constants</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Contracts</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="The_cons_library.html" class="tocviewlink" data-pltdoc="x">The <span class="stt">cons</span> library</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="The_sbox_hash_library.html" class="tocviewlink" data-pltdoc="x">The <span class="stt">sbox_<span class="mywbr"> &nbsp;</span>hash</span> library</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>6&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Contracts</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">6.1&nbsp;</td><td><a href="#%28part._.Contract_syntax%29" class="tocviewlink" data-pltdoc="x">Contract syntax</a></td></tr><tr><td align="right">6.2&nbsp;</td><td><a href="#%28part._.Contract_combinators%29" class="tocviewlink" data-pltdoc="x">Contract combinators</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._.Contract_syntax%29" class="tocsubseclink" data-pltdoc="x">Contract syntax</a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._.Contract_combinators%29" class="tocsubseclink" data-pltdoc="x">Contract combinators</a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Any<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.None.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">None<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Vec.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Vec<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Tup.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Tup<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Fun.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Fun<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Not.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Not<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Or.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Or<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.And.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">And<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Int.In.C%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Int<span class="mywbr"> &nbsp;</span>In<span class="mywbr"> &nbsp;</span>C</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._apply_contract%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">apply_<span class="mywbr"> &nbsp;</span>contract</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="prims.html" title="backward to &quot;5 Built-in functions, classes, methods, and constants&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;DSSL2: Data Structures Student Language&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="The_cons_library.html" title="forward to &quot;7 The cons library&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;dssl2/scribblings/dssl2.scrbl&quot;)" x-source-pkg="dssl2" x-part-tag="&quot;Contracts&quot;">6<tt>&nbsp;</tt><a name="(part._.Contracts)"></a>Contracts</h3><p>The contract system helps guard parts of a program against each other by
enforcing properties of function and method parameters and results,
structure and class fields, and variables. In particular, contracts
specify properties of values that are checked at various points in the
program.</p><p>A contract may be <span class="emph">flat</span>, in which case it is checked immediately
against a value. Or a contract may by <span class="emph">higher-order</span>, in which case
it may have to wrap a value to perform further checking in the future.</p><p>A number of DSSL2 values may be used as contracts, including:</p><ul><li><p>Booleans, which allow only themselves.</p></li><li><p>Characters, which allow only themselves.</p></li><li><p>Numbers, which allow only themselves.</p></li><li><p>Strings, which allow only themselves.</p></li><li><p>Functions of one argument, which are treated as flat
  contracts by applying as predicates.</p></li><li><p>Contracts created using the contract combinators such as
  <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Or.C%29%29" class="RktStxLink" data-pltdoc="x">OrC</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Fun.C%29%29" class="RktStxLink" data-pltdoc="x">FunC</a></span> described below.</p></li></ul><p>For example, to ensure that a function takes a string and returns a
number or <span class="RktMeta"></span><span class="RktVal">False</span><span class="RktMeta"></span>, we could use the contract
<span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Fun.C%29%29" class="RktStxLink" data-pltdoc="x">FunC</a></span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._str~3f%29%29" class="RktStxLink" data-pltdoc="x">str?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Or.C%29%29" class="RktStxLink" data-pltdoc="x">OrC</a></span><span class="RktPn">(</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._num~3f%29%29" class="RktStxLink" data-pltdoc="x">num?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">False</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span>.</p><h4 x-source-module="(lib &quot;dssl2/scribblings/dssl2.scrbl&quot;)" x-source-pkg="dssl2" x-part-tag="&quot;Contract_syntax&quot;">6.1<tt>&nbsp;</tt><a name="(part._.Contract_syntax)"></a>Contract syntax</h4><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>compound</p></div></div><p class="RForeground"><span class="stt"><span style="font-weight: bold"><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span></span>&#160;<span style="font-style: italic"><span class="RktVal">var_name</span></span> : &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span>&#10217; = &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span>&#10217;</span></p></blockquote></td></tr></table></blockquote><p>Binds variable <span style="font-style: italic"><span class="RktVal">var_name</span></span> to the value of expression &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span>&#10217;,
while applying the contract &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span>&#10217;. Subsequent assignments
to the variable also must satisfy the contract. For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Note that the &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">rhs</span>&#10217; is optional, and the contract will not be
checked before the variable is assigned:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">5</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>compound</p></div></div><p class="RForeground"><span class="stt"><span style="font-weight: bold"><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span></span>&#160;<span class="RktVal"><span style="font-style: italic">name</span><span style="vertical-align: sub; font-size: 80%">f</span></span>(<span class="RktVal"><span style="font-style: italic">name</span><span style="vertical-align: sub; font-size: 80%">1</span></span>: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">1</span>&#10217;, ..., <span class="RktVal"><span style="font-style: italic">name</span><span style="vertical-align: sub; font-size: 80%">k</span></span>: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">k</span>&#10217;) -&gt; &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">res</span>&#10217;: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-block%29" class="plainlink" data-pltdoc="x">block</a></span>&#10217;</span></p></blockquote></td></tr></table></blockquote><p>Defines function <span class="RktVal"><span style="font-style: italic">name</span><span style="vertical-align: sub; font-size: 80%">f</span></span> while specifying contract expressions
&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">1</span>&#10217; through &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">k</span>&#10217; for the parameters, and contract
expression &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">res</span>&#10217; for the result. For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">pythag</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._num~3f%29%29" class="RktStxLink" data-pltdoc="x">num?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._num~3f%29%29" class="RktStxLink" data-pltdoc="x">num?</a></span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._num~3f%29%29" class="RktStxLink" data-pltdoc="x">num?</a></span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._%2A%29%29" class="RktStxLink" data-pltdoc="x">*</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._%2B%29%29" class="RktStxLink" data-pltdoc="x">+</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._%2A%29%29" class="RktStxLink" data-pltdoc="x">*</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">.</span><span class="RktSym">sqrt</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Each of the contract positions is optional, and if omitted defaults to
<span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span>.</p><p>Optionally, after <span class="RktVal"><span style="font-style: italic">name</span><span style="vertical-align: sub; font-size: 80%">f</span></span> and before the left parenthesis,
&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-opt_cvars%29" class="plainlink" data-pltdoc="x">opt_cvars</a></span>&#10217; may appear: one or more comma-separated names,
enclosed in square brackets. These are optional contract parameters to
the function, which can appear in the contracts on the rest of the
parameters, the result, and anywhere in the body of the function.</p><p>For example, a vector mapping function might be defined with contract
parameters and contracts on its parameters as follows:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">vec_map</span><span class="RktPn">[</span><span class="RktSym">T</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">U</span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Fun.C%29%29" class="RktStxLink" data-pltdoc="x">FunC</a></span><span class="RktPn">[</span><span class="RktSym">T</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">U</span><span class="RktPn">]</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Vec.C%29%29" class="RktStxLink" data-pltdoc="x">VecC</a></span><span class="RktPn">[</span><span class="RktSym">T</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Vec.C%29%29" class="RktStxLink" data-pltdoc="x">VecC</a></span><span class="RktPn">[</span><span class="RktSym">U</span><span class="RktPn">]</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">f</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">for</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">e</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">in</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr></table></blockquote><p>When calling <span class="RktMeta"></span><span class="RktSym">vec_map</span><span class="RktMeta"></span>, it&rsquo;s possible to supply actual contracts
for <span class="RktMeta"></span><span class="RktSym">T</span><span class="RktMeta"></span> and <span class="RktMeta"></span><span class="RktSym">U</span><span class="RktMeta"></span> in square brackets; or omitting the square
brackets, the contracts both default to <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span>.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>compound</p></div></div><p class="RForeground"><span class="stt"><span style="font-weight: bold"><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></span>&#160;<span style="font-style: italic"><span class="RktVal">name</span></span>:</span></p></blockquote></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">let</span></span> <span class="RktVal"><span style="font-style: italic">field_name</span><span style="vertical-align: sub; font-size: 80%">1</span></span>: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">1</span>&#10217;</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;...</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">let</span></span> <span class="RktVal"><span style="font-style: italic">field_name</span><span style="vertical-align: sub; font-size: 80%">k</span></span>: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">k</span>&#10217;</span></p></td></tr></table></blockquote><p>Defines a structure <span style="font-style: italic"><span class="RktVal">name</span></span> with the given contracts &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">i</span>&#10217;
applied to the fields <span class="RktVal"><span style="font-style: italic">field_name</span><span style="vertical-align: sub; font-size: 80%">i</span></span>. This means that the contracts will
be applied both when constructing the structure and when mutating it.
For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">posn</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span><span class="RktMeta"></span></td></tr></table></blockquote><p>Now constructing a <span class="RktMeta"></span><span class="RktSym">posn</span><span class="RktMeta"></span> will require both parameters to satisfy
the <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span> predicate, as will assigning to either field.</p><p>It&#8217;s possible to include contracts on some fields without including them
on all, and the fields with omitted contracts default to <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span>.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>compound</p></div></div><p class="RForeground"><span class="stt"><span style="font-weight: bold"><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span></span>&#160;<span style="font-style: italic"><span class="RktVal">name</span></span> <span class="RktOut"><span class="Larger"><span class="Larger">[</span></span></span><span class="stt">&#160;</span>[<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">{</span></span></span><span class="stt">&#160;</span><span style="font-style: italic"><span class="RktVal">cvar</span></span><span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">},*</span></span></span><span class="stt">&#160;</span>]<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">]</span></span></span> <span class="RktOut"><span class="Larger"><span class="Larger">[</span></span></span><span class="stt">&#160;</span>(<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">{</span></span></span><span class="stt">&#160;</span><span style="font-style: italic"><span class="RktVal">interface_name</span></span><span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">},*</span></span></span><span class="stt">&#160;</span>)<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">]</span></span></span>:</span></p></blockquote></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">let</span></span> <span class="RktVal"><span style="font-style: italic">field_name</span><span style="vertical-align: sub; font-size: 80%">1</span></span>: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">field_1</span>&#10217;</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;...</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">let</span></span> <span class="RktVal"><span style="font-style: italic">field_name</span><span style="vertical-align: sub; font-size: 80%">k</span></span>: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">field_k</span>&#10217;</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">def</span></span> <span class="RktVal"><span style="font-style: italic">meth_name</span><span style="vertical-align: sub; font-size: 80%">0</span></span>(<span class="RktVal"><span style="font-style: italic">self</span><span style="vertical-align: sub; font-size: 80%">0</span></span> <span class="RktOut"><span class="Larger"><span class="Larger">{</span></span></span><span class="stt">&#160;</span>,<span class="stt">&#160;</span><span class="RktVal"><span style="font-style: italic">arg_name</span><span style="vertical-align: sub; font-size: 80%">0</span></span>:<span class="stt">&#160;</span>&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">arg_0</span>&#10217;<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">}*</span></span></span>) -&gt; &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">res_0</span>&#10217;: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-block%29" class="plainlink" data-pltdoc="x">block</a></span><span style="vertical-align: sub; font-size: 80%">0</span>&#10217;</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;...</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">def</span></span> <span class="RktVal"><span style="font-style: italic">meth_name</span><span style="vertical-align: sub; font-size: 80%">n</span></span>(<span class="RktVal"><span style="font-style: italic">self</span><span style="vertical-align: sub; font-size: 80%">n</span></span> <span class="RktOut"><span class="Larger"><span class="Larger">{</span></span></span><span class="stt">&#160;</span>,<span class="stt">&#160;</span><span class="RktVal"><span style="font-style: italic">arg_name</span><span style="vertical-align: sub; font-size: 80%">n</span></span>:<span class="stt">&#160;</span>&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">arg_n</span>&#10217;<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">}*</span></span></span>) -&gt; &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">res_n</span>&#10217;: &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-block%29" class="plainlink" data-pltdoc="x">block</a></span><span style="vertical-align: sub; font-size: 80%">n</span>&#10217;</span></p></td></tr></table></blockquote><p>Defines a class with contracts. See <span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span> for the basics of
classes.</p><p>Contracts may be placed on:</p><ul><li><p>fields, which are checked when the field is assigned,</p></li><li><p>non-self method parameters, which are checked when the method is invoked, and</p></li><li><p>method results, which are checked when the method returns.</p></li></ul><p>Any contracts may be omitted, and default to <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span>. No contract
may be placed on a method&rsquo;s self parameter, as that parameter is already
known to be an instance of the class.</p><p>If the class implements interfaces that have contracts, the interfaces&rsquo;
contracts have no effect on the defined class.</p><p>A class may have some number of generic contract parameters,
<span style="font-style: italic"><span class="RktVal">cvar</span></span>. These can be used to parameterize a class over other
contracts. When provided, they are in scope throughout the class. The
external constructor receives the actual contracts for an instance of
the class as optional, square bracket parameters, giving before the
ordinary parameters that are passed to the internal constructor.</p><p>For example, we can define a generic position class:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktPn">[</span><span class="RktSym">T</span><span class="RktPn">]</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">_x</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">_y</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">__init__</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_y</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_x</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_y</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Now it is possible to make a position with <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span> coordinates or
a position with <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span> coordinates, by passing the coordinate
contract in square brackets to the <span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktMeta"></span> constructor:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">p</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktVal">3</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">q</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktVal">3.0</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4.0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Specifying contract parameters is optional, and if omitted, they default
to <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span>. So we can write</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktPn">(</span><span class="RktVal">3</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4.0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>to get a <span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktPn">]</span><span class="RktMeta"></span>.</p><p>When a contract parameter is given, the <span class="stt">Posn</span> constructor and methods
all check the given values against the given contract.</p><p>When a class has generic contract parameters, its predicate can also be
instantiated with contracts, using square brackets:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._not%29%29" class="RktStxLink" data-pltdoc="x">not</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">q</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._not%29%29" class="RktStxLink" data-pltdoc="x">not</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._not%29%29" class="RktStxLink" data-pltdoc="x">not</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">q</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._not%29%29" class="RktStxLink" data-pltdoc="x">not</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._float~3f%29%29" class="RktStxLink" data-pltdoc="x">float?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>If the predicate is not instantiated, it recognizes all objects of that
class regardless of how their contract parameters are instantiated:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">(</span><span class="RktSym">q</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">(</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Note that a predicate not being instantated is different from
instantiating it with <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._not%29%29" class="RktStxLink" data-pltdoc="x">not</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._not%29%29" class="RktStxLink" data-pltdoc="x">not</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">q</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn?</span><span class="RktPn">[</span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>compound</p></div></div><p class="RForeground"><span class="stt"><span style="font-weight: bold"><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._interface%29%29" class="RktStxLink" data-pltdoc="x">interface</a></span></span>&#160;<span style="font-style: italic"><span class="RktVal">name</span></span> <span class="RktOut"><span class="Larger"><span class="Larger">[</span></span></span><span class="stt">&#160;</span>[<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">{</span></span></span><span class="stt">&#160;</span><span style="font-style: italic"><span class="RktVal">cvar</span></span><span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">},*</span></span></span><span class="stt">&#160;</span>]<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">]</span></span></span>:</span></p></blockquote></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">def</span></span> <span class="RktVal"><span style="font-style: italic">meth_name</span><span style="vertical-align: sub; font-size: 80%">1</span></span>(<span class="RktVal"><span style="font-style: italic">self</span><span style="vertical-align: sub; font-size: 80%">1</span></span> <span class="RktOut"><span class="Larger"><span class="Larger">{</span></span></span><span class="stt">&#160;</span>,<span class="stt">&#160;</span><span class="RktVal"><span style="font-style: italic">arg_name</span><span style="vertical-align: sub; font-size: 80%">1</span></span>:<span class="stt">&#160;</span>&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">arg_1</span>&#10217;<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">}*</span></span></span>) -&gt; &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">res_1</span>&#10217;</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;...</span></p></td></tr><tr><td><p><span class="stt">&#160;&#160;&#160;&#160;<span class="RktSym"><span class="RktSymDef RktSym">def</span></span> <span class="RktVal"><span style="font-style: italic">meth_name</span><span style="vertical-align: sub; font-size: 80%">k</span></span>(<span class="RktVal"><span style="font-style: italic">self</span><span style="vertical-align: sub; font-size: 80%">n</span></span> <span class="RktOut"><span class="Larger"><span class="Larger">{</span></span></span><span class="stt">&#160;</span>,<span class="stt">&#160;</span><span class="RktVal"><span style="font-style: italic">arg_name</span><span style="vertical-align: sub; font-size: 80%">k</span></span>:<span class="stt">&#160;</span>&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">arg_n</span>&#10217;<span class="stt">&#160;</span><span class="RktOut"><span class="Larger"><span class="Larger">}*</span></span></span>) -&gt; &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-ctc%29" class="plainlink" data-pltdoc="x">ctc</a></span><span style="vertical-align: sub; font-size: 80%">res_k</span>&#10217;</span></p></td></tr></table></blockquote><p>Defines a interface with contracts. See <span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._interface%29%29" class="RktStxLink" data-pltdoc="x">interface</a></span> for the
basics of interfaces.</p><p>As with a class, contracts may be provided on method parameters (except
for self) and results. The contracts have no effect when a class
implements the interface, but do have an effect with the interface
is used to protect an instance of a class that implements it.</p><p>Defining an interface <span style="font-style: italic"><span class="RktVal">name</span></span> binds three identifiers: <span style="font-style: italic"><span class="RktVal">name</span></span>,
<span class="stt"><span style="font-style: italic"><span class="RktVal">name</span></span>?</span>, and <span class="stt"><span style="font-style: italic"><span class="RktVal">name</span></span>!</span>. The first of these is used in
<span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span> definitions to refer to the interface; the second is the
predicate, which recognizes instances of classes that implement the
interface. The third is the <a name="(tech._interface._contract)"></a><span style="font-style: italic">interface contract</span>, which can be used
to protect instances of classes that implement the interface, to ensure
that their usage is only via the interface.</p><p>When an interface contract protects an object, first it checks the class
of the object. If the class is not declared to implement the interface,
an error is signaled. If the class does implement the interface, then a
<span class="emph">protected object</span> is created. The protected object is like the
original object, except that only the methods of the interface are
usable; all other methods will error, blaming the caller, if called.
Furthermore, any contracts specified on methods in the interface are
applied to those methods of the protected object. (Reprotecting a
protected object with the same interface has no effect.)</p><p>Here is an example of an interface with one method and a class that
implements it:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._interface%29%29" class="RktStxLink" data-pltdoc="x">interface</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">HAS_X</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get_x</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">HAS_X</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">__init__</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">y</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get_x</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">x</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get_y</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">y</span><span class="RktMeta"></span></td></tr></table></blockquote><p>We might want to ensure that some client code uses an instance of
<span class="stt">Posn</span> only according to the <span class="stt">HAS_X</span> interface, without accessing
its other methods. We can use the <span class="RktMeta"></span><span class="RktSym">HAS_X!</span><span class="RktMeta"></span> interface contract to
protect a <span class="stt">Posn</span> instance in exactly this way. First, we create
an object and use it normally:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">original</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Posn</span><span class="RktPn">(</span><span class="RktVal">3</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">original</span><span class="RktPn">.</span><span class="RktSym">get_x</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d~3d%29%29" class="RktStxLink" data-pltdoc="x">==</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">original</span><span class="RktPn">.</span><span class="RktSym">get_y</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d~3d%29%29" class="RktStxLink" data-pltdoc="x">==</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">HAS_X?</span><span class="RktPn">(</span><span class="RktSym">original</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Note that the interface predicate <span class="stt">HAS_X?</span> answers <span class="RktMeta"></span><span class="RktVal">True</span><span class="RktMeta"></span> for
instances of classes that implement <span class="stt">HAS_X</span>.</p><p>We can protect the original object by applying the <span class="stt">HAS_X!</span> interface
contract, as follows:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">protected</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">HAS_X!</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">original</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Now, we can call <span class="RktMeta"></span><span class="RktSym">protected</span><span class="RktPn">.</span><span class="RktSym">get_x</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span> because interface <span class="stt">HAS_X</span>
defines the <span class="stt">get_x</span> method. But we cannot call <span class="stt">get_y</span> on
<span class="stt">protected</span>, because protecting it with <span class="stt">HAS_X!</span> makes all methods
other than <span class="stt">get_x</span> raise an error:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">protected</span><span class="RktPn">.</span><span class="RktSym">get_x</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d~3d%29%29" class="RktStxLink" data-pltdoc="x">==</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert_error%29%29" class="RktStxLink" data-pltdoc="x">assert_error</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">protected</span><span class="RktPn">.</span><span class="RktSym">get_y</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">\</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'interface</span><span class="hspace">&nbsp;</span><span class="RktVal">HAS_X</span><span class="hspace">&nbsp;</span><span class="RktVal">is</span><span class="hspace">&nbsp;</span><span class="RktVal">protecting</span><span class="hspace">&nbsp;</span><span class="RktVal">method</span><span class="hspace">&nbsp;</span><span class="RktVal">get_y'</span><span class="RktMeta"></span></td></tr></table></blockquote><p>We can still access <span class="stt">get_y</span> on <span class="RktMeta"></span><span class="RktSym">original</span><span class="RktMeta"></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">original</span><span class="RktPn">.</span><span class="RktSym">get_x</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d~3d%29%29" class="RktStxLink" data-pltdoc="x">==</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">original</span><span class="RktPn">.</span><span class="RktSym">get_y</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d~3d%29%29" class="RktStxLink" data-pltdoc="x">==</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4</span><span class="RktMeta"></span></td></tr></table></blockquote><p>As another example of how interface contracts can protect objects
against misuse, consider the following class <span class="stt">Counter</span>, which
implements an interface <span class="stt">STEPPABLE</span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._interface%29%29" class="RktStxLink" data-pltdoc="x">interface</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">STEPPABLE</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">step</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Counter</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">STEPPABLE</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">count</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">__init__</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">value</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">count</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">value</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">count</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">step</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">count</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">count</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._%2B%29%29" class="RktStxLink" data-pltdoc="x">+</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The <span class="stt">STEPPABLE!</span> interface contract can be placed on a parameter to a
function to ensure that the function only uses the given object
according to the <span class="stt">STEPPABLE</span> interface. For example, we know that this
<span class="stt">advance</span> function can only use the <span class="stt">step</span> method to advance the
<span class="stt">Counter</span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">advance</span><span class="RktPn">(</span><span class="RktSym">counter</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">STEPPABLE!</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">count</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._nat~3f%29%29" class="RktStxLink" data-pltdoc="x">nat?</a></span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._while%29%29" class="RktStxLink" data-pltdoc="x">while</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">count</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3e%29%29" class="RktStxLink" data-pltdoc="x">&gt;</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">counter</span><span class="RktPn">.</span><span class="RktSym">step</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">count</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">count</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._-%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span></td></tr></table></blockquote><p>A version of the function that attempts to do addition will fail because
the necessary methods aren&rsquo;t usable when the object is protected:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">sneaky_advance</span><span class="RktPn">(</span><span class="RktSym">counter</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">STEPPABLE!</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">count</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._nat~3f%29%29" class="RktStxLink" data-pltdoc="x">nat?</a></span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">#</span><span class="hspace">&nbsp;</span><span class="RktCmt">Won't</span><span class="hspace">&nbsp;</span><span class="RktCmt">work</span><span class="hspace">&nbsp;</span><span class="RktCmt">because</span><span class="hspace">&nbsp;</span><span class="RktCmt">both</span><span class="hspace">&nbsp;</span><span class="RktCmt">.__init__</span><span class="hspace">&nbsp;</span><span class="RktCmt">and</span><span class="hspace">&nbsp;</span><span class="RktCmt">.get</span><span class="hspace">&nbsp;</span><span class="RktCmt">are</span><span class="hspace">&nbsp;</span><span class="RktCmt">missing.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">counter</span><span class="RktPn">.</span><span class="RktSym">__init__</span><span class="RktPn">(</span><span class="RktSym">counter</span><span class="RktPn">.</span><span class="RktSym">get</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._%2B%29%29" class="RktStxLink" data-pltdoc="x">+</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">count</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Like classes, interfaces can have generic contract parameters
<span style="font-style: italic"><span class="RktVal">cvar</span></span>. When an interface has generic contract parameters,
these parameters are available to the contracts in the body of the
interface. The interface contract <span class="stt"><span style="font-style: italic"><span class="RktVal">name</span></span>!</span> takes its contract
parameters as optional square bracket parameters that default to
<span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span>.</p><p>For example, here is a generic interface for a queue:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._interface%29%29" class="RktStxLink" data-pltdoc="x">interface</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">QUEUE</span><span class="RktPn">[</span><span class="RktSym">T</span><span class="RktPn">]</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">empty</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._bool~3f%29%29" class="RktStxLink" data-pltdoc="x">bool?</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">enqueue</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">value</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.None.C%29%29" class="RktStxLink" data-pltdoc="x">NoneC</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">dequeue</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Or.C%29%29" class="RktStxLink" data-pltdoc="x">OrC</a></span><span class="RktPn">(</span><span class="RktVal">False</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>This interface definition binds three identifiers:</p><ul><li><p>Interface name <span class="stt">QUEUE</span>, which can be used to declare
that classes implement the interface.</p></li><li><p>Predicate <span class="stt">QUEUE?</span>, which answers <span class="RktMeta"></span><span class="RktVal">True</span><span class="RktMeta"></span> for instances
of classes that implement <span class="stt">QUEUE</span>, as well as <span class="stt">QUEUE</span> interface
objects.</p></li><li><p>Generic interface contract <span class="stt">QUEUE!</span>, which optionally takes
one square-bracket contract parameter. The resulting contract will
protect an instance of any class that implements <span class="stt">QUEUE</span> by
disabling all but the <span class="stt">empty?</span>, <span class="stt">enqueue</span>, and <span class="stt">dequeue</span>
methods, and applying the given contracts to each. For example,
<span class="RktMeta"></span><span class="RktSym">QUEUE!</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktMeta"></span>, when protecting an object, ensures that its
<span class="stt">enqueue</span> method is given an <span class="stt">int?</span>. Or <span class="RktMeta"></span><span class="RktSym">QUEUE!</span><span class="RktMeta"></span> can be
used to protect an object, without specifying an element contract.</p></li></ul><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>expr</p></div></div><p class="RForeground"><span class="stt">&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">0</span>&#10217;[&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">1</span>&#10217;, ..., &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">k</span>&#10217;]</span></p></blockquote></td></tr></table></blockquote><p>Indexes or instantiates the result of &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">0</span>&#10217;.</p><p>If &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">0</span>&#10217; evalutes to a vector or string, then <span class="RktMeta"></span><span class="RktSym">k</span><span class="RktMeta"></span> must
equal <span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span>, and this is an <a href="exp-forms.html#%28part._indexing%29" data-pltdoc="x">indexing
expression</a>.</p><p>If &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">0</span>&#10217; is a generic function, class, or contract, then
&#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">1</span>&#10217;, ..., &#10216;<span style="font-style: italic"><a href="Formal_grammar.html#%28elem._nt-expr%29" class="plainlink" data-pltdoc="x">expr</a></span><span style="vertical-align: sub; font-size: 80%">k</span>&#10217; are the parameters used to instantiate
the generic function, class, or contract. For example, function contracts
are created using <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Fun.C%29%29" class="RktStxLink" data-pltdoc="x">FunC</a></span> and square brackets:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Fun.C%29%29" class="RktStxLink" data-pltdoc="x">FunC</a></span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._char~3f%29%29" class="RktStxLink" data-pltdoc="x">char?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._str~3f%29%29" class="RktStxLink" data-pltdoc="x">str?</a></span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Or here is an example of a generic pair class, which can be instantiated
to particular contracts for its components using square brackets:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Pair</span><span class="RktPn">[</span><span class="RktSym">T</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">U</span><span class="RktPn">]</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">_fst</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">_snd</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">__init__</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">fst</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">snd</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">U</span><span class="RktPn">)</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_fst</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">fst</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_snd</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d%29%29" class="RktStxLink" data-pltdoc="x">=</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">snd</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">fst</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">T</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_fst</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">snd</span><span class="RktPn">(</span><span class="RktSym">self</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">-</span><span class="RktPn">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">U</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">self</span><span class="RktPn">.</span><span class="RktSym">_snd</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">p</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Pair</span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._str~3f%29%29" class="RktStxLink" data-pltdoc="x">str?</a></span><span class="RktPn">]</span><span class="RktPn">(</span><span class="RktVal">5</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'six'</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;dssl2/scribblings/dssl2.scrbl&quot;)" x-source-pkg="dssl2" x-part-tag="&quot;Contract_combinators&quot;">6.2<tt>&nbsp;</tt><a name="(part._.Contract_combinators)"></a>Contract combinators</h4><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>constant</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.Any.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">AnyC</a></span></span>: <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span></span></p></blockquote></td></tr></table></blockquote><p>A flat contract that accepts any value.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>constant</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.None.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.None.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">NoneC</a></span></span>: <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span></span></p></blockquote></td></tr></table></blockquote><p>A flat contract that accepts the value <span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.None%29%29" class="RktStxLink" data-pltdoc="x">None</a></span>, which is the
result of <span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._pass%29%29" class="RktStxLink" data-pltdoc="x">pass</a></span> and other statements that return no value (such
as assignment and loops). This is used as the result contract for
functions and methods that do not return a value.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.Vec.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Vec.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">VecC</a></span></span>[<span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span>]: <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span></span></p></blockquote></td></tr></table></blockquote><p>Creates a contract that protects a vector to ensure that its elements
satisfy the given contract.</p><p>For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Vec.C%29%29" class="RktStxLink" data-pltdoc="x">VecC</a></span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktVal">2</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Note that vector contracts are checked lazily, when elements are indexed
or assigned, rather than eagerly when first protected. So for example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Vec.C%29%29" class="RktStxLink" data-pltdoc="x">VecC</a></span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktVal">2</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'four'</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">#</span><span class="hspace">&nbsp;</span><span class="RktCmt">okay,</span><span class="hspace">&nbsp;</span><span class="RktCmt">not</span><span class="hspace">&nbsp;</span><span class="RktCmt">checked</span><span class="hspace">&nbsp;</span><span class="RktCmt">yet</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert%29%29" class="RktStxLink" data-pltdoc="x">assert</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktPn">[</span><span class="RktVal">1</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="exp-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._~3d~3d%29%29" class="RktStxLink" data-pltdoc="x">==</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">#</span><span class="hspace">&nbsp;</span><span class="RktCmt">passes</span><span class="hspace">&nbsp;</span><span class="RktCmt">check</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._assert_error%29%29" class="RktStxLink" data-pltdoc="x">assert_error</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktPn">[</span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">#</span><span class="hspace">&nbsp;</span><span class="RktCmt">fails</span><span class="hspace">&nbsp;</span><span class="RktCmt">check</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Assigning a non-integer to an element of <span class="RktMeta"></span><span class="RktSym">v</span><span class="RktMeta"></span> is an error as well.</p><p>If the optional square bracket parameter is omitted, <span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Vec.C%29%29" class="RktStxLink" data-pltdoc="x">VecC</a></span> just
checks that the protected value is a vector.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.Tup.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Tup.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">TupC</a></span></span>[<span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span>, ..., <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span>]: <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span></span></p></blockquote></td></tr></table></blockquote><p>Creates a contract that protects a vector to ensure that its first element
matches the first given contract, its second element matches the second given
contract, and so on.</p><p>For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktSym"><a href="stm-forms.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">t</span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Tup.C%29%29" class="RktStxLink" data-pltdoc="x">TupC</a></span><span class="RktPn">[</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._str~3f%29%29" class="RktStxLink" data-pltdoc="x">str?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktVal">2</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"three"</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.Fun.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Fun.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">FunC</a></span></span>[<span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span>, ..., <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span>]: <span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span></span></p></blockquote></td></tr></table></blockquote><p>Creates a function contract with the given arguments and result. The
last argument is a contract applied to the result, and all the other
arguments are contracts applied to the parameters.</p><p>If the optional square bracket parameters are omitted, the resulting
contract checks for a procedure, but nothing further.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.Not.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Not.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">NotC</a></span></span>(<span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>) -&gt; <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span></span></p></blockquote></td></tr></table></blockquote><p>Creates a contract that inverts the sense of the given flat contract.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.Or.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Or.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">OrC</a></span></span>(<span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>, <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>, ...) -&gt; <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span></span></p></blockquote></td></tr></table></blockquote><p>Creates a contract that accepts a value if any of the arguments does.
For the details of how this works for higher-order contracts, see
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">racket:or/c</a></span>.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.And.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.And.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">AndC</a></span></span>(<span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>, <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>, ...) -&gt; <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span></span></p></blockquote></td></tr></table></blockquote><p>Creates a contract that accepts a value if all of the arguments do.
For the details of how this works for higher-order contracts, see
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">racket:and/c</a></span>.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._.Int.In.C))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Int.In.C%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">IntInC</a></span></span>(low: <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Or.C%29%29" class="RktStxLink" data-pltdoc="x">OrC</a></span><span class="RktPn">(</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">False</span><span class="RktPn">)</span><span class="RktMeta"></span>, high: <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Or.C%29%29" class="RktStxLink" data-pltdoc="x">OrC</a></span><span class="RktPn">(</span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._int~3f%29%29" class="RktStxLink" data-pltdoc="x">int?</a></span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">False</span><span class="RktPn">)</span><span class="RktMeta"></span>) -&gt; <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span></span></p></blockquote></td></tr></table></blockquote><p>Constructs a contract that accepts integers in the closed interval
[<span class="stt">low</span>, <span class="stt">high</span>]. If either end of the interval is <span class="RktMeta"></span><span class="RktVal">False</span><span class="RktMeta"></span>,
that end of the interval is unchecked.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="stt"><a name="(form._((lib._dssl2/main..rkt)._apply_contract))"></a><span title="Provided from: dssl2 | Package: dssl2"><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._apply_contract%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">apply_contract</a></span></span>(<span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>, <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktMeta"></span>) -&gt; <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktMeta"></span></span></p></blockquote></td></tr><tr><td><p><span class="stt"><span class="RktSym"><span class="RktSymDef RktSym">apply_contract</span></span>(<span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>, <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktMeta"></span>, pos: <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._str~3f%29%29" class="RktStxLink" data-pltdoc="x">str?</a></span><span class="RktMeta"></span>) -&gt; <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktMeta"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="RktSym"><span class="RktSymDef RktSym">apply_contract</span></span>(<span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._contract~3f%29%29" class="RktStxLink" data-pltdoc="x">contract?</a></span><span class="RktMeta"></span>, <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktMeta"></span>, pos: <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._str~3f%29%29" class="RktStxLink" data-pltdoc="x">str?</a></span><span class="RktMeta"></span>, neg: <span class="RktMeta"></span><span class="RktSym"><a href="prims.html#%28form._%28%28lib._dssl2%2Fmain..rkt%29._str~3f%29%29" class="RktStxLink" data-pltdoc="x">str?</a></span><span class="RktMeta"></span>) -&gt; <span class="RktMeta"></span><span class="RktSym"><a href="#%28form._%28%28lib._dssl2%2Fmain..rkt%29._.Any.C%29%29" class="RktStxLink" data-pltdoc="x">AnyC</a></span><span class="RktMeta"></span></span></p></td></tr></table></blockquote><p>Applies a contract to a value, optionally specifying the parties.</p><p>You are unlikely to need to use this.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="prims.html" title="backward to &quot;5 Built-in functions, classes, methods, and constants&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;DSSL2: Data Structures Student Language&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="The_cons_library.html" title="forward to &quot;7 The cons library&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/dssl2/Contracts.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:27 GMT -->
</html>