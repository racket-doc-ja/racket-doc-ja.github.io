<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/suffixtree/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:06:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Suffix trees with Ukkonen's algorithm</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Suffix trees with Ukkonen&rsquo;s algorithm</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Example%29" class="tocviewlink" data-pltdoc="x">Example</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.A.P.I%29" class="tocviewlink" data-pltdoc="x">API</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Extended_example__keyword_search%29" class="tocviewlink" data-pltdoc="x">Extended example:<span class="mywbr"> &nbsp;</span> keyword search</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Caveats%29" class="tocviewlink" data-pltdoc="x">Caveats</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.References%29" class="tocviewlink" data-pltdoc="x">References</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Suffix trees with Ukkonen&rsquo;s algorithm</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Example%29" class="tocsubseclink" data-pltdoc="x">Example</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.A.P.I%29" class="tocsubseclink" data-pltdoc="x">API</a></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Trees%29" class="tocsubseclink" data-pltdoc="x">Trees</a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>tree</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-root%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>root</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>add!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>walk</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>contains?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Nodes%29" class="tocsubseclink" data-pltdoc="x">Nodes</a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-up-label%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>up-<wbr></wbr>label</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-parent%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>parent</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-suffix-link%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>suffix-<wbr></wbr>link</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-find-child%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>find-<wbr></wbr>child</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-children%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>children</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Labels%29" class="tocsubseclink" data-pltdoc="x">Labels</a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">string-<wbr></wbr>&gt;label</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%2Fwith-sentinel%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">string-<wbr></wbr>&gt;label/<span class="mywbr"> &nbsp;</span>with-<wbr></wbr>sentinel</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3estring%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">label-<wbr></wbr>&gt;string</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._vector-~3elabel%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>&gt;label</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._vector-~3elabel%2Fwith-sentinel%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>&gt;label/<span class="mywbr"> &nbsp;</span>with-<wbr></wbr>sentinel</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3evector%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">label-<wbr></wbr>&gt;vector</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._sublabel%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sublabel</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-ref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">label-<wbr></wbr>ref</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-length%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">label-<wbr></wbr>length</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-equal~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">label-<wbr></wbr>equal?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-source-eq~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">label-<wbr></wbr>source-<wbr></wbr>eq?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-source-id%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">label-<wbr></wbr>source-<wbr></wbr>id</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.4<tt>&nbsp;</tt></span><a href="#%28part._.Other_utilities%29" class="tocsubseclink" data-pltdoc="x">Other utilities</a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._longest-common-substring%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">longest-<wbr></wbr>common-<wbr></wbr>substring</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._longest-common-sublabel%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">longest-<wbr></wbr>common-<wbr></wbr>sublabel</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._path-label%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">path-<wbr></wbr>label</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Extended_example__keyword_search%29" class="tocsubseclink" data-pltdoc="x">Extended example:<span class="mywbr"> &nbsp;</span> keyword search</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Caveats%29" class="tocsubseclink" data-pltdoc="x">Caveats</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.References%29" class="tocsubseclink" data-pltdoc="x">References</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Suffix_trees_with_.Ukkonen_s_algorithm)"></a>Suffix trees with Ukkonen&rsquo;s algorithm</h2><p>Danny Yoo &lt;<a href="mailto:dyoo@hashcollision.org">dyoo@hashcollision.org</a>&gt;</p><p>This is an implementation of suffix trees and their linear-time
construction with the Ukkonen algorithm.  This implementation is based
on notes from Gusfield, "Algorithms on Strings, Trees, and Sequences".</p><h3 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Example&quot;">1<tt>&nbsp;</tt><a name="(part._.Example)"></a>Example</h3><p>Let&rsquo;s rush into a minimal example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">suffixtree</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"00010010$"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">root</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-children%29%29" class="RktValLink" data-pltdoc="x">node-children</a></span><span class="hspace">&nbsp;</span><span class="RktSym">root</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;node&gt;<span class="stt"> </span>#&lt;node&gt;<span class="stt"> </span>#&lt;node&gt;)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3estring%29%29" class="RktValLink" data-pltdoc="x">label-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-up-label%29%29" class="RktValLink" data-pltdoc="x">node-up-label</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-children%29%29" class="RktValLink" data-pltdoc="x">node-children</a></span><span class="hspace">&nbsp;</span><span class="RktSym">root</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"$"</span></p></td></tr></table></blockquote><h3 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Introduction&quot;">2<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>Suffix trees encode all the nonempty suffixes of a string.  For
example, the string "0100101$" corresponds to the following suffix
tree.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">root</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">V</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">+--- $</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">+--- 1 --- $</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">+---- 0 --- 0101$</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">+---- 1$</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">+--- 0 --- 0101$</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">+---- 1 ---- $</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">+----- 0 --- 1$</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">+---- 0101$</span></p></td></tr></table></p><p>Every path from the root to any leaf spells out a suffix of the string
<span class="RktVal">"0100101$"</span>, and every suffix is accounted for.  This in
itself might not sound too sexy, but by preprocessing a string as a
suffix tree, we can then do some amazing things.</p><p>For example, we can see if a substring is present in a suffix tree in
time bounded by the length of the substring by following characters
starting from the root.  Suffix trees also allow us to find the
longest common substring between strings in linear time.  Dan
Gusfield&rsquo;s book "Algorithms on Strings, Trees, and Sequences" sings
praises about suffix trees, and deservedly so.</p><p>Constructing a suffix tree can be done in linear-time; the algorithm
used here is Ukkonen&rsquo;s algorithm, since it&rsquo;s one of the simplest to
code.  That being said, the algorithm is not quite simple; for more
information on the construction algorithm, see the References section
below.</p><h3 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;API&quot;">3<tt>&nbsp;</tt><a name="(part._.A.P.I)"></a><a name="(mod-path._suffixtree)"></a>API</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._suffixtree%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">suffixtree</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/suffixtree" title="Install this package using `raco pkg install suffixtree`"><span class="stt">suffixtree</span></a></span></td></tr></table></p><p>The API consists of the main suffix tree algorithm, and auxillary
utilities and applications.</p><p>The main structures are trees, nodes, and labels.</p><h4 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Trees&quot;">3.1<tt>&nbsp;</tt><a name="(part._.Trees)"></a>Trees</h4><p>A suffix tree consists of a root.  This implementation allows multiple
labels to be added to the tree.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._make-tree))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-tree</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">tree</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Constructs an empty suffix tree with a single root node.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">a-tree</span></td></tr><tr><td><p><span class="RktRes">#&lt;suffix-tree&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._tree~3f))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">datum</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">datum</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns #t if datum is a suffix tree.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._tree-root))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-root%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-root</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">tree</span></td></tr></table></blockquote></div><div class="SIntrapara">Selects the root node from a tree.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;node&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._tree-add!))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-add!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">tree</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Adds a label and all of its nonempty suffixes to the tree.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"supercalifragilisticexpialidocious"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._tree-walk))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-walk</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span><span class="RktVar">succeed-f</span><span class="hspace">&nbsp;</span><span class="RktVar">fail-f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">tree</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">succeed-f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">number</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fail-f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">number</span><span class="hspace">&nbsp;</span><span class="RktSym">number</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Starting from the tree-root, walks along a path whose path
    label exactly matches the input label.</div></p><p>If the label matched completely, calls <span class="RktVar">succeed-f</span> with the
    position where the matching had succeeded.</p><p>If the label mismatched, calls <span class="RktVar">fail-f</span> with the tree position where
    the matching had failed.</p><p>The return value from tree-walk will either be <span class="RktSym">A</span> or <span class="RktSym">B</span>.</p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"banana"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">success-f</span><span class="hspace">&nbsp;</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">up-label-offset</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">up-label-offset</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">fail-f</span><span class="hspace">&nbsp;</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">up-label-offset</span><span class="hspace">&nbsp;</span><span class="RktSym">input-label-offset</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">up-label-offset</span><span class="hspace">&nbsp;</span><span class="RktSym">input-label-offset</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValLink" data-pltdoc="x">tree-walk</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"banana"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">success-f</span><span class="hspace">&nbsp;</span><span class="RktVar">fail-f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;node&gt;<span class="stt"> </span>6)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValLink" data-pltdoc="x">tree-walk</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"ban"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">success-f</span><span class="hspace">&nbsp;</span><span class="RktVar">fail-f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;node&gt;<span class="stt"> </span>3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValLink" data-pltdoc="x">tree-walk</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"ana"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">success-f</span><span class="hspace">&nbsp;</span><span class="RktVar">fail-f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;node&gt;<span class="stt"> </span>3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValLink" data-pltdoc="x">tree-walk</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"apple"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">success-f</span><span class="hspace">&nbsp;</span><span class="RktVar">fail-f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;node&gt;<span class="stt"> </span>1<span class="stt"> </span>1)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._tree-contains~3f))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-contains?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">tree</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if a path exists starting from the tree-root of the
    tree whose path-label exactly matches <span class="RktVar">a-label</span>.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"0100101$"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="RktValLink" data-pltdoc="x">tree-contains?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"01"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="RktValLink" data-pltdoc="x">tree-contains?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"001"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="RktValLink" data-pltdoc="x">tree-contains?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"011"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="RktValLink" data-pltdoc="x">tree-contains?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"0101"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="RktValLink" data-pltdoc="x">tree-contains?</a></span> is an application of <span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValLink" data-pltdoc="x">tree-walk</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-contains~3f%29%29" class="RktValLink" data-pltdoc="x">tree-contains?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree</span><span class="hspace">&nbsp;</span><span class="RktSym">label</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValLink" data-pltdoc="x">tree-walk</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree</span><span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">up-label-offset</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">up-label-offset</span><span class="hspace">&nbsp;</span><span class="RktSym">input-label-offset</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Nodes&quot;">3.2<tt>&nbsp;</tt><a name="(part._.Nodes)"></a>Nodes</h4><p>Nodes form the structure of the suffix tree, and link up children
nodes as well.  Every internal node I of a suffix tree will also have
a suffix-node whose path-label is the immediate suffix of node I.</p><p><div class="SIntrapara">For example, we can inspect the <span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-up-label%29%29" class="RktValLink" data-pltdoc="x">node-up-label</a></span> of each child of the root:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"peter piper"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-naturals%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-naturals</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-children%29%29" class="RktValLink" data-pltdoc="x">node-children</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~a: ~a\n"</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3estring%29%29" class="RktValLink" data-pltdoc="x">label-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-up-label%29%29" class="RktValLink" data-pltdoc="x">node-up-label</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">0: iper</span></p></td></tr><tr><td><p><span class="RktOut">1: p</span></p></td></tr><tr><td><p><span class="RktOut">2:</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">piper</span></p></td></tr><tr><td><p><span class="RktOut">3: r piper</span></p></td></tr><tr><td><p><span class="RktOut">4: e</span></p></td></tr><tr><td><p><span class="RktOut">5: ter piper</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-find-child%29%29" class="RktValLink" data-pltdoc="x">node-find-child</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#\p</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-naturals%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-naturals</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-children%29%29" class="RktValLink" data-pltdoc="x">node-children</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p-node</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~a: ~a\n"</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3estring%29%29" class="RktValLink" data-pltdoc="x">label-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-up-label%29%29" class="RktValLink" data-pltdoc="x">node-up-label</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">0: e</span></p></td></tr><tr><td><p><span class="RktOut">1: iper</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._node-up-label))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-up-label%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-up-label</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-node</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node</span></td></tr></table></blockquote></div><div class="SIntrapara">Selects the label of the edge that connects this node to its
parent.  The up-label of the root node is empty.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._node-parent))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-parent%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-parent</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-node</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node</span></td></tr></table></blockquote></div><div class="SIntrapara">Selects the parent of this node.  The root of a suffix tree has no
parent, so <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-parent%29%29" class="RktValLink" data-pltdoc="x">node-parent</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="stt"> </span><span class="RktSym">tree</span><span class="RktPn">)</span><span class="RktPn">)</span> returns <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._node-suffix-link))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-suffix-link%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-suffix-link</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-node</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node</span></td></tr></table></blockquote></div><div class="SIntrapara">Selects the suffix node of this node.  If the suffix-link is not
set, returns #f.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._node-find-child))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-find-child%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-find-child</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-node</span><span class="hspace">&nbsp;</span><span class="RktVar">a-label-element</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-node</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label-element</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label-element</span></td></tr></table></blockquote></div><div class="SIntrapara">Selects the child whose up-label starts with the label-element.  If no
such child can be found, returns <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._node-children))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-children%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-children</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">node</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-node</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node</span></td></tr></table></blockquote></div><div class="SIntrapara">Selects the list of children nodes to this node.  If the node is a
leaf, returns <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span>.</div></p><h4 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Labels&quot;">3.3<tt>&nbsp;</tt><a name="(part._.Labels)"></a>Labels</h4><p>Labels represent an immutable sequence of label-elements.
Label-elements can be anything that compare with equal?, but the most
common label-elements will be characters.  Labels can be sublabeled
with efficiency.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._string-~3elabel))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValDef RktValLink" data-pltdoc="x">string-&gt;label</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-string</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-string</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a label from a string.  Each of the label-elements of
this label will be a character.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._string-~3elabel/with-sentinel))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%2Fwith-sentinel%29%29" class="RktValDef RktValLink" data-pltdoc="x">string-&gt;label/with-sentinel</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-str</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-str</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a label from a string with a trailing sentinel
character to guarantee that all suffixes can be explicitely
represented in a suffix tree.  (See the Caveats section below for
details.)</div></p><p>Note that <span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3estring%29%29" class="RktValLink" data-pltdoc="x">label-&gt;string</a></span> can&rsquo;t be directly used on a label with a
sentinel.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._label-~3estring))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3estring%29%29" class="RktValDef RktValLink" data-pltdoc="x">label-&gt;string</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a string from a label, assuming that all label-elements
of the string are characters.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._vector-~3elabel))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._vector-~3elabel%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-&gt;label</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-vec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-vec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a label from a vector.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._vector-~3elabel/with-sentinel))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._vector-~3elabel%2Fwith-sentinel%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-&gt;label/with-sentinel</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-vec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-vec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a label from a vector with a trailing sentinel character.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._label-~3evector))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-~3evector%29%29" class="RktValDef RktValLink" data-pltdoc="x">label-&gt;vector</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">vector</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Selects a vector of the label-elements that represent the label.
This vector is immutable.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._sublabel))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._sublabel%29%29" class="RktValDef RktValLink" data-pltdoc="x">sublabel</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span><span class="RktVar">left-offset</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">right-offset</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">left-offset</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">right-offset</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-length%29%29" class="RktValLink" data-pltdoc="x">label-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">label</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Derives a new sliced label from the parent label, along the
half-open interval [<span class="RktVar">left-offset</span>, <span class="RktVar">right-offset</span>).</div></p><p>If right-offset is omitted, it defaults to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-length%29%29" class="RktValLink" data-pltdoc="x">label-length</a></span><span class="stt"> </span><span class="RktSym">label</span><span class="RktPn">)</span>.</p><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&lt;=</a></span><span class="stt"> </span><span class="RktVar">left-offset</span><span class="stt"> </span><span class="RktVar">right-offset</span><span class="RktPn">)</span> should be <span class="RktVal">#t</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._label-ref))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-ref%29%29" class="RktValDef RktValLink" data-pltdoc="x">label-ref</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span><span class="RktVar">a-offset</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label-element</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-offset</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the label&rsquo;s label-element at that offset.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._label-length))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-length%29%29" class="RktValDef RktValLink" data-pltdoc="x">label-length</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">number</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the length of a label.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._label-equal~3f))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-equal~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">label-equal?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">label-1</span><span class="hspace">&nbsp;</span><span class="RktVar">label-2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">label-1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">label-2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Produce true if the two labels have equal content.</div></p><p>Warning: two labels may have equal content, but come from
different sources.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._label-source-eq~3f))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-source-eq~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">label-source-eq?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">label-1</span><span class="hspace">&nbsp;</span><span class="RktVar">label-2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">label-1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">label-2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if both labels share a common derivation from
sublabeling.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._label-source-id))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-source-id%29%29" class="RktValDef RktValLink" data-pltdoc="x">label-source-id</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-label</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">number</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-label</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an numeric identifier for this label.</div></p><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-source-eq~3f%29%29" class="RktValLink" data-pltdoc="x">label-source-eq?</a></span><span class="stt"> </span><span class="RktSym">label-1</span><span class="stt"> </span><span class="RktSym">label-2</span><span class="RktPn">)</span></p><p>logically implies:</p><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-source-id%29%29" class="RktValLink" data-pltdoc="x">label-source-id</a></span><span class="stt"> </span><span class="RktSym">label-1</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-source-id%29%29" class="RktValLink" data-pltdoc="x">label-source-id</a></span><span class="stt"> </span><span class="RktSym">label-2</span><span class="RktPn">)</span><span class="RktPn">)</span></p><h4 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Other_utilities&quot;">3.4<tt>&nbsp;</tt><a name="(part._.Other_utilities)"></a>Other utilities</h4><p>This module provides some example applications of suffix trees.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._longest-common-substring))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._longest-common-substring%29%29" class="RktValDef RktValLink" data-pltdoc="x">longest-common-substring</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">string-1</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">string-2</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">string-1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">string-2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the longest common substring between the two strings.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._longest-common-substring%29%29" class="RktValLink" data-pltdoc="x">longest-common-substring</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktVal">"Lambda: the Ultimate Imperative"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktVal">"Procedure Call Implementations Considered Harmful, or, Lambda: the Ultimate GOTO"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"Lambda: the Ultimate "</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._longest-common-sublabel))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._longest-common-sublabel%29%29" class="RktValDef RktValLink" data-pltdoc="x">longest-common-sublabel</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">label-1</span><span class="hspace">&nbsp;</span><span class="RktVar">label-2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">label-1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">label-2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">label</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the longest sublabel that&rsquo;s shared between label-1 and label-2.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._suffixtree/main..rkt)._path-label))"></a><span title="Provided from: suffixtree | Package: suffixtree"><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._path-label%29%29" class="RktValDef RktValLink" data-pltdoc="x">path-label</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">label</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-node</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a new label that represents the path from the root to this
node.</div></p><h3 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Extended_example__keyword_search&quot;">4<tt>&nbsp;</tt><a name="(part._.Extended_example__keyword_search)"></a>Extended example: keyword search</h3><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">suffixtree</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">String</span><span class="hspace">&nbsp;</span><span class="RktCmt">reference</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">sref</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">string-&gt;label*:</span><span class="hspace">&nbsp;</span><span class="RktCmt">string</span><span class="hspace">&nbsp;</span><span class="RktCmt">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktCmt">label</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Creates</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">label</span><span class="hspace">&nbsp;</span><span class="RktCmt">out</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">string,</span><span class="hspace">&nbsp;</span><span class="RktCmt">but</span><span class="hspace">&nbsp;</span><span class="RktCmt">with</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">reference</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">to</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">string</span><span class="hspace">&nbsp;</span><span class="RktCmt">at</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">end.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;label*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._vector-~3elabel%29%29" class="RktValLink" data-pltdoc="x">vector-&gt;label</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list-%7E3evector%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list-&gt;vector</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">sref</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">leaves:</span><span class="hspace">&nbsp;</span><span class="RktCmt">node</span><span class="hspace">&nbsp;</span><span class="RktCmt">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktCmt">(listof</span><span class="hspace">&nbsp;</span><span class="RktCmt">node)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Get</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">leaves</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">tree</span><span class="hspace">&nbsp;</span><span class="RktCmt">rooted</span><span class="hspace">&nbsp;</span><span class="RktCmt">at</span><span class="hspace">&nbsp;</span><span class="RktCmt">node.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">leaves</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">loop</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a-node</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-node</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">acc</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">children</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-children%29%29" class="RktValLink" data-pltdoc="x">node-children</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">cond</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">children</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-node</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">acc</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">else</a></span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._foldl%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">foldl</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">loop</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">acc</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">children</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">leaf-str:</span><span class="hspace">&nbsp;</span><span class="RktCmt">node</span><span class="hspace">&nbsp;</span><span class="RktCmt">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktCmt">string</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Given</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">leaf</span><span class="hspace">&nbsp;</span><span class="RktCmt">node,</span><span class="hspace">&nbsp;</span><span class="RktCmt">get</span><span class="hspace">&nbsp;</span><span class="RktCmt">back</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">string</span><span class="hspace">&nbsp;</span><span class="RktCmt">stored</span><span class="hspace">&nbsp;</span><span class="RktCmt">in</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">terminating</span><span class="hspace">&nbsp;</span><span class="RktCmt">sref</span><span class="hspace">&nbsp;</span><span class="RktCmt">element.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">leaf-str</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-leaf</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-label</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._node-up-label%29%29" class="RktValLink" data-pltdoc="x">node-up-label</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-leaf</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">sref-str</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-ref%29%29" class="RktValLink" data-pltdoc="x">label-ref</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-label</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._sub1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sub1</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._label-length%29%29" class="RktValLink" data-pltdoc="x">label-length</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-label</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">find-matches:</span><span class="hspace">&nbsp;</span><span class="RktCmt">tree</span><span class="hspace">&nbsp;</span><span class="RktCmt">string</span><span class="hspace">&nbsp;</span><span class="RktCmt">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktCmt">(listof</span><span class="hspace">&nbsp;</span><span class="RktCmt">string)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">find-matches</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">on-success</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">node</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">up-label-offset</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">leaf-str</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">leaves</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">node</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">on-fail</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">node</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">up-label-offset</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">input-label-offset</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-walk%29%29" class="RktValLink" data-pltdoc="x">tree-walk</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">on-success</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">on-fail</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;label*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"peter"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;label*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"piper"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;label*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"pepper"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">find-matches</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"per"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">find-matches</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">a-tree</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"ter"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><h3 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;Caveats&quot;">5<tt>&nbsp;</tt><a name="(part._.Caveats)"></a>Caveats</h3><p>The code in tree-add! assumes that the construction of the full
suffix tree on its input string is possible.  Certain strings don&rsquo;t
have an full explicit suffix tree, such as "foo".</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">+-- "foo"</span></p></td></tr><tr><td><p><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt">+-- "oo"</span></p></td></tr></table></p><p>In this case, when we try to construct a suffix tree out of "foo", we
have an implicit suffix tree, where not every leaf corresponds to a
suffix of the input string.  The suffix "o" is implicit in this tree.</p><p>In order to guarantee that all suffixes will have a place in the
suffix tree, we&rsquo;ll often add a sentinel character at the end the
string to make sure all suffixes have a unique path in the suffix
tree.  For example, assuming that we use "$" as our sentinel:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">+-- "foo$"</span></p></td></tr><tr><td><p><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt">+-- "o" -- "o$"</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">+---- "$"</span></p></td></tr><tr><td><p><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt">+-- "$"</span></p></td></tr></table></p><p>The API has the function string-&gt;label/with-sentinel to automatically add
a unique sentinel character at the end of a string.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._make-tree%29%29" class="RktValLink" data-pltdoc="x">make-tree</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">label</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._string-~3elabel%2Fwith-sentinel%29%29" class="RktValLink" data-pltdoc="x">string-&gt;label/with-sentinel</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"foo"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._suffixtree%2Fmain..rkt%29._tree-add%21%29%29" class="RktValLink" data-pltdoc="x">tree-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">label</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>so be sure to use this if you need to ensure the representation of all
suffixes in the suffix tree.</p><h3 x-source-module="(lib &quot;suffixtree/suffixtree.scrbl&quot;)" x-source-pkg="suffixtree" x-part-tag="&quot;References&quot;">6<tt>&nbsp;</tt><a name="(part._.References)"></a>References</h3><p>Dan Gusfield.  Algorithms on Strings, Trees, and Sequences: Computer
Science and Computational Biology.  Cambridge University Press, New
York, NY, 1997.</p><p>Lloyd Allison.  Suffix Trees.
<a href="http://www.allisons.org/ll/AlgDS/Tree/Suffix/"><span class="url">http://www.allisons.org/ll/AlgDS/Tree/Suffix/</span></a></p><p>Mark Nelson.  Fast String Searching With Suffix Trees.  Dr. Dobb&rsquo;s
Journal, August, 1996.
<a href="http://www.dogma.net/markn/articles/suffixt/suffixt.htm"><span class="url">http://www.dogma.net/markn/articles/suffixt/suffixt.htm</span></a></p><p>Mummer: Ultra-fast alignment of large-scale DNA and protein sequences.
<a href="http://mummer.sourceforge.net/"><span class="url">http://mummer.sourceforge.net/</span></a></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/suffixtree/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:06:42 GMT -->
</html>