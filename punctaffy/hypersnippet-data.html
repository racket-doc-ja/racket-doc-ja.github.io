<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/punctaffy/hypersnippet-data.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:29:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Representation of Hypersnippet Data</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Punctaffy</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">Introduction to Punctaffy</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="motivation.html" class="tocviewlink" data-pltdoc="x">Motivation for Punctaffy</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Representation of Hypersnippet Data</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="token-of-syntax.html" class="tocviewlink" data-pltdoc="x">Tokens of Syntax Object Tree Content</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="taffy-notation.html" class="tocviewlink" data-pltdoc="x">Defining Hyperbracket Notations for Racket</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="baseline-notations.html" class="tocviewlink" data-pltdoc="x">Baseline Punctaffy Hyperbracket Notations</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="hyperbracketed-util.html" class="tocviewlink" data-pltdoc="x">Hyperbracketed Operations</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Representation of Hypersnippet Data</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="dim-sys.html" class="tocviewlink" data-pltdoc="x">Dimension Systems</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="snippet-sys.html" class="tocviewlink" data-pltdoc="x">Snippet Systems</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="hypertee.html" class="tocviewlink" data-pltdoc="x">Hypertees:<span class="mywbr"> &nbsp;</span> The Shape of a Hypersnippet of Text</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="hypernest.html" class="tocviewlink" data-pltdoc="x">Hypernests:<span class="mywbr"> &nbsp;</span> Nested Hypersnippets</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="hyperstack.html" class="tocviewlink" data-pltdoc="x">Hyperstacks:<span class="mywbr"> &nbsp;</span> The State of a Text-<wbr></wbr>to-<wbr></wbr>Hypernest Parser</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="motivation.html" title="backward to &quot;2 Motivation for Punctaffy&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Punctaffy&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="dim-sys.html" title="forward to &quot;3.1 Dimension Systems&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;punctaffy/scribblings/punctaffy.scrbl&quot;)" x-source-pkg="punctaffy-doc" x-part-tag="&quot;hypersnippet-data&quot;">3<tt>&nbsp;</tt><a name="(part._hypersnippet-data)"></a>Representation of Hypersnippet Data</h3><p>Punctaffy has a few particular data structures that it revolves around.</p><p>A <a name="(tech._hypersnippet)"></a><span style="font-style: italic">hypersnippet</span>, or a <a name="(tech._snippet)"></a><span style="font-style: italic">snippet</span> for short, is a region of code that&rsquo;s bounded by lower-degree snippets. The <a name="(tech._degree)"></a><span style="font-style: italic">degree</span> of a snippet is typically a number representing its dimension in a geometric sense. For instance, a degree-3 snippet is bounded by degree-2 snippets, which are bounded by degree-1 snippets, which are bounded by degree-0 snippets, just as a 3D cube is bounded by 2D squares, which are bounded by 1D line segments, which are bounded by 0D points. One of the boundaries of a hypersnippet is the opening delimiter. The others are the closing delimiters, or the <a name="(tech._hole)"></a><span style="font-style: italic">holes</span> for short. This name comes from the idea that a degree-3 snippet is like an expression (degree-2 snippet) with expression-shaped holes.</p><p>While a degree-3 snippet primarily has degree-2 holes, it&rsquo;s also important to note that its degree-2 opening delimiter has degree-1 holes, and the degree-1 opening delimiter of that opening delimiter has a degree-0 hole. Most Punctaffy operations traverse the holes of every dimension at once, largely just because we&rsquo;ve found that to be a useful approach.</p><p>The idea of a hypersnippet is specific enough to suggest quite a few operations, but the actual content of the code contained <span class="emph">inside</span> the snippet is vague. We could say that the content of the code is some sequence of bytes or some Unicode text, but we have a lot of options there, and it&rsquo;s worth generalizing over them so that we don&rsquo;t have to implement a new library each time. So the basic operations of a hypersnippet are represented in Punctaffy as generic operations that multiple data structures might be able to implement.</p><p>Snippets don&rsquo;t identify their own snippet nature. Instead, each hypersnippet operation takes a <a name="(tech._hypersnippet._system)"></a><span style="font-style: italic">hypersnippet system</span> (aka a <a name="(tech._snippet._system)"></a><span style="font-style: italic">snippet system</span>) argument, and it uses that to look up the appropriate hypersnippet functionality.</p><p>A <a name="(tech._dimension._system)"></a><span style="font-style: italic">dimension system</span> is a collection of implementations of the arithmetic operations we need on dimension numbers. (A <a name="(tech._dimension._number)"></a><span style="font-style: italic">dimension number</span> is the "3" in the phrase "degree-3 hypersnippet." It generally represents the set of smaller dimension numbers that are allowed for a snippet&rsquo;s <a href="#%28tech._hole%29" class="techoutside" data-pltdoc="x"><span class="techinside">holes</span></a>.) For what we&rsquo;re doing so far, it turns out we only need to compare dimension numbers and take their maximum. For some purposes, it may be useful to use dimension numbers that aren&rsquo;t quite numbers in the usual sense, such as dimensions that are infinite or symbolic.</p><p>A hypersnippet system always has some specific dimension system it&rsquo;s specialized for. We tend to find that notions of hypersnippet make sense independently of a specific dimension system, so we sometimes represent these notions abstractly as a kind of functor from a dimesion system to a snippet system. In practical terms, a functor like this lets us convert between two snippet systems that vary only in their choice of dimension system, as long as we have some way to convert between the dimension systems in question.</p><p>A <a name="(tech._hypertee)"></a><span style="font-style: italic">hypertee</span> is a kind of hypersnippet data structure that represents a region of code that doesn&rsquo;t contain content of any sort at all. A hypertee may not have content, but it still has a boundary, and hypertees tend to arise as the description of the <a href="snippet-sys.html#%28tech._shape%29" class="techoutside" data-pltdoc="x"><span class="techinside">shape</span></a> of a hypersnippet. For instance, when we try to graft a snippet into the hole of another snippet, it needs to have a shape that&rsquo;s compatible with the shape of that hole.</p><p>A <a name="(tech._hypernest)"></a><span style="font-style: italic">hypernest</span> is a kind of hypersnippet data structure that generalizes some other kind of hypersnippet (typically hypertees) by adding <a name="(tech._bump)"></a><span style="font-style: italic">bumps</span>. Bumps are like <a href="#%28tech._hole%29" class="techoutside" data-pltdoc="x"><span class="techinside">holes</span></a> that are already filled in, but with a seam showing. The filling, called the bump&rsquo;s <a name="(tech._interior)"></a><span style="font-style: italic">interior</span>, is considered to be nested deeper than the surrounding content. A bump can contain other bumps. A bump can also contain holes of degree equal to or greater than the bump&rsquo;s degree.</p><p>A hypernest is a generalization of an s-expression or other syntax tree. In an s-expression, the bumps are the pairs of parentheses and the atoms. In a syntax tree, the bumps are the nodes. Just as trees are rather effective representations of lots of different kinds of structured programs and structured data, so are hypernests, and that makes them Punctaffy&rsquo;s primary hypersnippet data structure.</p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="dim-sys.html" class="toclink" data-pltdoc="x">3.1<span class="hspace">&nbsp;</span>Dimension Systems</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="dim-sys.html#%28part._dim-sys-in-general%29" class="toclink" data-pltdoc="x">3.1.1<span class="hspace">&nbsp;</span>Dimension Systems in General</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="dim-sys.html#%28part._dim-sys-category-theory%29" class="toclink" data-pltdoc="x">3.1.2<span class="hspace">&nbsp;</span>Category-Theoretic Dimension System Manipulations</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="dim-sys.html#%28part._dim-sys-examples%29" class="toclink" data-pltdoc="x">3.1.3<span class="hspace">&nbsp;</span>Commonly Used Dimension Systems</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="snippet-sys.html" class="toclink" data-pltdoc="x">3.2<span class="hspace">&nbsp;</span>Snippet Systems</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="snippet-sys.html#%28part._snippet-sys-in-general%29" class="toclink" data-pltdoc="x">3.2.1<span class="hspace">&nbsp;</span>Snippet Systems in General</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="snippet-sys.html#%28part._snippet-sys-category-theory%29" class="toclink" data-pltdoc="x">3.2.2<span class="hspace">&nbsp;</span>Category-Theoretic Snippet System Manipulations</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="snippet-sys.html#%28part._snippet-format-sys-in-general%29" class="toclink" data-pltdoc="x">3.2.3<span class="hspace">&nbsp;</span>Snippet Format Systems in General</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="snippet-sys.html#%28part._snippet-format-sys-category-theory%29" class="toclink" data-pltdoc="x">3.2.4<span class="hspace">&nbsp;</span>Category-Theoretic Snippet Format System Manipulations</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypertee.html" class="toclink" data-pltdoc="x">3.3<span class="hspace">&nbsp;</span>Hypertees: The Shape of a Hypersnippet of Text</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypertee.html#%28part._hypertee-coil%29" class="toclink" data-pltdoc="x">3.3.1<span class="hspace">&nbsp;</span>Hypertee Coils</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypertee.html#%28part._hypertee-bracket%29" class="toclink" data-pltdoc="x">3.3.2<span class="hspace">&nbsp;</span>Hypertee Brackets</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypertee.html#%28part._hypertee-operations%29" class="toclink" data-pltdoc="x">3.3.3<span class="hspace">&nbsp;</span>Hypertee Constructors and Operations</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypernest.html" class="toclink" data-pltdoc="x">3.4<span class="hspace">&nbsp;</span>Hypernests: Nested Hypersnippets</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypernest.html#%28part._hypernest-coil%29" class="toclink" data-pltdoc="x">3.4.1<span class="hspace">&nbsp;</span>Hypernest Coils</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypernest.html#%28part._hypernest-bracket%29" class="toclink" data-pltdoc="x">3.4.2<span class="hspace">&nbsp;</span>Hypernest Brackets</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hypernest.html#%28part._hypernest-operations%29" class="toclink" data-pltdoc="x">3.4.3<span class="hspace">&nbsp;</span>Hypernest Constructors and Operations</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="hyperstack.html" class="toclink" data-pltdoc="x">3.5<span class="hspace">&nbsp;</span>Hyperstacks: The State of a Text-to-Hypernest Parser</a></p></td></tr></table><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="motivation.html" title="backward to &quot;2 Motivation for Punctaffy&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Punctaffy&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="dim-sys.html" title="forward to &quot;3.1 Dimension Systems&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/punctaffy/hypersnippet-data.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:29:59 GMT -->
</html>