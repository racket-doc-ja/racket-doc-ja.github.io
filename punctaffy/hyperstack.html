<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/punctaffy/hyperstack.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:30:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3.5&nbsp;Hyperstacks: The State of a Text-to-Hypernest Parser</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Punctaffy</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">Introduction to Punctaffy</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="motivation.html" class="tocviewlink" data-pltdoc="x">Motivation for Punctaffy</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="hypersnippet-data.html" class="tocviewselflink" data-pltdoc="x">Representation of Hypersnippet Data</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="token-of-syntax.html" class="tocviewlink" data-pltdoc="x">Tokens of Syntax Object Tree Content</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="taffy-notation.html" class="tocviewlink" data-pltdoc="x">Defining Hyperbracket Notations for Racket</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="baseline-notations.html" class="tocviewlink" data-pltdoc="x">Baseline Punctaffy Hyperbracket Notations</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="hyperbracketed-util.html" class="tocviewlink" data-pltdoc="x">Hyperbracketed Operations</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="hypersnippet-data.html" class="tocviewlink" data-pltdoc="x">Representation of Hypersnippet Data</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="dim-sys.html" class="tocviewlink" data-pltdoc="x">Dimension Systems</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="snippet-sys.html" class="tocviewlink" data-pltdoc="x">Snippet Systems</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="hypertee.html" class="tocviewlink" data-pltdoc="x">Hypertees:<span class="mywbr"> &nbsp;</span> The Shape of a Hypersnippet of Text</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="hypernest.html" class="tocviewlink" data-pltdoc="x">Hypernests:<span class="mywbr"> &nbsp;</span> Nested Hypersnippets</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Hyperstacks:<span class="mywbr"> &nbsp;</span> The State of a Text-<wbr></wbr>to-<wbr></wbr>Hypernest Parser</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack~3f%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hyperstack?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack%2Fc%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hyperstack/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dim-sys%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hyperstack-<wbr></wbr>dim-<wbr></wbr>sys</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dimension%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hyperstack-<wbr></wbr>dimension</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._make-hyperstack%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>hyperstack</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-pop%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hyperstack-<wbr></wbr>pop</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-push%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hyperstack-<wbr></wbr>push</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hypernest.html" title="backward to &quot;3.4 Hypernests: Nested Hypersnippets&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="hypersnippet-data.html" title="up to &quot;3 Representation of Hypersnippet Data&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="token-of-syntax.html" title="forward to &quot;4 Tokens of Syntax Object Tree Content&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;punctaffy/scribblings/punctaffy.scrbl&quot;)" x-source-pkg="punctaffy-doc" x-part-tag="&quot;hyperstack&quot;">3.5<tt>&nbsp;</tt><a name="(part._hyperstack)"></a><a name="(mod-path._punctaffy/hypersnippet/hyperstack)"></a>Hyperstacks: The State of a Text-to-Hypernest Parser</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">punctaffy/hypersnippet/hyperstack</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/punctaffy-lib" title="Install this package using `raco pkg install punctaffy-lib`"><span class="stt">punctaffy-lib</span></a></span></td></tr></table></p><p>A <a name="(tech._hyperstack)"></a><span style="font-style: italic">hyperstack</span> is a stack-like abstraction that makes it easier to maintain the state of a computation that converts between structured <a href="hypersnippet-data.html#%28tech._hypersnippet%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypersnippet</span></a> data and sequential representations of it (like parsing from text or pretty-printing). Hyperstacks generalize the way a more traditional parser might push onto a stack when it encounters an opening paren and pop from the stack when it finds a closing paren.</p><p>In particular, hyperstack pops correspond to inititiating <a href="hypersnippet-data.html#%28tech._hole%29" class="techoutside" data-pltdoc="x"><span class="techinside">holes</span></a> in a hypersnippet being parsed. When a hole has <a href="hypersnippet-data.html#%28tech._degree%29" class="techoutside" data-pltdoc="x"><span class="techinside">degree</span></a> 0, this is simply a closing paren, but when it has some higher degree N, the hole itself is a degree-N hypersnippet that will have some closing brackets of its own later in the stream. In order to interact properly with all those brackets later on, a hyperstack pop at dimension N basically pushes at every dimension less than N at the same time. (See the description of <span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-pop%29%29" class="RktValLink" data-pltdoc="x">hyperstack-pop</a></span> for more details.)</p><p>Hyperstack pushes correspond to initiating <a href="hypersnippet-data.html#%28tech._bump%29" class="techoutside" data-pltdoc="x"><span class="techinside">bumps</span></a> in a <a href="hypersnippet-data.html#%28tech._hypernest%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypernest</span></a>, generalizing the way opening parens tend to correspond to the nodes of a syntax tree.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._punctaffy/hypersnippet/hyperstack..rkt)._hyperstack~3f))"></a><span title="Provided from: punctaffy/hypersnippet/hyperstack | Package: punctaffy-lib"><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">hyperstack?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns whether the given value is a <a href="#%28tech._hyperstack%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack</span></a>. A hyperstack is a stack-like data structure that helps to keep track of nested <a href="hypersnippet-data.html#%28tech._hypersnippet%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypersnippet</span></a> structure while traversing a stream of text and brackets. It helps in the same way that a stack helps to keep track of s-expression-like nesting while traversing a stream of text and parentheses.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._punctaffy/hypersnippet/hyperstack..rkt)._hyperstack/c))"></a><span title="Provided from: punctaffy/hypersnippet/hyperstack | Package: punctaffy-lib"><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">hyperstack/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys~3f%29%29" class="RktValLink" data-pltdoc="x">dim-sys?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a contract which recognizes <a href="#%28tech._hyperstack%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstacks</span></a> whose <a href="hypersnippet-data.html#%28tech._dimension._system%29" class="techoutside" data-pltdoc="x"><span class="techinside">dimension system</span></a> is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=lathe-morphisms&amp;rel=index.html%23%2528def._%2528%2528lib._lathe-morphisms%252Fin-fp%252Fmediary%252Fset..rkt%2529._ok%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">ok/c</a></span> match for the given one.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._punctaffy/hypersnippet/hyperstack..rkt)._hyperstack-dim-sys))"></a><span title="Provided from: punctaffy/hypersnippet/hyperstack | Package: punctaffy-lib"><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dim-sys%29%29" class="RktValDef RktValLink" data-pltdoc="x">hyperstack-dim-sys</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys~3f%29%29" class="RktValLink" data-pltdoc="x">dim-sys?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stack</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack~3f%29%29" class="RktValLink" data-pltdoc="x">hyperstack?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the <a href="hypersnippet-data.html#%28tech._dimension._system%29" class="techoutside" data-pltdoc="x"><span class="techinside">dimension system</span></a> of the given <a href="#%28tech._hyperstack%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._punctaffy/hypersnippet/hyperstack..rkt)._hyperstack-dimension))"></a><span title="Provided from: punctaffy/hypersnippet/hyperstack | Package: punctaffy-lib"><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dimension%29%29" class="RktValDef RktValLink" data-pltdoc="x">hyperstack-dimension</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys-dim%2Fc%29%29" class="RktValLink" data-pltdoc="x">dim-sys-dim/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dim-sys%29%29" class="RktValLink" data-pltdoc="x">hyperstack-dim-sys</a></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stack</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack~3f%29%29" class="RktValLink" data-pltdoc="x">hyperstack?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the <a name="(tech._hyperstack._dimension)"></a><span style="font-style: italic">hyperstack dimension</span> of the given <a href="#%28tech._hyperstack%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack</span></a>. This is a <a href="hypersnippet-data.html#%28tech._dimension._number%29" class="techoutside" data-pltdoc="x"><span class="techinside">dimension number</span></a> describing which dimensions of popping the hyperstack currently offers. A hyperstack of dimension N can be popped at any dimension M as long as (M &lt; N).</div></p><p>Over the course of executing a hyperstack-based stream traversal, the dimension of the hyperstack may change as it&rsquo;s updated by pushes and pops. It&rsquo;s important to check up on the dimension sometimes as a way to detect errors in the stream. In particular, if the dimension isn&rsquo;t large enough before performing a <span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-pop%29%29" class="RktValLink" data-pltdoc="x">hyperstack-pop</a></span> operation, that indicates an unmatched closing bracket in the stream, and if the dimension isn&rsquo;t 0 at the end of the stream, that indicates an unmatched opening bracket.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._punctaffy/hypersnippet/hyperstack..rkt)._make-hyperstack))"></a><span title="Provided from: punctaffy/hypersnippet/hyperstack | Package: punctaffy-lib"><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._make-hyperstack%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-hyperstack</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ds</span><span class="hspace">&nbsp;</span><span class="RktVar">dimension</span><span class="hspace">&nbsp;</span><span class="RktVar">elem</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack%2Fc%29%29" class="RktValLink" data-pltdoc="x">hyperstack/c</a></span><span class="hspace">&nbsp;</span><span class="RktVar">ds</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys~3f%29%29" class="RktValLink" data-pltdoc="x">dim-sys?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dimension</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys-dim%2Fc%29%29" class="RktValLink" data-pltdoc="x">dim-sys-dim/c</a></span><span class="hspace">&nbsp;</span><span class="RktVar">ds</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">elem</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an <a href="#%28tech._hyperstack%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack</span></a> (in some sense, an <span class="emph">empty</span> hyperstack) which has the given <a href="#%28tech._hyperstack._dimension%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack dimension</span></a>. When it&rsquo;s popped at some dimension N, it reveals the data <span class="RktVar">elem</span> and an updated hyperstack that&rsquo;s no more detailed than the caller specifies.</div></p><p>If the dimension is 0 (in the sense of <span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys-dim-zero%29%29" class="RktValLink" data-pltdoc="x">dim-sys-dim-zero</a></span>), then it can&rsquo;t be popped since no dimension is less than that one, so the value of <span class="RktVar">elem</span> makes no difference.</p><p>Traditional empty stacks are always created with dimension 0. (Traditional nonempty stacks are created by pushing onto an empty one.)</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._punctaffy/hypersnippet/hyperstack..rkt)._hyperstack-pop))"></a><span title="Provided from: punctaffy/hypersnippet/hyperstack | Package: punctaffy-lib"><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-pop%29%29" class="RktValDef RktValLink" data-pltdoc="x">hyperstack-pop</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="hspace">&nbsp;</span><span class="RktVar">elem</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._list%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack%2Fc%29%29" class="RktValLink" data-pltdoc="x">hyperstack/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dim-sys%29%29" class="RktValLink" data-pltdoc="x">hyperstack-dim-sys</a></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">i</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">ds</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dim-sys%29%29" class="RktValLink" data-pltdoc="x">hyperstack-dim-sys</a></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys-dim~3c%2Fc%29%29" class="RktValLink" data-pltdoc="x">dim-sys-dim&lt;/c</a></span><span class="hspace">&nbsp;</span><span class="RktVar">ds</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dimension%29%29" class="RktValLink" data-pltdoc="x">hyperstack-dimension</a></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stack</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack~3f%29%29" class="RktValLink" data-pltdoc="x">hyperstack?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">elem</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Pops the given <a href="#%28tech._hyperstack%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack</span></a> at dimension <span class="RktVar">i</span>, which must be less than the hyperstack&rsquo;s own <a href="#%28tech._hyperstack._dimension%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack dimension</span></a>. Returns a two-element list consisting of the data value that was revealed by popping the hyperstack and an updated hyperstack.</div></p><p>The updated hyperstack has dimension at least <span class="RktVar">i</span>, and popping it at dimensions less than <span class="RktVar">i</span> will reveal data equal to the given <span class="RktVar">elem</span> value and extra hyperstack detail based on <span class="RktVar">stack</span>.</p><p>The updated hyperstack may have dimension greater than <span class="RktVar">i</span>. The behavior when popping it at dimensions greater than <span class="RktVar">i</span> corresponds to the extra hyperstack detail, if any, that was obtained when <span class="RktVar">stack</span> was popped.</p><p>Traditional stacks are always popped at dimension 0, so the entire resulting stack is comprised of this "extra information," and we can think of the extra information as representing the next stack frame that was uncovered. When we pop at a dimension greater than 0, we merely initiate a session of higher-dimensional popping. This session is higher-dimensional in the very sense that it may be bounded by several individual popping actions. A 1-dimensional session of popping has a beginning and an end. A 0-dimensional session is just a traditional, instantaneous pop.</p><p>When a hyperstack is being used to parse a sequence of <a href="hypersnippet-data.html#%28tech._hypersnippet%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypersnippet</span></a> brackets (such as <a href="hypersnippet-data.html#%28tech._hypertee%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypertee</span></a> or <a href="hypersnippet-data.html#%28tech._hypernest%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypernest</span></a> brackets), a popping session corresponds to a <a href="hypersnippet-data.html#%28tech._hole%29" class="techoutside" data-pltdoc="x"><span class="techinside">hole</span></a>, and each <span class="stt">hyperstack-pop</span> call corresponds to one of the collection of higher-dimensional closing brackets that delimits that hole.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._punctaffy/hypersnippet/hyperstack..rkt)._hyperstack-push))"></a><span title="Provided from: punctaffy/hypersnippet/hyperstack | Package: punctaffy-lib"><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-push%29%29" class="RktValDef RktValLink" data-pltdoc="x">hyperstack-push</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bump-degree</span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="hspace">&nbsp;</span><span class="RktVar">elem</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack%2Fc%29%29" class="RktValLink" data-pltdoc="x">hyperstack/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dim-sys%29%29" class="RktValLink" data-pltdoc="x">hyperstack-dim-sys</a></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bump-degree</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="dim-sys.html#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fdim..rkt%29._dim-sys-dim%2Fc%29%29" class="RktValLink" data-pltdoc="x">dim-sys-dim/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack-dim-sys%29%29" class="RktValLink" data-pltdoc="x">hyperstack-dim-sys</a></span><span class="hspace">&nbsp;</span><span class="RktVar">stack</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stack</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._punctaffy%2Fhypersnippet%2Fhyperstack..rkt%29._hyperstack~3f%29%29" class="RktValLink" data-pltdoc="x">hyperstack?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">elem</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a <a href="#%28tech._hyperstack%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack</span></a> which has <a href="#%28tech._hyperstack._dimension%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperstack dimension</span></a> equal to either the given hyperstack&rsquo;s dimension or <span class="RktVar">bump-degree</span>, whichever is greater. When it&rsquo;s popped at a dimension less than <span class="RktVar">bump-degree</span>, it reveals the given <span class="RktVar">elem</span> as its data and reveals an updated hyperstack that&rsquo;s based on <span class="RktVar">stack</span>. When it&rsquo;s popped at any other dimension, it reveals the same data and extra hyperstack detail that the given hyperstack would reveal.</div></p><p>Traditional stacks are always pushed with a <span class="RktVar">bump-degree</span> greater than 0, so that the effects of this push can be reversed later with a pop at dimension 0. If the <span class="RktVar">bump-degree</span> is a <a href="hypersnippet-data.html#%28tech._dimension._number%29" class="techoutside" data-pltdoc="x"><span class="techinside">dimension number</span></a> with more than one lesser dimension available to pop at, then this push essentially initiates an extended pushing session that can take more than one pop action to entirely reverse.</p><p>For instance, if we push with a <span class="RktVar">bump-degree</span> of 2 and then pop at dimension 1, then we need to pop at dimension 0 two more times before the traces of <span class="RktVar">elem</span> are gone from the hyperstack. The first pop of dimension 0 finishes the popping session that was initiated by the pop of dimension 1, and the second pop of dimension 0 finishes the pushing session.</p><p>When a hyperstack is being used to parse a sequence of <a href="hypersnippet-data.html#%28tech._hypernest%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypernest</span></a> brackets, a pushing session corresponds to a <a href="hypersnippet-data.html#%28tech._bump%29" class="techoutside" data-pltdoc="x"><span class="techinside">bump</span></a>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hypernest.html" title="backward to &quot;3.4 Hypernests: Nested Hypersnippets&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="hypersnippet-data.html" title="up to &quot;3 Representation of Hypersnippet Data&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="token-of-syntax.html" title="forward to &quot;4 Tokens of Syntax Object Tree Content&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/punctaffy/hyperstack.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:30:01 GMT -->
</html>