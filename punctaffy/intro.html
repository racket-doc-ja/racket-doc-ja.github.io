<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/punctaffy/intro.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:29:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1&nbsp;Introduction to Punctaffy</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Punctaffy</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Introduction to Punctaffy</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="motivation.html" class="tocviewlink" data-pltdoc="x">Motivation for Punctaffy</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="hypersnippet-data.html" class="tocviewlink" data-pltdoc="x">Representation of Hypersnippet Data</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="token-of-syntax.html" class="tocviewlink" data-pltdoc="x">Tokens of Syntax Object Tree Content</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="taffy-notation.html" class="tocviewlink" data-pltdoc="x">Defining Hyperbracket Notations for Racket</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="baseline-notations.html" class="tocviewlink" data-pltdoc="x">Baseline Punctaffy Hyperbracket Notations</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="hyperbracketed-util.html" class="tocviewlink" data-pltdoc="x">Hyperbracketed Operations</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Punctaffy&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Punctaffy&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="motivation.html" title="forward to &quot;2 Motivation for Punctaffy&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;punctaffy/scribblings/punctaffy.scrbl&quot;)" x-source-pkg="punctaffy-doc" x-part-tag="&quot;intro&quot;">1<tt>&nbsp;</tt><a name="(part._intro)"></a>Introduction to Punctaffy</h3><p>Punctaffy is an experimental library for processing program syntax that has higher-dimensional nested structure.</p><p>Most programming languages are designed for programs to be structured in the form of trees, with some (or all) nodes of the tree being delimited using opening and closing brackets. However, occasionally some operations take that a dimension higher, opening with one tree node and closing with some number of tree nodes toward the leaves.</p><p>This is common with templating languages. For instance, a quasiquotation operation has a quoted body that begins with the initial <span class="RktVal">`</span><span class="RktVal">...</span> tree node and ends with number of <span class="RktRdr">,</span><span class="RktVar">...</span> and <span class="RktRdr">,@</span><span class="RktVar">...</span> tree nodes. The quasiquotation operation also takes a number of expressions to compute what values should be inserted into those holes in the quoted body, and those expressions are maintained in the same place as the holes their results will be inserted into.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">site-base-url</span><span class="hspace">&nbsp;</span><span class="RktVal">"https://docs.racket-lang.org/"</span><span class="RktPn">)</span></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">make-sxml-site-link</span><span class="hspace">&nbsp;</span><span class="RktVar">relative-url</span><span class="hspace">&nbsp;</span><span class="RktVar">content</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">@</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">href</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=net&amp;rel=url.html%23%2528def._%2528%2528lib._net%252Furl..rkt%2529._url-%7E3estring%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">url-&gt;string</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=net&amp;rel=url.html%23%2528def._%2528%2528lib._net%252Furl..rkt%2529._combine-url%252Frelative%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">combine-url/relative</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=net&amp;rel=url.html%23%2528def._%2528%2528lib._net%252Furl..rkt%2529._string-%7E3eurl%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string-&gt;url</a></span><span class="hspace">&nbsp;</span><span class="RktVar">site-base-url</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">relative-url</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,@</span><span class="RktVar">content</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktVar">make-sxml-site-link</span><span class="hspace">&nbsp;</span><span class="RktVal">"punctaffy/index.html"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"Punctaffy docs"</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(a</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(@ (href "https://docs.racket-lang.org/punctaffy/index.html"))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"Punctaffy docs")</span></p></td></tr></table></td></tr></table></blockquote><p>Quasiquotation isn&rsquo;t the only example. Connection Machine Lisp is a language that was once used for programming Connection Machine supercomputers, and it has a concept of "xappings," key-value data structures where each element resides on a different processor. It has ways to distribute the same behavior to each processor to transform these values, and it has a dedicated notation to assist with this:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(defun celsius-to-fahrenheit (c)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&#945;(+ (* &#8226;c 9/5) 32))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">(celsius-to-fahrenheit '{low&#8594;0 mid&#8594;50 high&#8594;100})</span></p></td></tr><tr><td><p><span class="stt">&#8658; {low&#8594;32 mid&#8594;122 high&#8594;212}</span></p></td></tr></table></blockquote><p>That notation has a body that begins with <span class="stt">&#945;...</span> node and ends with some number of <span class="stt">&#8226;...</span> nodes. The behavior in between is repeated for each xapping entry.</p><p>To make it a bit more mundane for the sake of example, let&rsquo;s suppose the <span class="stt">&#945;</span> notation works on lists instead of xappings, making it a fancy notation for what a Racket programmer would usually write using <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span>.</p><p>In some programs, the two of them might be used together. Here&rsquo;s some code we can write in Racket today:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">make-sxml-unordered-list</span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">ul</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,@</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">item</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">li</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktVar">item</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktVar">make-sxml-unordered-list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Red"</span><span class="hspace">&nbsp;</span><span class="RktVal">"Yellow"</span><span class="hspace">&nbsp;</span><span class="RktVal">"Green"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(ul (li "Red") (li "Yellow") (li "Green"))</span></p></td></tr></table></blockquote><p>Here&rsquo;s the same code, using the <span class="stt">&#945;</span> operator to do the list mapping operation:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(define (make-sxml-unordered-list items)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">`(ul ,@&#945;`(li ,&#8226;items)))</span></p></td></tr></table></blockquote><p>In the expression <span class="stt">&#945;</span>`<span class="stt">(li ,&#8226;items)</span>, we see the <span class="RktVal">`</span><span class="RktVal">...</span> and <span class="RktRdr">,</span><span class="RktVar">...</span> tree nodes are nested in between the <span class="stt">&#945;...</span> and <span class="stt">&#8226;...</span> tree nodes.</p><p>In Punctaffy&rsquo;s terms, this is the nesting of one <a href="hypersnippet-data.html#%28tech._degree%29" class="techoutside" data-pltdoc="x"><span class="techinside">degree</span></a>-2 <a href="hypersnippet-data.html#%28tech._hypersnippet%29" class="techoutside" data-pltdoc="x"><span class="techinside">hypersnippet</span></a> inside another. It&rsquo;s just like the nesting of one parenthesized region of code inside another, but one dimension higher than usual.</p><p>In fact, the geometric shape of a hypersnippet seems to be deeply related to another higher-dimensional shape called an <a href="motivation.html#%28tech._opetope%29" class="techoutside" data-pltdoc="x"><span class="techinside">opetope</span></a>, where the idea of "dimension" is more rigorously studied. Opeteopes are usually brought up in higher algebra (e.g. higher category theory and higher-dimensional type theory), where it&rsquo;s possible to ask whether two equivalence proofs of dimension N are themselves equivalent via some equivalence proof of dimension (N + 1). When trying to model this precisely, opetopes are one of many possible higher-dimensional geometric shapes that an equivalence proof can take on. Hypersnippets seem to be mostly the same as opetopes; it seems that every opetope is a hypersnippet, but not quite every hypersnippet is an opetope. For a more in-depth look at this, see <a href="motivation.html#%28part._potential-use-case-opetopes%29" data-pltdoc="x">Potential Application: Opetopes and Higher Categories</a>.</p><p>Our motivation for using hypersnippets in Punctaffy isn&rsquo;t because we&rsquo;re trying to talk about higher-dimensional algebraic relationships, but it&rsquo;s not unrelated either. In a program tree, a single tree node is like the 1-dimensional path that relates the place the node begins in the code to the place it ends, and the quoted body of a quasiquotation is like the 2-dimensional path swept out by taking the <span class="RktRdr">,</span><span class="RktVar">...</span> tree nodes&rsquo; 1-dimensional paths and pulling them down the tree until they reach the matching <span class="RktVal">`</span><span class="RktVal">...</span> tree node.</p><p>Regardless of that kind of algebraic interpretation, Punctaffy is driven by syntax. Where there&rsquo;s syntax, there are usability concerns like syntax errors and user-defined syntactic extensions. Let&rsquo;s recall the above example where we mix quasiquotaton and apply-to-all notation in a single program:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(define (make-sxml-unordered-list items)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">`(ul ,@&#945;`(li ,&#8226;items)))</span></p></td></tr></table></blockquote><p>Here we have <span class="RktVal">`</span><span class="RktVal">...</span> nested inside <span class="stt">&#945;...</span> to make <span class="stt">&#945;</span>`<span class="stt">...</span>. We could also imagine the reverse of this; to quote a piece of code which uses <span class="stt">&#945;...</span>, we can write `<span class="stt">&#945;...</span>, letting the <span class="stt">&#945;...</span> appear nested inside the <span class="RktVal">`</span><span class="RktVal">...</span>.</p><p>What happens when we nest improperly? For instance, what does this program do?</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&#945;`(li &#8226;,items)</span></p></td></tr></table></blockquote><p>This is analogous to writing the program <span class="stt">(while #t (displayln "Hello, world))"</span>. While some language designers may try to force programs like these to work using creative interpretations, there&rsquo;s little reason to use these kinds of mismatched brackets in the first place. It&rsquo;s a good place to report an error.</p><p>So, where do we report the error? Racket&rsquo;s reader doesn&rsquo;t match occurrences of <span class="RktVal">`</span><span class="RktVal">...</span> to occurrences of <span class="RktRdr">,</span><span class="RktVar">...</span> at read time; instead, these always read successfully as <span class="RktVal">`</span><span class="RktVal">...</span> and <span class="RktRdr">,</span><span class="RktVar">...</span>, and it&rsquo;s up to the implementation of the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._quasiquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasiquote</a></span> macro to search its tree-shaped input, looking for occurrences of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._unquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unquote</a></span>. So now do we extend that search so that it keeps track of the proper nesting of <span class="stt">&#945;...</span> and <span class="stt">&#8226;...</span>? Does every one of these higher-dimensional operations need to hardcode the grammar of every other?</p><p>Currently, in Racket:</p><ul><li><p><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._quasiquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasiquote</a></span> only knows to skip nested <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._quasiquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasiquote</a></span>..<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quasiquote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._unquote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unquote</a></span> pairs</p></li><li><p><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span> only knows to skip nested <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span>..<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span> pairs</p></li><li><p><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%252Floc%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax/loc</a></span> only knows to skip nested <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax</a></span>..<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span> pairs (but not <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._quasisyntax%252Floc%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">quasisyntax/loc</a></span>..<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fqqstx..rkt%2529._unsyntax%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">unsyntax</a></span>)</p></li></ul><p>This isn&rsquo;t a problem that usually arises with traditional parentheses. The Racket reader only supports a small set of parentheses, <span class="stt">( ) [ ] { }</span>, which makes it feasible to hardcode them all. Extending this set is rare; new operations usually just follow the Lispy convention of using the same parentheses as everything else.</p><p>What if we did that for higher-dimensional brackets as well, picking a single bracket notation and having most of our operations just use that one? In Punctaffy, we&rsquo;ve implemented this approach like so:</p><p>Before:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">(define (make-sxml-unordered-list items)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">`(ul ,@&#945;`(li ,&#8226;items)))</span></p></td></tr></table></blockquote><p>After:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">make-sxml-unordered-list</span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Fquote..rkt%29._taffy-quote%29%29" class="RktStxLink" data-pltdoc="x">taffy-quote</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ul</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Flet..rkt%29._list-taffy-map%29%29" class="RktStxLink" data-pltdoc="x">list-taffy-map</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Fquote..rkt%29._taffy-quote%29%29" class="RktStxLink" data-pltdoc="x">taffy-quote</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">li</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>Welcome to 2-dimensional parenthesis soup. Like s-expression notation, this notation isn&rsquo;t the easiest to follow if we&rsquo;re only concerned with a small number of familiar operations, but it does have the arguable advantage of giving programmers a smoother on-ramp to extending their language: Programmers can add new operations that build on the same infrastructure as the existing ones and blend right in.</p><p>We refer to delimiters like <span class="stt">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span> and <span class="stt">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span> as <a href="taffy-notation.html#%28tech._hyperbracket%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperbrackets</span></a>. There are hyperbrackets of any degree (dimension), and traditional brackets <span class="stt">(</span> and <span class="stt">)</span> are a special case of hyperbrackets.</p><p>In many cases, we might be able to draw attention to matching hyperbrackets a little bit better by making some judicious use of <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=parendown&amp;rel=index.html&amp;version=8.6" class="Sq" data-pltdoc="x">Parendown</a>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=parendown&amp;rel=index.html%23%2528form._%2528%2528lib._parendown%252Fmain..rkt%2529._pd%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">pd</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">make-sxml-unordered-list</span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Fquote..rkt%29._taffy-quote%29%29" class="RktStxLink" data-pltdoc="x">taffy-quote</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym">ul</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Flet..rkt%29._list-taffy-map%29%29" class="RktStxLink" data-pltdoc="x">list-taffy-map</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Fquote..rkt%29._taffy-quote%29%29" class="RktStxLink" data-pltdoc="x">taffy-quote</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym">li</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>S-expressions are far from the only option for syntax. Many programming languages have a more elaborate syntax involving infix/prefix/suffix operators, separators, various distinct-looking brackets, and so on.</p><p>Likewise, the <span class="stt">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span> and <span class="stt">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span> hyperbracket notation isn&rsquo;t the only conceivable option for working with this kind of higher-dimensional structure.</p><p>We expect the same techniques we use in Punctaffy to be useful for parsing other notations that have similar higher-dimensional structure. As an easy example, we could develop a parser for the <span class="RktVal">`</span><span class="RktVal">...</span> and <span class="stt">&#945;...</span> notations we originally used above.</p><p>A more curious example is a template DSL that already exists in Racket, which is almost tailor-made for the exact situation:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">make-sxml-unordered-list</span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Datum_Pattern_Matching.html%23%2528form._%2528%2528lib._syntax%252Fdatum..rkt%2529._with-datum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">with-datum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">item</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">items</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Datum_Pattern_Matching.html%23%2528form._%2528%2528lib._syntax%252Fdatum..rkt%2529._datum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">datum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ul</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">li</span><span class="hspace">&nbsp;</span><span class="RktVar">item</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>In Racket&rsquo;s <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Datum_Pattern_Matching.html%23%2528form._%2528%2528lib._syntax%252Fdatum..rkt%2529._datum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">datum</a></span> template DSL, occurrences of <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">...</a></span> cause an item to be repeated some number of times, just like using <span class="stt">&#945;</span>. A template variable like <span class="RktVar">item</span> is statically associated with an ellipsis depth that governs how many ellipses must be applied to it. In this case, <span class="RktVar">item</span> has an ellipsis depth of 1, so wherever it appears in a template, it implicitly behaves like <span class="stt">&#8226;items</span>. (If the iteration depth were 4, it would behave like <span class="stt">&#8226;&#8226;&#8226;&#8226;items</span>.) Meanwhile, unbound identifiers like <span class="RktVar">ul</span> and <span class="RktVar">li</span> are implicitly quoted, and miscellaneous syntactic landmarks are implicitly quoted as well. For instance, the lists which surround <span class="RktVar">ul</span> and <span class="RktVar">li</span> are quoted as though they were surrounded with ` and <span class="stt">,@</span>.</p><p>In the process of explaining how Racket&rsquo;s template DSL works, we&rsquo;ve described a *translation* of (a subset of) that DSL into other Racket code. Maybe <span class="stt">&#945;...</span> and <span class="stt">&#8226;...</span> aren&rsquo;t actually implemented in Racket, but Punctaffy does implement <span class="RktPn">(</span><span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Flet..rkt%29._list-taffy-map%29%29" class="RktStxLink" data-pltdoc="x">list-taffy-map</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3c%29%29" class="RktStxLink" data-pltdoc="x">^&lt;</a></span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span><span class="RktPn">)</span> and <span class="RktPn">(</span><span class="RktSym"><a href="baseline-notations.html#%28form._%28%28lib._punctaffy%2Fmain..rkt%29._~5e~3e%29%29" class="RktStxLink" data-pltdoc="x">^&gt;</a></span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span> to serve their purpose here.</p><p>A common technique for DSLs in Racket is first to use a parser to preprocess a DSL into a similarly shaped Racket s-expression, then to expand it using a suite of Racket macros. In this case, what we&rsquo;ve described isn&rsquo;t a translation into a mere s-expression so much as a translation into <a href="baseline-notations.html#%28tech._hyperbracketed._code%29" class="techoutside" data-pltdoc="x"><span class="techinside">hyperbracketed code</span></a>. In this way, regardless of the experience of using hyperbrackets directly, hyperbrackets provide infrastructure that can be helpful in the implementation of other DSLs.</p><p>Unfortunately, we&rsquo;ve begun to digress into ideas that aren&rsquo;t fully realized in Punctaffy yet. Most DSLs in Racket can use frameworks like <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">match</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span>, <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=ragg&amp;rel=index.html&amp;version=8.6" class="Sq" data-pltdoc="x"><span class="stt">ragg</span></a>, and <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=brag&amp;rel=index.html&amp;version=8.6" class="Sq" data-pltdoc="x"><span class="stt">brag</span></a> to parse and translate their tree-structured code, but Punctaffy doesn&rsquo;t yet have a parsing framework for hyperbracketed code. As such, implementing the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=syntax&amp;rel=Datum_Pattern_Matching.html%23%2528form._%2528%2528lib._syntax%252Fdatum..rkt%2529._datum%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">datum</a></span> template DSL in terms of Punctaffy may still be trickier than implementing it the way Racket has.</p><p>Punctaffy isn&rsquo;t short on unrealized ambitions; <a href="motivation.html" data-pltdoc="x">Motivation for Punctaffy</a> describes several application areas where we expect Punctaffy&rsquo;s hypersnippet and hyperbracket concepts to come in handy. For now, our explorations have culminated in operations like <span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Fquote..rkt%29._taffy-quote%29%29" class="RktStxLink" data-pltdoc="x">taffy-quote</a></span> and <span class="RktSym"><a href="hyperbracketed-util.html#%28form._%28%28lib._punctaffy%2Flet..rkt%29._list-taffy-map%29%29" class="RktStxLink" data-pltdoc="x">list-taffy-map</a></span>, which demonstrate a certain technique: the interoperation of multiple notations like these by means of a common hyperbracket notation. There&rsquo;s still much more exploration ahead.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Punctaffy&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Punctaffy&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="motivation.html" title="forward to &quot;2 Motivation for Punctaffy&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/punctaffy/intro.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:29:59 GMT -->
</html>