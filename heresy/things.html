<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/heresy/things.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:13:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3.10&nbsp;Things</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">The Heresy Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="rules.html" class="tocviewlink" data-pltdoc="x">The Heresy Rules</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" data-pltdoc="x">Heresy Syntax and Conventions</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="reference.html" class="tocviewselflink" data-pltdoc="x">Heresy Reference</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="reference.html" class="tocviewlink" data-pltdoc="x">Heresy Reference</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="declarations.html" class="tocviewlink" data-pltdoc="x">Declarations</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="conditionals.html" class="tocviewlink" data-pltdoc="x">Conditionals and Loops</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="logic.html" class="tocviewlink" data-pltdoc="x">Predicates and Logic</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="syntax-and-evaluation.html" class="tocviewlink" data-pltdoc="x">Syntax and Evaluation</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="io.html" class="tocviewlink" data-pltdoc="x">Input and Output</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="lists.html" class="tocviewlink" data-pltdoc="x">Lists</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="strings.html" class="tocviewlink" data-pltdoc="x">Strings</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="math.html" class="tocviewlink" data-pltdoc="x">Math</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="random.html" class="tocviewlink" data-pltdoc="x">Random Numbers</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Things</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="theory.html" class="tocviewlink" data-pltdoc="x">Theory</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="pipes.html" class="tocviewlink" data-pltdoc="x">Pipe/<span class="mywbr"> &nbsp;</span>Threading Operators</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="holes.html" class="tocviewlink" data-pltdoc="x">Holes</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="maybe.html" class="tocviewlink" data-pltdoc="x">Maybe</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="monad-do.html" class="tocviewlink" data-pltdoc="x">Monads and Do Notation</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">describe</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">thing</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._send%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">send</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">thing?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._is-a~3f%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">is-<wbr></wbr>a?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3d~3f%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">thing=?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._.Self%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">Self</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">extends</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._inherit%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">inherit</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="random.html" title="backward to &quot;3.9 Random Numbers&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="reference.html" title="up to &quot;3 Heresy Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="theory.html" title="forward to &quot;3.11 Theory&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;heresy/docs/heresy.scrbl&quot;)" x-source-pkg="heresy" x-part-tag="&quot;things&quot;">3.10<tt>&nbsp;</tt><a name="(part._things)"></a>Things</h4><p>Things are Heresy&rsquo;s definable data structures. Unlike the objects of most
object-oriented languages, which often exist to hold and carry mutable state and
actions with which to change that state, Things are immutable. A Thing, once
sprung to life, cannot itself be altered, but can be called with the correct
syntax to return a new Thing with different internal values for its internal
data fields.</p><p>Things are essentially functions, lambdas specifically, with predefined syntax
arguments. They are first class values, and can be passed freely just as any
other data, but can also be passed arguments to either return the values of
their fields, return a new Thing, or to employ any functions contained within
the thing.</p><p>Things can also optionally be given
<span style="font-style: italic"><a href="http://wiki.c2.com/?PredicateTypes">predicate types</a></span>. Predicate typing is
a form of typing in which types are defined by a predicate function, in other words
a function which given a value, will return either true or false. In this way,
any kind of type validation can be specified so long as it can be programmed as a
function which returns a Boolean value. Things check their values against these types
at both declaration, when the object is first described or instantiated, and at
assignment of new values, ie. when the copy syntax is used to generate a new thing
from the old one. If you attempt to describe or copy a thing whose values do not match
its predicate types, the program will throw an error and indicate what field did not
match its type.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._heresy/main..rkt)._describe))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">describe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Name</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktVar">Name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">type?</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktVar">Name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxLink" data-pltdoc="x">extends</a></span><span class="hspace">&nbsp;</span><span class="RktVar">super-thing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">type?</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktVar">Name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxLink" data-pltdoc="x">extends</a></span><span class="hspace">&nbsp;</span><span class="RktVar">super-thing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._inherit%29%29" class="RktStxLink" data-pltdoc="x">inherit</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">type?</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Defines a new type of Thing, given <span class="RktVar">Name</span>. By convention, Things are
generally named in uppercase, though this is not required by the syntax. Each
field is an internal name and external symbol, which is mapped to the given
value. Anonymous functions (<span class="RktSym"><a href="declarations.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span>) can be assigned as values to Thing
fields, and those functions can access the fields of the Thing by name.</div></p><p>Optionally, after the field name, a type predicate can be provided. Type
predicates are automatically "curried", ie. treated as a partial function
with the initial arguments following the given <span class="RktVar">type?</span>, and expecting
the result to be a single argument function that returns <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span> or
<span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span>. Things which are not given a type are automatically given
the type <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._any~3f%29%29" class="RktValLink" data-pltdoc="x">any?</a></span>, which returns <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span> for any value.</p><p>If the <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxLink" data-pltdoc="x">extends</a></span> option is provided, the new Thing extends
<span class="RktVar">super-thing</span>, inheriting it&rsquo;s fields and methods (unless they are
overridden).  If the <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._inherit%29%29" class="RktStxLink" data-pltdoc="x">inherit</a></span> option is provided with it, then the
<span class="RktVar">id</span>s are available as bindings within the method expressions. Typed
things can be extended from untyped things and vice versa; the fields from
the parent will inherit their types from the parent, unless overridden by
creating a new field with the same name and a new type signature (or no
signature, as the case may be). Note that parent things are <span style="font-style: italic">never</span>
modified by their children.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Project</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Destroy the world"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">90</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">budget</span><span class="hspace">&nbsp;</span><span class="RktVal">432000000</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">Project</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">budget</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">432000000</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Employee</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"Dave"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">dept</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">it</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">projects</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._list-of~3f%29%29" class="RktValLink" data-pltdoc="x">list-of?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">23</span><span class="hspace">&nbsp;</span><span class="RktVal">90</span><span class="hspace">&nbsp;</span><span class="RktVal">45</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">Employee</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">name</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Dave"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">Employee</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">"sales"</span><span class="hspace">&nbsp;</span><span class="RktVal">*</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">Thing encountered type error in assignment: dept must be</span></p></td></tr><tr><td><p><span class="RktErr">(symbol?)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="declarations.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="declarations.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">age-req?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">age</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="math.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._~3c%29%29" class="RktValLink" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">17</span><span class="hspace">&nbsp;</span><span class="RktSym">age</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="math.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">45</span><span class="hspace">&nbsp;</span><span class="RktSym">age</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Henchman</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxLink" data-pltdoc="x">extends</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Employee</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">weapon</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">AK-47</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">age</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">age-req?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">64</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktErr">Thing encountered type error in declaration: age must be</span></p></td></tr><tr><td><p><span class="RktErr">(age-req?)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._heresy/main..rkt)._thing))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">thing</a></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">thing</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">type?</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">thing</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxLink" data-pltdoc="x">extends</a></span><span class="hspace">&nbsp;</span><span class="RktVar">super-thing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">type?</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">thing</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxLink" data-pltdoc="x">extends</a></span><span class="hspace">&nbsp;</span><span class="RktVar">super-thing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._inherit%29%29" class="RktStxLink" data-pltdoc="x">inherit</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">type?</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Just like <span class="RktSym"><a href="declarations.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span> produces an anonymous function, <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="RktStxLink" data-pltdoc="x">thing</a></span> produces an
anonymous Thing.</div></p><p><div class="SIntrapara">If there is a Thing defined as <a name="(def._((lib._heresy/main..rkt)._.Name))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span></span>:
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p></p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVar">symbol</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fields</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVar">alist</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Once a Thing has been described or bound to a name by other means, that Name is
bound locally as a function, and can thus be called with special syntax to
return its contents or to return a new copied Thing. In more detail, these
syntaxes are as follows:</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p></p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns an association list containing the contents of the Thing, ie. a list in
the form of: <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">field</span><span class="stt"> </span><span class="RktVal">value</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVal">...</span><span class="RktVal">)</span></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p></p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fields</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns a list of symbols for the fields contained within the Thing. Note that
the symbol <span class="RktVal">'</span><span class="RktVal">fields</span> takes precedent over the field names within, in
order to prevent overwriting this syntax.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p></p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVar">symbol</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns the value of the field associated with <span class="RktVar">symbol</span>, the quoted
form of the field name described when the Thing type was first declared. Will
return an error if no such named field is found. If the value associated with
symbol is a function, this expression can be used as the operating function of
a further expression like so:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Lord-Cthulhu</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eat</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="declarations.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="io.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._print%29%29" class="RktStxLink" data-pltdoc="x">print</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="strings.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._~26%29%29" class="RktValLink" data-pltdoc="x">&amp;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Devours "</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">Lord-Cthulhu</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">eat</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"Dave"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">Devours Dave</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p></p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVar">alist</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">alist</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVar">pair</span><span class="stt"> </span><span class="RktVal">...</span><span class="RktVal">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">pair</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVar">field</span><span class="stt"> </span><span class="RktVar">value</span><span class="RktVal">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns a copy of the Thing, with new values assigned to the fields as indicated by
the provided associative list. All values not listed will copy over their values intact.
The copy will type-check the values of each field assigned.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Beeb</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">model</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">B</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ram</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cpu</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"m6502"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="declarations.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="hspace">&nbsp;</span><span class="RktSym">BeebPlus</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Beeb</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">model</span><span class="hspace">&nbsp;</span><span class="RktVal">B+</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">ram</span><span class="hspace">&nbsp;</span><span class="RktVal">64</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">BeebPlus</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((model<span class="stt"> </span>B+)<span class="stt"> </span>(ram<span class="stt"> </span>64)<span class="stt"> </span>(cpu<span class="stt"> </span>"m6502"))</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p></p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">Name</span></span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVar">sub-pat</span><span class="stt"> </span><span class="RktVal">...</span><span class="RktVal">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">sub-pat</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">*</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">value</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns a copy of the Thing, with new values according to the pattern passed to
the original Thing. <span class="RktVar">pattern</span> must be a quoted list of either
<span class="RktVal">'</span><span class="RktVal">*</span>s or values, in order according to the fields of the Thing as
originally defined (so the first <span class="RktVar">sub-pat</span> matches the first
field, the second to the second field, and so on). A <span class="RktVal">'</span><span class="RktVal">*</span> in a field
indicates that the value is copied in-tact, while a value becomes the new value
of the field in that position. For example:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Santa</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">size</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fat</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sleigh</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ready</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sack</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">full</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="declarations.html#%28form._%28%28lib._heresy%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Santa-after-Christmas</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Santa</span><span class="hspace">&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">empty</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">Santa-after-Christmas</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((size<span class="stt"> </span>fat)<span class="stt"> </span>(sleigh<span class="stt"> </span>ready)<span class="stt"> </span>(sack<span class="stt"> </span>empty))</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._heresy/main..rkt)._send))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._send%29%29" class="RktValDef RktValLink" data-pltdoc="x">send</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Thing</span><span class="hspace">&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Thing</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="RktValLink" data-pltdoc="x">thing?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any</span></td></tr></table></blockquote></div><div class="SIntrapara">An alternate syntax for accessing functions within Things, send calls the
function named by <span class="RktPn">(</span><span class="RktVar">Thing</span><span class="stt"> </span><span class="RktVar">symbol</span><span class="RktPn">)</span> with the given arguments and returns
the result.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._heresy/main..rkt)._thing~3f))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">thing?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._any~3f%29%29" class="RktValLink" data-pltdoc="x">any?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span> if <span class="RktVar">v</span> "looks like" a Thing, or <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span> if it doesn&rsquo;t.
<span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="RktValLink" data-pltdoc="x">thing?</a></span> employs a duck-typing method, checking the object for the expected
properties of a Thing, so it is possible, albeit unlikely, to fool it. Specifically
it checks first if <span class="RktVar">v</span> is a <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._fn~3f%29%29" class="RktValLink" data-pltdoc="x">fn?</a></span>, then checks the returns for the default
internal methods of all Things, and its internal hash value.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._heresy/main..rkt)._is-a~3f))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._is-a~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">is-a?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Type</span><span class="hspace">&nbsp;</span><span class="RktVar">Thing</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="RktValLink" data-pltdoc="x">thing?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Thing</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="RktValLink" data-pltdoc="x">thing?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span> if <span class="RktVar">Thing</span> is an instance of <span class="RktVar">Type</span>. This
will return <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span> if <span class="RktVar">Thing</span> is the same kind as <span class="RktVar">Type</span>, or
if <span class="RktVar">Thing</span> is derived from <span class="RktVar">Type</span>, as by <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxLink" data-pltdoc="x">extends</a></span>. This is done by
comparing the internal <span class="RktVal">'</span><span class="RktVal">_ident</span> field of <span class="RktVar">Type</span> to both the <span class="RktVal">'</span><span class="RktVal">_ident</span>
and <span class="RktVal">'</span><span class="RktVal">_parents</span> fields of <span class="RktVar">Thing</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._heresy/main..rkt)._thing~3d~3f))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3d~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">thing=?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">thing1</span><span class="hspace">&nbsp;</span><span class="RktVar">thing2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">thing1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="RktValLink" data-pltdoc="x">thing?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">thing2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._thing~3f%29%29" class="RktValLink" data-pltdoc="x">thing?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span> if <span class="RktVar">thing1</span> and <span class="RktVar">thing2</span>&rsquo;s fields are <span class="RktSym"><a href="logic.html#%28def._%28%28lib._heresy%2Fmain..rkt%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span>
to each other, according to the internal hash values generated from their fields, after first
checking that both things are the same type according to <span class="RktSym"><a href="#%28def._%28%28lib._heresy%2Fmain..rkt%29._is-a~3f%29%29" class="RktValLink" data-pltdoc="x">is-a?</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._heresy/main..rkt)._.Self))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._.Self%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">Self</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">....</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._.Self%29%29" class="RktStxLink" data-pltdoc="x">Self</a></span> is the self-referring identifier for a Thing, allowing for
functions within Things to call the Thing itself. Note that if it is only the
values of the other fields, this is not necessary, as fields are defined as
local names within the context of the Thing, and thus can be referred to simply
by name.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._heresy/main..rkt)._extends))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._extends%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">extends</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">can only be used within a <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="RktStxLink" data-pltdoc="x">thing</a></span> form.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._heresy/main..rkt)._inherit))"></a><span title="Provided from: heresy | Package: heresy"><span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._inherit%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">inherit</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">can only be used within a <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._describe%29%29" class="RktStxLink" data-pltdoc="x">describe</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._heresy%2Fmain..rkt%29._thing%29%29" class="RktStxLink" data-pltdoc="x">thing</a></span> form.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="random.html" title="backward to &quot;3.9 Random Numbers&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="reference.html" title="up to &quot;3 Heresy Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="theory.html" title="forward to &quot;3.11 Theory&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/heresy/things.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:13:22 GMT -->
</html>