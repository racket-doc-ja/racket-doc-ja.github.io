<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/behavior/Module_behavior_fsm.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1&nbsp;Module behavior/fsm</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Behavioral Models</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>fsm</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Module_behavior_markov-chain.html" class="tocviewlink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>markov-<wbr></wbr>chain</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Module_behavior_petri-net.html" class="tocviewlink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>petri-<wbr></wbr>net</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Module_behavior_reporter.html" class="tocviewlink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>reporter</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>fsm</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="#%28part._fsm~3atypes%29" class="tocviewlink" data-pltdoc="x">Types and Predicates</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="#%28part._fsm~3aconstruction%29" class="tocviewlink" data-pltdoc="x">Construction</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="#%28part._fsm~3aexecution%29" class="tocviewlink" data-pltdoc="x">Execution</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._fsm~3atypes%29" class="tocsubseclink" data-pltdoc="x">Types and Predicates</a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">state-<wbr></wbr>machine</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">state</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transition</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">machine-<wbr></wbr>execution</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-history-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">machine-<wbr></wbr>history-<wbr></wbr>event</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._fsm~3aconstruction%29" class="tocsubseclink" data-pltdoc="x">Construction</a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state-machine%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>state-<wbr></wbr>machine</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>state</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-transition%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>transition</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._no-behavior%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">no-<wbr></wbr>behavior</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._no-guard%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">no-<wbr></wbr>guard</span></a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._fsm~3aexecution%29" class="tocsubseclink" data-pltdoc="x">Execution</a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-machine-execution%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>machine-<wbr></wbr>execution</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution-start%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">machine-<wbr></wbr>execution-<wbr></wbr>start</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution-complete~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">machine-<wbr></wbr>execution-<wbr></wbr>complete?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">handle-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._complete-current-state%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">complete-<wbr></wbr>current-<wbr></wbr>state</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Behavioral Models&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Behavioral Models&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Module_behavior_markov-chain.html" title="forward to &quot;2 Module behavior/markov-chain&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;Module_behavior_fsm&quot;">1<tt>&nbsp;</tt><a name="(part._.Module_behavior_fsm)"></a><a name="(mod-path._behavior/fsm)"></a>Module behavior/fsm</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">behavior/fsm</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/behavior" title="Install this package using `raco pkg install behavior`"><span class="stt">behavior</span></a></span></td></tr></table></p><p>This module provides the ability to define, and then execute, state machines
using a flexible yet capable model. The definition model provides a <span style="font-style: italic">state
machine</span> that contains a set of discrete <span style="font-style: italic">states</span>, each state has a set
of outbound <span style="font-style: italic">transitions</span> each of which may be associated with a
<span style="font-style: italic">trigger event</span>. Note, wherever possible the terminology and relationships
in the state machine  model follow those of the
<a href="https://en.wikipedia.org/wiki/UML_state_machine">Unified Modeling
Language (UML)</a>.</p><p>State machine definition details:</p><ul><li><p>All state names, and events, are represented as symbols.</p></li><li><p>Behaviors are represented as simple procedures that take the current
<span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution%29%29" class="RktValLink" data-pltdoc="x">machine-execution</a></span> as a parameter and return void. As the
execution instance is immutable the behavior cannot affect the
current state.</p></li><li><p>Transition guards are represented as simple predicates that take the
current <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution%29%29" class="RktValLink" data-pltdoc="x">machine-execution</a></span> as a parameter and return a boolean
which indicates whether the transition is <span style="font-style: italic">enabled</span>. As the
execution instance is immutable the behavior cannot affect the
current state.</p></li><li><p>Additional events may be passed into the model, these will be recorded
if received and will be ignored without error. See execution details
below for event and transition behavior.</p></li><li><p>The model supports <span style="font-style: italic">internal transitions</span> that transition from
one state to itself without triggering exit or event behavior(s).</p></li><li><p><div class="SIntrapara">Model validation rules (resulting in <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span> errors
from <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state-machine%29%29" class="RktValLink" data-pltdoc="x">make-state-machine</a></span>):
</div><div class="SIntrapara"><ul><li><p>The model must have one, and only one, start state.</p></li><li><p>The model must have one, and only one, final state.</p></li><li><p>Transitions marked as internal must have the same source and
target state.</p></li><li><p>A state may only have one outgoing, <span style="font-style: italic">unguarded</span>, transition.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Limitations (compared to UML for example):
</div><div class="SIntrapara"><ul><li><p>The model does not currently support nested, or hierarchical,
states.</p></li><li><p>The model does not currently support orthogonal regions.</p></li></ul></div></p></li></ul><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">simple-fsm</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state-machine%29%29" class="RktValLink" data-pltdoc="x">make-state-machine</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">first-fsm</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state%29%29" class="RktValLink" data-pltdoc="x">make-state</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">hello</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">start</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state%29%29" class="RktValLink" data-pltdoc="x">make-state</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">goodbye</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">final</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-transition%29%29" class="RktValLink" data-pltdoc="x">make-transition</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">hello</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">goodbye</span><span class="hspace">&nbsp;</span><span class="RktPn">#:on-event</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">wake</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">sleep</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">log-string</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stringport.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._open-output-string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">open-output-string</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=logging.html%23%2528def._%2528%2528lib._racket%252Flogging..rkt%2529._with-logging-to-port%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">with-logging-to-port</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">log-string</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">exec</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-machine-execution%29%29" class="RktValLink" data-pltdoc="x">make-machine-execution</a></span><span class="hspace">&nbsp;</span><span class="RktSym">simple-fsm</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Module_behavior_reporter.html#%28def._%28%28lib._behavior%2Freporter..rkt%29._make-logging-reporter%29%29" class="RktValLink" data-pltdoc="x">make-logging-reporter</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">started</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution-start%29%29" class="RktValLink" data-pltdoc="x">machine-execution-start</a></span><span class="hspace">&nbsp;</span><span class="RktSym">exec</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">next1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValLink" data-pltdoc="x">handle-event</a></span><span class="hspace">&nbsp;</span><span class="RktSym">started</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sleep</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">next2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValLink" data-pltdoc="x">handle-event</a></span><span class="hspace">&nbsp;</span><span class="RktSym">next1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">wake</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">info</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._for-each%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">for-each</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">curryr</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list-tail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list-tail</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">line</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-split</span><span class="hspace">&nbsp;</span><span class="RktSym">line</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktPn">#:repeat?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-split</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stringport.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._get-output-string%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">get-output-string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">log-string</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"\n"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:repeat?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">(starting #&lt;state&gt; #f ()))</span></p></td></tr><tr><td><p><span class="RktOut">(enter-state #f #f ("#&lt;procedure:no-behavior&gt;")))</span></p></td></tr><tr><td><p><span class="RktOut">(execute-state #f #f ("#&lt;procedure:no-behavior&gt;")))</span></p></td></tr><tr><td><p><span class="RktOut">(handle-event #&lt;state&gt; #f ("sleep")))</span></p></td></tr><tr><td><p><span class="RktOut">(handle-event #&lt;state&gt; #&lt;transition&gt; ("wake")))</span></p></td></tr><tr><td><p><span class="RktOut">(exit-state #&lt;state&gt; #f ("#&lt;procedure:no-behavior&gt;")))</span></p></td></tr><tr><td><p><span class="RktOut">(transition #&lt;state&gt; #&lt;transition&gt; ("#&lt;procedure:no-guard&gt; =&gt; #t")))</span></p></td></tr><tr><td><p><span class="RktOut">(transition-effect #&lt;state&gt; #f ("#&lt;procedure:no-behavior&gt;")))</span></p></td></tr><tr><td><p><span class="RktOut">(enter-state #&lt;state&gt; #f ("#&lt;procedure:no-behavior&gt;")))</span></p></td></tr><tr><td><p><span class="RktOut">(execute-state #&lt;state&gt; #f ("#&lt;procedure:no-behavior&gt;")))</span></p></td></tr><tr><td><p><span class="RktOut">(completed #&lt;state&gt; #f ()))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>A state machine is executed by constructing a <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution%29%29" class="RktValLink" data-pltdoc="x">machine-execution</a></span> and then
calling <span class="RktSym">execution-start</span>. This will transition to the start state and
perform any behaviors associated with it. The state machine only transitiona from
one state to another in response to an event (via <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValLink" data-pltdoc="x">handle-event</a></span>) or by
state completion (via <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._complete-current-state%29%29" class="RktValLink" data-pltdoc="x">complete-current-state</a></span>). The state machine is completed
when it transitions into either a <span class="RktVal">'</span><span class="RktVal">final</span> state, or a state with no
outgoing transitions.</p><p>Additional execution details:</p><ul><li><p>A new execution has a condition <span class="RktVal">'</span><span class="RktVal">created</span>, and will not accept
<span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValLink" data-pltdoc="x">handle-event</a></span> or <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._complete-current-state%29%29" class="RktValLink" data-pltdoc="x">complete-current-state</a></span> calls until in
condition <span class="RktVal">'</span><span class="RktVal">active</span>.</p></li><li><p>The call to <span class="RktSym">execution-start</span> will alter the condition to
<span class="RktVal">'</span><span class="RktVal">active</span> and set the current state to the start state.</p></li><li><p>Once the execution completes the condition is set to <span class="RktVal">'</span><span class="RktVal">complete</span>
and the state machine will again reject calls to  <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValLink" data-pltdoc="x">handle-event</a></span>
or <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._complete-current-state%29%29" class="RktValLink" data-pltdoc="x">complete-current-state</a></span>.</p></li><li><p>When handling an event (if the event is valid for this machine) if no
transition leaving the current state is triggered by the event it is
logged and ignored. If more than one transition is triggered by the
event <span style="font-style: italic">and</span> they are all enabled an error occurs and the
execution condition is set to <span class="RktVal">'</span><span class="RktVal">in-error</span>.</p></li><li><p>Similarly, when calling <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._complete-current-state%29%29" class="RktValLink" data-pltdoc="x">complete-current-state</a></span> if no transitions are
enabled at this time, or if multiple transitions are enabled, an error
occurs.</p></li><li><p>The last two situations are considered temporary, while the machine
indicates an error the actions can be re-tried if a different event
is used, or of guard conditions evaluate to different results. In the
case where a single transition is enabled on retry the execution
condition is reset to <span class="RktVal">'</span><span class="RktVal">active</span>.</p></li><li><p>Reporters are supported that receive events from the running execution
for logging or other behavior.</p></li><li><p><div class="SIntrapara">Limitations (compared to UML for example):
</div><div class="SIntrapara"><ul><li><p>The procedure <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValLink" data-pltdoc="x">handle-event</a></span> is synchronous, no queue is
provided for incoming events.</p></li></ul></div></p></li></ul><h4 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;fsm:types&quot;">1.1<tt>&nbsp;</tt><a name="(part._fsm~3atypes)"></a>Types and Predicates</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._behavior/fsm..rkt)._state-machine-transitions))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-machine-events))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-machine-states))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-machine-name))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-machine~3f))"></a><a name="(def._((lib._behavior/fsm..rkt)._struct~3astate-machine))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-machine))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine%29%29" class="RktValDef RktValLink" data-pltdoc="x">state-machine</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">states</span><span class="stt"> </span><span class="RktSym">events</span><span class="stt"> </span><span class="RktSym">transitions</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">states</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fhash..rkt%2529._hash%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">symbol</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state~3f%29%29" class="RktValLink" data-pltdoc="x">state?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">events</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fhash..rkt%2529._hash%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">symbol</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition~3f%29%29" class="RktValLink" data-pltdoc="x">transition?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">transitions</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fhash..rkt%2529._hash%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">symbol</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition~3f%29%29" class="RktValLink" data-pltdoc="x">transition?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">The state machine definition, returned by <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state-machine%29%29" class="RktValLink" data-pltdoc="x">make-state-machine</a></span>, and which
defines the states and transitions and has been validated to be correct. The
three <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">hash</a></span> values are constructed as optimization for the execution and
comprise <span class="RktSym">name</span> to <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="RktValLink" data-pltdoc="x">state</a></span>, <span class="RktSym">event</span> to <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition%29%29" class="RktValLink" data-pltdoc="x">transition</a></span>,
and source <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="RktValLink" data-pltdoc="x">state</a></span> to <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition%29%29" class="RktValLink" data-pltdoc="x">transition</a></span> respectively.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._behavior/fsm..rkt)._state-exit))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-execution))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-entry))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-kind))"></a><a name="(def._((lib._behavior/fsm..rkt)._state-name))"></a><a name="(def._((lib._behavior/fsm..rkt)._state~3f))"></a><a name="(def._((lib._behavior/fsm..rkt)._struct~3astate))"></a><a name="(def._((lib._behavior/fsm..rkt)._state))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="RktValDef RktValLink" data-pltdoc="x">state</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">kind</span><span class="stt"> </span><span class="RktSym">entry</span><span class="stt"> </span><span class="RktSym">execution</span><span class="stt"> </span><span class="RktSym">exit</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">kind</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">start</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">normal</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">final</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">entry</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">execution</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">exit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a state within the <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine%29%29" class="RktValLink" data-pltdoc="x">state-machine</a></span>, also included in certain
<span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-history-event%29%29" class="RktValLink" data-pltdoc="x">machine-history-event</a></span> instances.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._behavior/fsm..rkt)._transition-effect))"></a><a name="(def._((lib._behavior/fsm..rkt)._transition-guard))"></a><a name="(def._((lib._behavior/fsm..rkt)._transition-trigger-event))"></a><a name="(def._((lib._behavior/fsm..rkt)._transition-internal))"></a><a name="(def._((lib._behavior/fsm..rkt)._transition-target-name))"></a><a name="(def._((lib._behavior/fsm..rkt)._transition-source-name))"></a><a name="(def._((lib._behavior/fsm..rkt)._transition~3f))"></a><a name="(def._((lib._behavior/fsm..rkt)._struct~3atransition))"></a><a name="(def._((lib._behavior/fsm..rkt)._transition))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition%29%29" class="RktValDef RktValLink" data-pltdoc="x">transition</a></span></span></span></td><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span></td><td><span class="nobreak"><span class="RktSym">source-name</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">target-name</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">internal</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">trigger-event</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">guard</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">effect</span><span class="RktPn">))</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">source-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">target-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">internal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">trigger-event</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">guard</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a transition within the <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine%29%29" class="RktValLink" data-pltdoc="x">state-machine</a></span>, also included in certain
<span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-history-event%29%29" class="RktValLink" data-pltdoc="x">machine-history-event</a></span> instances.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._behavior/fsm..rkt)._machine-execution-current-state))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-execution-condition))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-execution-model))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-execution~3f))"></a><a name="(def._((lib._behavior/fsm..rkt)._struct~3amachine-execution))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-execution))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution%29%29" class="RktValDef RktValLink" data-pltdoc="x">machine-execution</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">model</span><span class="stt"> </span><span class="RktSym">condition</span><span class="stt"> </span><span class="RktSym">current-state</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">model</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine~3f%29%29" class="RktValLink" data-pltdoc="x">state-machine?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">condition</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">created</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">active</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in-error</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">complete</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">current-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state~3f%29%29" class="RktValLink" data-pltdoc="x">state?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This represents the current state of a state machine execution, note that calls
to <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValLink" data-pltdoc="x">handle-event</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._complete-current-state%29%29" class="RktValLink" data-pltdoc="x">complete-current-state</a></span> return new copies
of this structure.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._behavior/fsm..rkt)._machine-history-event-evaluations))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-history-event-transition))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-history-event-source))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-history-event-kind))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-history-event-current-execution))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-history-event~3f))"></a><a name="(def._((lib._behavior/fsm..rkt)._struct~3amachine-history-event))"></a><a name="(def._((lib._behavior/fsm..rkt)._machine-history-event))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-history-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">machine-history-event</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Module_behavior_reporter.html#%28def._%28%28lib._behavior%2Freporter..rkt%29._history-event%29%29" class="RktValLink" data-pltdoc="x">history-event</a></span></span></td><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span></td><td><span class="nobreak"><span class="RktSym">current-execution</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">kind</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">source</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">transition</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">evaluations</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">current-execution</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">kind</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">source</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state~3f%29%29" class="RktValLink" data-pltdoc="x">state?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">transition</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition~3f%29%29" class="RktValLink" data-pltdoc="x">transition?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">evaluations</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">These events are sent to the reporter associated with discrete actions taken as
part of the state machine execution. For example, <span class="RktSym">kind</span> may be one of
<span class="RktVal">'</span><span class="RktVal">starting</span>, <span class="RktVal">'</span><span class="RktVal">enter-state</span>, <span class="RktVal">'</span><span class="RktVal">execute-state</span>,
<span class="RktVal">'</span><span class="RktVal">exit-state</span>, <span class="RktVal">'</span><span class="RktVal">handle-event</span>, <span class="RktVal">'</span><span class="RktVal">transition</span>,
<span class="RktVal">'</span><span class="RktVal">transition-effect</span>, or <span class="RktVal">'</span><span class="RktVal">completed</span>.</div></p><h4 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;fsm:construction&quot;">1.2<tt>&nbsp;</tt><a name="(part._fsm~3aconstruction)"></a>Construction</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._make-state-machine))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state-machine%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-state-machine</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">states</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">transitions</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">additional-events</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine~3f%29%29" class="RktValLink" data-pltdoc="x">state-machine?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">states</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._non-empty-listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">non-empty-listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state~3f%29%29" class="RktValLink" data-pltdoc="x">state?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">transitions</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._non-empty-listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">non-empty-listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition~3f%29%29" class="RktValLink" data-pltdoc="x">transition?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">additional-events</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a new <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine%29%29" class="RktValLink" data-pltdoc="x">state-machine</a></span>, all validation of the model is performed
during construction and reported as <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span> exceptions.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._make-state))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-state</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">kind</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:on-entry</span><span class="hspace">&nbsp;</span><span class="RktVar">entry</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:execute</span><span class="hspace">&nbsp;</span><span class="RktVar">execution</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:on-exit</span><span class="hspace">&nbsp;</span><span class="RktVar">exit</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state~3f%29%29" class="RktValLink" data-pltdoc="x">state?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kind</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">start</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">normal</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">final</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">entry</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">no-behavior</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">execution</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">no-behavior</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">no-behavior</span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a new <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="RktValLink" data-pltdoc="x">state</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._make-transition))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-transition%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-transition</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">source-name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">target-name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">internal</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:on-event</span><span class="hspace">&nbsp;</span><span class="RktVar">trigger-event</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:guard</span><span class="hspace">&nbsp;</span><span class="RktVar">guard</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:execute</span><span class="hspace">&nbsp;</span><span class="RktVar">effect</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition~3f%29%29" class="RktValLink" data-pltdoc="x">transition?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">source-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">target-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">internal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trigger-event</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">guard</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">no-guard</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">effect</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">no-behavior</span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a new <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition%29%29" class="RktValLink" data-pltdoc="x">transition</a></span>, note that by using symbols for the
<span class="RktSym">sourvce-name</span> and <span class="RktVar">target-name</span> we do not need to reference
<span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="RktValLink" data-pltdoc="x">state</a></span> instances directly and the construction is considerably
easier to read/understand.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state-machine%29%29" class="RktValLink" data-pltdoc="x">make-state-machine</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">first-fsm</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state%29%29" class="RktValLink" data-pltdoc="x">make-state</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">hello</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">start</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-state%29%29" class="RktValLink" data-pltdoc="x">make-state</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">goodbye</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">final</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-transition%29%29" class="RktValLink" data-pltdoc="x">make-transition</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">hello</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">goodbye</span><span class="hspace">&nbsp;</span><span class="RktPn">#:on-event</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">wake</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#&lt;state-machine&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._behavior/fsm..rkt)._no-behavior))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><span class="RktSymDef RktSym">no-behavior</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A default behavior implementation that does nothing.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._behavior/fsm..rkt)._no-guard))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><span class="RktSymDef RktSym">no-guard</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._transition~3f%29%29" class="RktValLink" data-pltdoc="x">transition?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A default guard implementation that simply returns <span class="RktVal">#t</span>.</div></p><h4 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;fsm:execution&quot;">1.3<tt>&nbsp;</tt><a name="(part._fsm~3aexecution)"></a>Execution</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._make-machine-execution))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._make-machine-execution%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-machine-execution</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">from-machine</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">reporter</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-machine</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state-machine~3f%29%29" class="RktValLink" data-pltdoc="x">state-machine?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">reporter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-history-event~3f%29%29" class="RktValLink" data-pltdoc="x">machine-history-event?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a new <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution%29%29" class="RktValLink" data-pltdoc="x">machine-execution</a></span> using <span class="RktVar">from-machine</span> as the
definition. The returned execution will be in the <span class="RktVal">'</span><span class="RktVal">created</span> condition.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._machine-execution-start))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution-start%29%29" class="RktValDef RktValLink" data-pltdoc="x">machine-execution-start</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Transition to the start state of the machine. The returned execution will be in
the <span class="RktVal">'</span><span class="RktVal">active</span> condition.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._machine-execution-complete~3f))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution-complete~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">machine-execution-complete?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if the execution is in the <span class="RktVal">'</span><span class="RktVal">completed</span> condition.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._handle-event))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._handle-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">handle-event</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span><span class="RktVar">event</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">event</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Consume the <span class="RktVar">event</span> and determine the next action. The returned execution
will be in either the <span class="RktVal">'</span><span class="RktVal">active</span>, <span class="RktVal">'</span><span class="RktVal">in-error</span>, or <span class="RktVal">'</span><span class="RktVal">completed</span>
condition.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/fsm..rkt)._complete-current-state))"></a><span title="Provided from: behavior/fsm | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._complete-current-state%29%29" class="RktValDef RktValLink" data-pltdoc="x">complete-current-state</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Ffsm..rkt%29._machine-execution~3f%29%29" class="RktValLink" data-pltdoc="x">machine-execution?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Complete the current state and determine the next action. The returned execution
will be in either the <span class="RktVal">'</span><span class="RktVal">active</span>, <span class="RktVal">'</span><span class="RktVal">in-error</span>, or <span class="RktVal">'</span><span class="RktVal">completed</span>
condition.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Behavioral Models&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Behavioral Models&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Module_behavior_markov-chain.html" title="forward to &quot;2 Module behavior/markov-chain&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/behavior/Module_behavior_fsm.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:17 GMT -->
</html>