<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/behavior/Module_behavior_markov-chain.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;Module behavior/markov-chain</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Behavioral Models</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Module_behavior_fsm.html" class="tocviewlink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>fsm</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>markov-<wbr></wbr>chain</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Module_behavior_petri-net.html" class="tocviewlink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>petri-<wbr></wbr>net</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Module_behavior_reporter.html" class="tocviewlink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>reporter</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Module behavior/<span class="mywbr"> &nbsp;</span>markov-<wbr></wbr>chain</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._chain~3atypes%29" class="tocviewlink" data-pltdoc="x">Types and Predicates</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._chain~3aconstruction%29" class="tocviewlink" data-pltdoc="x">Construction</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._chain~3aexecution%29" class="tocviewlink" data-pltdoc="x">Execution</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._chain~3agraphviz%29" class="tocviewlink" data-pltdoc="x">Graph<span class="mywbr"> &nbsp;</span>Viz</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._chain~3atypes%29" class="tocsubseclink" data-pltdoc="x">Types and Predicates</a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mkchain</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._chain-execution%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chain-<wbr></wbr>execution</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._chain-history-event%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">chain-<wbr></wbr>history-<wbr></wbr>event</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-row~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mkchain-<wbr></wbr>row?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink"><span class="nobreak">-<wbr></wbr>-<wbr></wbr>&gt;</span>?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3c--~3e~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">&lt;-<wbr></wbr>-<wbr></wbr>&gt;?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3e--~3c~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">&gt;-<wbr></wbr>-<wbr></wbr>&lt;?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._chain~3aconstruction%29" class="tocsubseclink" data-pltdoc="x">Construction</a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">==&gt;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">==&gt;!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink"><span class="nobreak">-<wbr></wbr>-<wbr></wbr>&gt;</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>chain</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-diagonal-chain%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>diagonal-<wbr></wbr>chain</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._row-ref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">row-<wbr></wbr>ref</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._row-set%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">row-<wbr></wbr>set</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-states%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mkchain-<wbr></wbr>states</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._chain~3aexecution%29" class="tocsubseclink" data-pltdoc="x">Execution</a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain-execution%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>chain-<wbr></wbr>execution</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain-execution-generator%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>chain-<wbr></wbr>execution-<wbr></wbr>generator</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._execute-chain%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">execute-<wbr></wbr>chain</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._execute-chain-step%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">execute-<wbr></wbr>chain-<wbr></wbr>step</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._execution-chain-state%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">execution-<wbr></wbr>chain-<wbr></wbr>state</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._execution-chain-complete~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">execution-<wbr></wbr>chain-<wbr></wbr>complete?</span></a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._chain~3agraphviz%29" class="tocsubseclink" data-pltdoc="x">Graph<span class="mywbr"> &nbsp;</span>Viz</a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-~3egraph%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mkchain-<wbr></wbr>&gt;graph</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-~3egraph-string%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">mkchain-<wbr></wbr>&gt;graph-<wbr></wbr>string</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Module_behavior_fsm.html" title="backward to &quot;1 Module behavior/fsm&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Behavioral Models&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Module_behavior_petri-net.html" title="forward to &quot;3 Module behavior/petri-net&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;Module_behavior_markov-chain&quot;">2<tt>&nbsp;</tt><a name="(part._.Module_behavior_markov-chain)"></a><a name="(mod-path._behavior/markov-chain)"></a>Module behavior/markov-chain</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">behavior/markov-chain</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/behavior" title="Install this package using `raco pkg install behavior`"><span class="stt">behavior</span></a></span></td></tr></table></p><p>This module provides an implementation for (discrete-time, classic) Markov chains,
these can be used to create the underlying event stream, with specific distributions,
for higher-level behaviors, or for direct simulation. It also separates the
definition of a <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain%29%29" class="RktValLink" data-pltdoc="x">mkchain</a></span> from an execution instance so that the definition
may be reused across multiple executions. Individual states are represented as
symbols, the chain is represented as a matrix, with a row representing transition
sources and columns representing the transition target. Probabilities are represented
as real numbers from 0.0 to 1.0 and all probabilities in a row must add up to
either 0.0 or 1.0.</p><p>As defined by <a href="https://en.wikipedia.org/wiki/Markov_chain">Wikipedia</a>;
A Markov chain is "<span style="font-style: italic">a stochastic model describing a sequence of possible
events in which the probability of each event depends only on the state attained
in the previous event</span>".</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-chain</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain%29%29" class="RktValLink" data-pltdoc="x">make-chain</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">example</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">0.5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">0.25</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">0.25</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">0.5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">0.5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">0.25</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">0.25</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">0.5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">an-exec</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain-execution%29%29" class="RktValLink" data-pltdoc="x">make-chain-execution</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-chain</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">execute</span><span class="hspace">&nbsp;</span><span class="RktSym">an-exec</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">execute: undefined;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr">cannot reference an identifier before its definition</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in module: top-level</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">execution-trace</span><span class="hspace">&nbsp;</span><span class="RktSym">an-exec</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">execution-trace: undefined;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr">cannot reference an identifier before its definition</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in module: top-level</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-~3egraph-string%29%29" class="RktValLink" data-pltdoc="x">mkchain-&gt;graph-string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-chain</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">digraph markov_chain {</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">rankdir = LR;</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">size = "8,5";</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">node [shape = circle];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">c -&gt; c [label = "0.5"];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">c -&gt; a [label = "0.25"];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">c -&gt; b [label = "0.25"];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">a -&gt; c [label = "0.25"];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">a -&gt; a [label = "0.5"];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">a -&gt; b [label = "0.25"];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">b -&gt; c [label = "0.5"];</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">b -&gt; a [label = "0.5"];</span></p></td></tr><tr><td><p><span class="RktOut">}</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr></table></td></tr></table></blockquote></div></p><p>The <span class="RktSym">execution-trace</span> function returns the history of the execution as a
list of states the execution has been in. The list is ordered from most recent to
last; this trace is not a memory, the implementation is still a <span style="font-style: italic">classic</span>
Markov chain.</p><h4 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;chain:types&quot;">2.1<tt>&nbsp;</tt><a name="(part._chain~3atypes)"></a>Types and Predicates</h4><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._behavior/markov-chain..rkt)._mkchain-name))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._mkchain~3f))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._struct~3amkchain))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._mkchain))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain%29%29" class="RktValDef RktValLink" data-pltdoc="x">mkchain</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">name</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._behavior/markov-chain..rkt)._chain-execution-complete~3f))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._chain-execution-state))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._chain-execution-model))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._chain-execution~3f))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._struct~3achain-execution))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._chain-execution))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._chain-execution%29%29" class="RktValDef RktValLink" data-pltdoc="x">chain-execution</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">model</span><span class="stt"> </span><span class="RktSym">state</span><span class="stt"> </span><span class="RktSym">complete?</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">model</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">complete?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._behavior/markov-chain..rkt)._chain-history-event-state))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._chain-history-event-current-execution))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._chain-history-event~3f))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._struct~3achain-history-event))"></a><a name="(def._((lib._behavior/markov-chain..rkt)._chain-history-event))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._chain-history-event%29%29" class="RktValDef RktValLink" data-pltdoc="x">chain-history-event</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Module_behavior_reporter.html#%28def._%28%28lib._behavior%2Freporter..rkt%29._history-event%29%29" class="RktValLink" data-pltdoc="x">history-event</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">current-execution</span><span class="stt"> </span><span class="RktSym">state</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">current-execution</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._chain-execution~3f%29%29" class="RktValLink" data-pltdoc="x">chain-execution?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>contract</p></div></div><p class="RForeground"><a name="(def._((lib._behavior/markov-chain..rkt)._mkchain-row~3f))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-row~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">mkchain-row?</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Determines whether a contract parameter is a <span style="font-style: italic">Markov chain</span> row.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._--~3e~3f))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span>?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span><span class="RktVar">from-state</span><span class="hspace">&nbsp;</span><span class="RktVar">to-state</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">to-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Does a transition exist between <span class="RktVar">from-state</span> and <span class="RktVar">to-state</span>?.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._~3c--~3e~3f))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3c--~3e~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">&lt;--&gt;?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span><span class="RktVar">state1</span><span class="hspace">&nbsp;</span><span class="RktVar">state2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Do the two states <span class="RktVar">state1</span> and <span class="RktVar">state2</span> <span style="font-style: italic">communicate</span>?
Wikipedia: "<span style="font-style: italic">A state i is said to <span style="font-weight: bold">communicate</span> with state j
(written i &#8596; j) if both i &#8594; j and j &#8594; i</span>".</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._~3e--~3c~3f))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3e--~3c~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">&gt;--&lt;?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span><span class="RktVar">state</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Is the state <span class="RktVar">state</span> an <span style="font-style: italic">absorbing</span> state?
Wikipedia: "<span style="font-style: italic">A state i is called <span style="font-weight: bold">absorbing</span> if it is impossible to
leave this state</span>". This implies either no transitions exit this state, or
  the only transition from this state is to itself.</div></p><h4 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;chain:construction&quot;">2.2<tt>&nbsp;</tt><a name="(part._chain~3aconstruction)"></a>Construction</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._~3d~3d~3e))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">==&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">from-state</span><span class="hspace">&nbsp;</span><span class="RktVar">pair</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pair?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pair</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pair?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a pair that represents a row in the transition matrix. The pair c
consists of a symbol naming a state and one or more transition pairs (see
<span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span> below).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._~3d~3d~3e!))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">==&gt;!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">from-state</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pair?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a pair that represents an <span style="font-style: italic">absorbing</span> state in the transition
 matrix.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._--~3e))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">to-state</span><span class="hspace">&nbsp;</span><span class="RktVar">probability</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">pair?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">to-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">symbol</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">probability</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Construct a transition pair that represents the target of a transition and it&rsquo;s
 associated probability.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._make-chain))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-chain</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">pair</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pair</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pairof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-row~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain-row?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Make a new <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain%29%29" class="RktValLink" data-pltdoc="x">mkchain</a></span> structure from the list of symbol and row pairs.
 Each pair represents a source state and it&rsquo;s set of target state probabilities.
 These pairs can be constructed using the <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span> functions.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain%29%29" class="RktValLink" data-pltdoc="x">make-chain</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">example</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">0.3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">0.7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">0.7</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">0.3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%21%29%29" class="RktValLink" data-pltdoc="x">==&gt;!</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#&lt;mkchain&gt;</span></p></td></tr></table></blockquote></div></p><p>This function will return <span class="RktVal">#f</span> if any of the provided pairs are invalid.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._make-diagonal-chain))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-diagonal-chain%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-diagonal-chain</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Make a new <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain%29%29" class="RktValLink" data-pltdoc="x">mkchain</a></span> where the only transitions are the self-transitions
 for each state. The name of this function comes from visualizing the transition
 matrix as having only cells for the diagonal relationships where the from state
 and to state are the same.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._row-ref))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._row-ref%29%29" class="RktValDef RktValLink" data-pltdoc="x">row-ref</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span><span class="RktVar">from-state</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-row~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain-row?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return a row from the transition matrix corresponding to the state <span class="RktVar">from-state</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._row-set))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._row-set%29%29" class="RktValDef RktValLink" data-pltdoc="x">row-set</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span><span class="RktVar">row</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">row</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-row~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain-row?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Set a row in the transition matrix corresponding to the state <span class="RktSym">from-state</span>,
 returning the new chain. If the row itself is invalid in any way the response
 is <span class="RktVal">#f</span> and the chain is unchanged.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._mkchain-states))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-states%29%29" class="RktValDef RktValLink" data-pltdoc="x">mkchain-states</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the list of symbols representing the states of this chain.</div></p><h4 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;chain:execution&quot;">2.3<tt>&nbsp;</tt><a name="(part._chain~3aexecution)"></a>Execution</h4><p>An execution takes place according to discrete steps. At each step the set of
transitions <span style="font-style: italic">from</span> the current state (see <span class="RktSym">execution-state</span>) and chooses
a single transition based on the probabilities for each. Once chosen the <span style="font-style: italic">to</span>
state is made current and the step is complete.</p><p>If the current state is an <span style="font-style: italic">absorbing</span> state (see <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3e--~3c~3f%29%29" class="RktValLink" data-pltdoc="x">&gt;--&lt;?</a></span>) then the
execution is said to be complete (see <span class="RktSym">execution-complete?</span>) and any further
calls to either <span class="RktSym">execute</span> or <span class="RktSym">execute-next</span> will have no effect.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._make-chain-execution))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain-execution%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-chain-execution</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">from-chain</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">start-state</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">reporter</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym">execution?</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">start-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">reporter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">mkchain-reporter?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Create an <span class="RktSym">execution</span> structure from the given chain, and given starting
 state. The behavior of the execution depends on whether the execution itself
 keeps track of the execution history or whether the caller does by providing
 a <span class="RktVar">reporter</span> function.</div></p><ul><li><p>When <span class="RktVar">reporter</span> is specified the provided function is called with
the new state each time one is selected. As the execution is not responsible
for tracking the history of the chosen states, the value of the function
<span class="RktSym">execution-trace</span> is simply the current state.</p></li><li><p>Otherwise, all states are recorded and can be retrieved by the
<span class="RktSym">execution-trace</span> function.</p></li></ul><p>This function will return <span class="RktVal">#f</span> if <span class="RktVar">start-state</span> is not a state within
the chain <span class="RktVar">from-chain</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._make-chain-execution-generator))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain-execution-generator%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-chain-execution-generator</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">from-chain</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">start-state</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym">generator?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from-chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">start-state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Create an <span class="RktSym">execution</span> generator from the given chain, and given starting
 state. The most common usage is in conjunction with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-producer%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-producer</a></span> and use
 a stop-value of <span class="RktVal">#f</span>, as shown below.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">d-chain</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain%29%29" class="RktValLink" data-pltdoc="x">make-chain</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">1.0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%29%29" class="RktValLink" data-pltdoc="x">==&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._--~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">--&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">1.0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3d~3d~3e%21%29%29" class="RktValLink" data-pltdoc="x">==&gt;!</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktErr">make-chain: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: symbol?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: '(a . #hash((b . 1.0)))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 1st argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;*</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(symbol?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">#:rest</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(listof pair?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(or/c #f mkchain?))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/behavior/behavior/markov-chain.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: &lt;pkgs&gt;/behavior/behavior/markov-chain.rkt:20:3</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._make-chain-execution-generator%29%29" class="RktValLink" data-pltdoc="x">make-chain-execution-generator</a></span><span class="hspace">&nbsp;</span><span class="RktSym">d-chain</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">d-chain: undefined;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr">cannot reference an identifier before its definition</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in module: top-level</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="Module_behavior_fsm.html#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="RktValLink" data-pltdoc="x">state</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-producer%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">in-producer</a></span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Module_behavior_fsm.html#%28def._%28%28lib._behavior%2Ffsm..rkt%29._state%29%29" class="RktValLink" data-pltdoc="x">state</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktErr">next: undefined;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr">cannot reference an identifier before its definition</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in module: top-level</span></p></td></tr></table></blockquote></div></p><p>This function will return <span class="RktVal">#f</span> if <span class="RktVar">start-state</span> is not a state
 within the chain <span class="RktVar">from-chain</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._execute-chain))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._execute-chain%29%29" class="RktValDef RktValLink" data-pltdoc="x">execute-chain</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span><span class="RktVar">steps</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">execution?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">execution?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">steps</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This function will perform a number of <span class="RktVar">steps</span>, effectively calling the
 <span class="RktSym">execute-next</span> for each step. The response is the new state of the
 execution.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._execute-chain-step))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._execute-chain-step%29%29" class="RktValDef RktValLink" data-pltdoc="x">execute-chain-step</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">execution?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">execution?</span></td></tr></table></blockquote></div><div class="SIntrapara">Calculate the next state, store it in the execution trace, and return an updated
copy of the execution.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._execution-chain-state))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><span class="RktSymDef RktSym">execution-chain-state</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">execution?</span></td></tr></table></blockquote></div><div class="SIntrapara">Return the current state the chain is in.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._execution-chain-complete~3f))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><span class="RktSymDef RktSym">execution-chain-complete?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exec</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exec</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">execution?</span></td></tr></table></blockquote></div><div class="SIntrapara">Return <span class="RktVal">#t</span> if the execution has reached an <span style="font-style: italic">absorbing</span>
 state (see <span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._~3e--~3c~3f%29%29" class="RktValLink" data-pltdoc="x">&gt;--&lt;?</a></span>).</div></p><h4 x-source-module="(lib &quot;behavior/scribblings/behavior.scrbl&quot;)" x-source-pkg="behavior" x-part-tag="&quot;chain:graphviz&quot;">2.4<tt>&nbsp;</tt><a name="(part._chain~3agraphviz)"></a>GraphViz</h4><p>It can be very useful to view a Markov chain as a state transition diagram and
the following functions provide this capability by writing the DOT file format
used by <a href="https://graphviz.org/">Graphviz</a> for visualization.</p><p>Given the example in this module&rsquo;s introduction, running the resulting DOT text
through <span class="stt">dot -T png a-chain.dot &gt; a-chain-graph.png</span> results in the following
image.</p><blockquote class="SCentered"><p><img src="a-chain-graph.png" alt="" width="316" height="162"/></p></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._mkchain-~3egraph))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-~3egraph%29%29" class="RktValDef RktValLink" data-pltdoc="x">mkchain-&gt;graph</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._port%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">port?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Write a Graphviz representation of the provided chain to the provided output port.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._behavior/markov-chain..rkt)._mkchain-~3egraph-string))"></a><span title="Provided from: behavior/markov-chain | Package: behavior"><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain-~3egraph-string%29%29" class="RktValDef RktValLink" data-pltdoc="x">mkchain-&gt;graph-string</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">chain</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">chain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._behavior%2Fmarkov-chain..rkt%29._mkchain~3f%29%29" class="RktValLink" data-pltdoc="x">mkchain?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return a Graphviz representation of the provided chain as a string.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Module_behavior_fsm.html" title="backward to &quot;1 Module behavior/fsm&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Behavioral Models&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Module_behavior_petri-net.html" title="forward to &quot;3 Module behavior/petri-net&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/behavior/Module_behavior_markov-chain.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:26:17 GMT -->
</html>