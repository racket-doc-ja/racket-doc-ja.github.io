<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/mike/mike-cli.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:14:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Command-line interface</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Mike</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="mike-about.html" class="tocviewlink" data-pltdoc="x">About</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="mike-project.html" class="tocviewlink" data-pltdoc="x">Supported project structure</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Command-<wbr></wbr>line interface</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Command-<wbr></wbr>line interface</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="#%28part._.Options%29" class="tocviewlink" data-pltdoc="x">Options</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#%28part._.Variables%29" class="tocviewlink" data-pltdoc="x">Variables</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="#%28part._.Rules%29" class="tocviewlink" data-pltdoc="x">Rules</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="#%28part._.Available_rules%29" class="tocviewlink" data-pltdoc="x">Available rules</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Options%29" class="tocsubseclink" data-pltdoc="x">Options</a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Variables%29" class="tocsubseclink" data-pltdoc="x">Variables</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Rules%29" class="tocsubseclink" data-pltdoc="x">Rules</a></td></tr><tr><td><span class="tocsublinknumber">3.4<tt>&nbsp;</tt></span><a href="#%28part._.Available_rules%29" class="tocsubseclink" data-pltdoc="x">Available rules</a></td></tr><tr><td><span class="tocsublinknumber">3.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Main%29" class="tocsubseclink" data-pltdoc="x">Main</a></td></tr><tr><td><span class="tocsublinknumber">3.4.2<tt>&nbsp;</tt></span><a href="#%28part._.Documentation%29" class="tocsubseclink" data-pltdoc="x">Documentation</a></td></tr><tr><td><span class="tocsublinknumber">3.4.3<tt>&nbsp;</tt></span><a href="#%28part._.Distribution%29" class="tocsubseclink" data-pltdoc="x">Distribution</a></td></tr><tr><td><span class="tocsublinknumber">3.4.4<tt>&nbsp;</tt></span><a href="#%28part._.Removal%29" class="tocsubseclink" data-pltdoc="x">Removal</a></td></tr><tr><td><span class="tocsublinknumber">3.4.5<tt>&nbsp;</tt></span><a href="#%28part._.Tests%29" class="tocsubseclink" data-pltdoc="x">Tests</a></td></tr><tr><td><span class="tocsublinknumber">3.4.6<tt>&nbsp;</tt></span><a href="#%28part._.Everything%29" class="tocsubseclink" data-pltdoc="x">Everything</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="mike-project.html" title="backward to &quot;2 Supported project structure&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Mike&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;mike-cli&quot;">3<tt>&nbsp;</tt><a name="(part._mike-cli)"></a>Command-line interface</h3><h4 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Options&quot;">3.1<tt>&nbsp;</tt><a name="(part._.Options)"></a>Options</h4><p>Options must come before <span style="font-style: italic">variables</span> and <span style="font-style: italic">targets</span>,
so they can not be overwritten by setting any <span style="font-style: italic">variables</span>.
They can only be overwritten by executing <span class="stt">mike</span> with wanted variables
exported to system environment beforehand.</p><p><span class="stt">mike</span> command accepts the following command-line flags:</p><ul><li><p><span class="nobreak"><span class="stt">--R</span></span> or <span class="nobreak"><span class="stt">--rules</span></span>
&#8212;<wbr></wbr> display available rules,
the same as executing the <span class="stt">show-rules</span> target</p></li><li><p><span class="nobreak"><span class="stt">--V</span></span> or <span class="nobreak"><span class="stt">--variables</span></span>
&#8212;<wbr></wbr> display available variables (and what they are set to),
the same as executing the <span class="stt">show-variables</span> target</p></li></ul><h4 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Variables&quot;">3.2<tt>&nbsp;</tt><a name="(part._.Variables)"></a>Variables</h4><p><span style="font-style: italic">Variables</span> are used to control how <span style="font-style: italic">rules</span> execute,
for example a rule can contain
a variable <span class="stt">EXE_FLAGS</span> which determines command-line arguments
passed to
<a href="../raco/exe861f.html?q=raco%20exe">raco</a>
in order to produce a binary executable.</p><p>Any initial variable can be overwritten by changing (exporting)
the system environment variables (ie.: export <span class="stt">ASD=fgh</span>)
or passing the variables as one of the arguments (after options).</p><p>Variables overwriting passed as arguments have precedence
over environment variables.
In fact when overwriting using the environment variable route
the exported variables become initial variables.</p><p>Example: overwriting with environment</p><p><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">export PACKAGE_NAME=asd</span></div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">mike exe</span></div></p><p>or</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">PACKAGE_NAME=asd mike exe</span></p><p>Example: overwriting with arguments</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">mike PACKAGE_NAME=asd exe</span></p><h4 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Rules&quot;">3.3<tt>&nbsp;</tt><a name="(part._.Rules)"></a>Rules</h4><p><span style="font-style: italic">Rules</span> are the functions that define how <span style="font-style: italic">targets</span> are handled.
<span style="font-style: italic">Target</span> is a command-line argument that triggers
a <span style="font-style: italic">rule</span> execution.</p><p>For developers: The rules can also be checked by entering into the
<span class="stt">"rules.rkt"</span> module and executing <span class="RktPn">(</span><span class="RktSym">hash-keys</span><span class="stt"> </span><span class="RktSym">rules</span><span class="RktPn">)</span>.</p><p>Rules are first gathered and checked if they exist,
if they do they are executed in the order specified on the command-line,
if they do not exist an exception is raised and the program terminates.
Because of this it is impossible to have one target executed with one value
of variable and the other with a different value.</p><p>Example: <span class="stt">PACKAGE_NAME</span> will be "fgh"</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">mike PACKAGE_NAME=asd show-variables PACKAGE_NAME=fgh</span></p><h4 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Available_rules&quot;">3.4<tt>&nbsp;</tt><a name="(part._.Available_rules)"></a>Available rules</h4><h5 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Main&quot;">3.4.1<tt>&nbsp;</tt><a name="(part._.Main)"></a>Main</h5><ul><li><p>all &#8212;<wbr></wbr> execute: install, setup &amp; test</p></li><li><p>compile &#8212;<wbr></wbr> compile the <span class="stt">PWD</span> directory
(which is <span class="RktPn">(</span><span class="RktSym">current-directory</span><span class="RktPn">)</span> unless overwritten)</p></li><li><p>run &#8212;<wbr></wbr> run the <span class="stt">ENTRYPOINT</span></p></li><li><p>install &#8212;<wbr></wbr> install the package</p></li></ul><h5 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Documentation&quot;">3.4.2<tt>&nbsp;</tt><a name="(part._.Documentation)"></a>Documentation</h5><ul><li><p>docs-dir &#8212;<wbr></wbr> create the <span class="stt">doc</span> directory</p></li><li><p>docs-html &#8212;<wbr></wbr> generate HTML documentation</p></li><li><p>docs-latex &#8212;<wbr></wbr> generate LaTex documentation</p></li><li><p>docs-markdown &#8212;<wbr></wbr> generate Markdown documentation</p></li><li><p>docs-text &#8212;<wbr></wbr> generate documentation in pure text format</p></li><li><p>docs &#8212;<wbr></wbr> execute:
<span class="stt">docs-html</span>, <span class="stt">docs-latex</span>, <span class="stt">docs-markdown</span>
&amp; <span class="stt">docs-text</span></p></li></ul><h5 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Distribution&quot;">3.4.3<tt>&nbsp;</tt><a name="(part._.Distribution)"></a>Distribution</h5><ul><li><p>exe &#8212;<wbr></wbr> create a executable in <span class="stt">"bin"</span> directory,
from <span class="stt">ENTRYPOINT</span></p></li><li><p>pkg &#8212;<wbr></wbr> create a source package</p></li></ul><h5 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Removal&quot;">3.4.4<tt>&nbsp;</tt><a name="(part._.Removal)"></a>Removal</h5><ul><li><p>distclean &#8212;<wbr></wbr> remove pkg zip (generated by <span class="stt">pkg</span> target)
&amp; binary executable</p></li><li><p>clean &#8212;<wbr></wbr> execute: disclean &amp; remove all <span class="stt">compiled</span>
and <span class="stt">doc</span> directories</p></li><li><p>remove &#8212;<wbr></wbr> uninstall the package</p></li><li><p>purge &#8212;<wbr></wbr> execute: remove &amp; clean</p></li><li><p>reinstall &#8212;<wbr></wbr> remove and install the package again</p></li><li><p>resetup &#8212;<wbr></wbr> execute: <span class="stt">reinstall</span> &amp; <span class="stt">setup</span></p></li></ul><h5 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Tests&quot;">3.4.5<tt>&nbsp;</tt><a name="(part._.Tests)"></a>Tests</h5><ul><li><p>setup &#8212;<wbr></wbr> run <span class="stt">raco setup</span></p></li><li><p>check-deps &#8212;<wbr></wbr> check package dependencies</p></li><li><p>test-local &#8212;<wbr></wbr> test locally (without installing the package)</p></li><li><p>test &#8212;<wbr></wbr> test installed package</p></li></ul><h5 x-source-module="(lib &quot;mike/scribblings/mike.scrbl&quot;)" x-source-pkg="mike" x-part-tag="&quot;Everything&quot;">3.4.6<tt>&nbsp;</tt><a name="(part._.Everything)"></a>Everything</h5><ul><li><p>show-rules &#8212;<wbr></wbr> display available rules</p></li><li><p>show-variables
&#8212;<wbr></wbr> display available variables (and what they are set to)</p></li><li><p>show &#8212;<wbr></wbr> execute both <span class="stt">show-rules</span> &amp; <span class="stt">show-variables</span></p></li><li><p>everything-test &#8212;<wbr></wbr> execute:
<span class="stt">clean</span>, <span class="stt">compile</span>, <span class="stt">install</span>, <span class="stt">setup</span>,
<span class="stt">check-deps</span>, <span class="stt">test</span>, <span class="stt">purge</span></p></li><li><p>everything-dist &#8212;<wbr></wbr> execute: <span class="stt">pkg</span> &amp; <span class="stt">exe</span></p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="mike-project.html" title="backward to &quot;2 Supported project structure&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Mike&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/mike/mike-cli.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:14:34 GMT -->
</html>