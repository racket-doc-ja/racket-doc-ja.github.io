<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/pydrnlp/framework.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:23:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;Framework for Implementing Additional Tools</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">pydrnlp:<span class="mywbr"> &nbsp;</span> NLP Library for Digital Ric&#339;ur</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="_Trends__Tool.html" class="tocviewlink" data-pltdoc="x">&ldquo;Trends&rdquo; Tool</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Framework for Implementing Additional Tools</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Framework for Implementing Additional Tools</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Managing_.Python_.Processes_from_.Racket%29" class="tocviewlink" data-pltdoc="x">Managing Python Processes from Racket</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._.Python--.Racket_.Bridge_.Language%29" class="tocviewlink" data-pltdoc="x">Python&ndash;Racket Bridge Language</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Scribbling_.Python_.Documentation%29" class="tocviewlink" data-pltdoc="x">Scribbling Python Documentation</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._.Python_.Utility_.Modules%29" class="tocviewlink" data-pltdoc="x">Python Utility Modules</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Managing_.Python_.Processes_from_.Racket%29" class="tocsubseclink" data-pltdoc="x">Managing Python Processes from Racket</a></td></tr><tr><td><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">python-<wbr></wbr>worker?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._pydrnlp%2Fsupport..rkt%29._define-python-worker%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>python-<wbr></wbr>worker</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-running~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">python-<wbr></wbr>worker-<wbr></wbr>running?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">python-<wbr></wbr>worker-<wbr></wbr>kill</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-dead-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">python-<wbr></wbr>worker-<wbr></wbr>dead-<wbr></wbr>evt</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pydrnlp%2Fsupport%2Frevision-contract..rkt%29._python-revision-value%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">python-<wbr></wbr>revision-<wbr></wbr>value/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Python--.Racket_.Bridge_.Language%29" class="tocsubseclink" data-pltdoc="x">Python&ndash;Racket Bridge Language</a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Scribbling_.Python_.Documentation%29" class="tocsubseclink" data-pltdoc="x">Scribbling Python Documentation</a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Python_.Utility_.Modules%29" class="tocsubseclink" data-pltdoc="x">Python Utility Modules</a></td></tr><tr><td><span class="tocsublinknumber">2.4.1<tt>&nbsp;</tt></span><a href="#%28part._pydrnlp_language%29" class="tocsubseclink" data-pltdoc="x"><span class="RktMod">pydrnlp.language</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pydrnlp%2Fpy%2Fpydrnlp%2Flanguage..py%29._revision%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">revision</span></span></a></td></tr><tr><td><a href="#%28python-id._%28%28mod-path._%28lib._.%27pydrnlp%2Fpy%2Fpydrnlp%2Flanguage..py.%27%29%29._get%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">get</span></a></td></tr><tr><td><span class="tocsublinknumber">2.4.2<tt>&nbsp;</tt></span><a href="#%28part._pydrnlp_jsonio%29" class="tocsubseclink" data-pltdoc="x"><span class="RktMod">pydrnlp.jsonio</span></a></td></tr><tr><td><a href="#%28python-id._%28%28mod-path._%28lib._.%27pydrnlp%2Fpy%2Fpydrnlp%2Fjsonio..py.%27%29%29._start_loop%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">start_<span class="mywbr"> &nbsp;</span>loop</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="_Trends__Tool.html" title="backward to &quot;1 &quot;Trends&quot; Tool&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;pydrnlp: NLP Library for Digital RicÅ“ur&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-bibliography.html" title="forward to &quot;Bibliography&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;pydrnlp/scribblings/pydrnlp.scrbl&quot;)" x-source-pkg="pydrnlp" x-part-tag="&quot;framework&quot;">2<tt>&nbsp;</tt><a name="(part._framework)"></a>Framework for Implementing Additional Tools</h3><h4 x-source-module="(lib &quot;pydrnlp/scribblings/pydrnlp.scrbl&quot;)" x-source-pkg="pydrnlp" x-part-tag="&quot;Managing_Python_Processes_from_Racket&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Managing_.Python_.Processes_from_.Racket)"></a><a name="(mod-path._pydrnlp/support)"></a>Managing Python Processes from Racket</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._pydrnlp%2Fsupport%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">pydrnlp/support</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/pydrnlp" title="Install this package using `raco pkg install pydrnlp`"><span class="stt">pydrnlp</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pydrnlp/support..rkt)._python-worker~3f))"></a><span title="Provided from: pydrnlp/support | Package: pydrnlp"><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">python-worker?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._pydrnlp/support..rkt)._define-python-worker))"></a><span title="Provided from: pydrnlp/support | Package: pydrnlp"><span class="RktSym"><a href="#%28form._%28%28lib._pydrnlp%2Fsupport..rkt%29._define-python-worker%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-python-worker</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod-bytes-literal</span><span class="hspace">&nbsp;</span><span class="RktVar">arg-bytes-literal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><a name="(elem._(gentag._0._(lib._pydrnlp/scribblings/pydrnlp..scrbl)))"></a><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktValDef RktValLink"><span class="RktSym">?</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><a name="(elem._(gentag._1._(lib._pydrnlp/scribblings/pydrnlp..scrbl)))"></a><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktValDef RktValLink">-revision</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528def._%2528%2528lib._json%252Fmain..rkt%2529._jsexpr%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">jsexpr?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><a name="(elem._(gentag._2._(lib._pydrnlp/scribblings/pydrnlp..scrbl)))"></a><span class="nobreak"><span class="RktSym"><span class="RktValDef RktValLink">launch-</span></span><span class="RktVar">id</span></span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:quiet?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28gentag._0._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym"><span class="RktSym">?</span></span></span></span></a><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><a name="(elem._(gentag._3._(lib._pydrnlp/scribblings/pydrnlp..scrbl)))"></a><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktValDef RktValLink">-send/raw</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><a href="#%28elem._%28gentag._0._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym"><span class="RktSym">?</span></span></span></span></a><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528def._%2528%2528lib._json%252Fmain..rkt%2529._jsexpr%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">jsexpr?</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:who</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._stream%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stream/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528def._%2528%2528lib._json%252Fmain..rkt%2529._jsexpr%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">jsexpr?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pydrnlp/support..rkt)._python-worker-running~3f))"></a><span title="Provided from: pydrnlp/support | Package: pydrnlp"><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-running~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">python-worker-running?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">worker</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">worker</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pydrnlp/support..rkt)._python-worker-kill))"></a><span title="Provided from: pydrnlp/support | Package: pydrnlp"><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="RktValDef RktValLink" data-pltdoc="x">python-worker-kill</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">worker</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">worker</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pydrnlp/support..rkt)._python-worker-dead-evt))"></a><span title="Provided from: pydrnlp/support | Package: pydrnlp"><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-dead-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">python-worker-dead-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">worker</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._evt%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">evt/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exn%7E3afail%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">worker</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A <a name="(tech._python._worker)"></a><span style="font-style: italic">Python worker</span> value encapsulates a Python process
running one of <a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">pydrnlp</span></a>&rsquo;s Python modules and
manages request&ndash;response communication between Racket and Python.
All Python workers are recognized by the predicate
<span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker?</a></span> and share the same abstract interface.</div></p><p>Every Python worker is an instance of some
concrete <a name="(tech._python._worker._type)"></a><span style="font-style: italic">Python worker type</span>,
which specifies a particular Python module
with which to communicate.
A Python worker type is defined by the
<span class="RktSym"><a href="#%28form._%28%28lib._pydrnlp%2Fsupport..rkt%29._define-python-worker%29%29" class="RktStxLink" data-pltdoc="x">define-python-worker</a></span> form, which binds
<a href="#%28elem._%28gentag._0._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym"><span class="RktSym">?</span></span></span></span></a>, <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a>, <a href="#%28elem._%28gentag._2._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktSym"><span class="RktSym">launch-</span></span><span class="RktVar">id</span></span></a>, and <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a>
(synthesized with the lexical context of <span class="RktVar">id</span>)
to values implementing the type-specific portion of the interface.
The <span class="RktVar">mod-bytes-literal</span> must name one of
<a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">pydrnlp</span></a>&rsquo;s Python modules using the
same syntax as <span class="stt">python -m</span>:
for example, <span class="RktVal">#"pydrnlp.trends"</span>.
Any additional <span class="RktVar">arg-bytes-literal</span>s are
passed as command-line arguments to the Python module.
The Python module named by <span class="RktVar">mod-bytes-literal</span>
must define a <a href="#%28tech._python._revision._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python revision function</span></a>
(see <a href="#%28mod-path._pydrnlp%2Fsupport%2Fpython-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">pydrnlp/support/python-lang</span></a>
and <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport%2Frevision-contract..rkt%29._python-revision-value%2Fc%29%29" class="RktValLink" data-pltdoc="x">python-revision-value/c</a></span>):
if it does not, the <span class="RktSym"><a href="#%28form._%28%28lib._pydrnlp%2Fsupport..rkt%29._define-python-worker%29%29" class="RktStxLink" data-pltdoc="x">define-python-worker</a></span> form
will raise a syntax error.</p><p>The <a href="#%28elem._%28gentag._2._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktSym"><span class="RktSym">launch-</span></span><span class="RktVar">id</span></span></a> function creates <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a>
values of the concrete <a href="#%28tech._python._worker._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker type</span></a>,
which are recognized by the predicate <a href="#%28elem._%28gentag._0._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym"><span class="RktSym">?</span></span></span></span></a>.
If the <span class="RktPn">#:quiet</span> argument is given and is not <span class="RktVal">#false</span>,
the Python process&rsquo;s standard error output is written to
the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-error-port%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">current-error-port</a></span>; otherwise, it is discarded.
Creating a <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> allocates system-level
resources&#8212;<wbr></wbr>in particular, it starts an OS subprocess.
These resources are placed in the custody of
the <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval-model.html%23%2528tech._current._custodian%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">current custodian</span></a>, and they
must be freed when the worker is no longer needed,
typically by calling either <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="RktValLink" data-pltdoc="x">python-worker-kill</a></span>
or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=custodians.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._custodian-shutdown-all%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">custodian-shutdown-all</a></span>.
More generally, the system-level resources are freed
when the worker becomes <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a>.</p><p>Calling <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> sends a <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528tech._jsexpr%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">jsexpr</span></a> as a request
to the process encapsulated by the <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a>
and returns its response as a lazy <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528tech._stream%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">stream</span></a> of <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528tech._jsexpr%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">jsexpr</span></a> values.
<span class="refelem"><span class="refcolumn"><span class="refcontent">To implement the Python side of this interaction,
use <a href="#%28mod-path._%28lib._.%27pydrnlp%2Fpy%2Fpydrnlp%2Fjsonio..py.%27%29%29" class="RktModLink" data-pltdoc="x"><span class="RktModLink"><span class="RktMod">pydrnlp.jsonio</span></span></a>.</span></span></span>
Messages are sent to the Python process asynchronously,
in sequential order, and <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> returns immediately,
though forcing the returned stream (e.g<span class="Sendabbrev">.</span> with <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._stream-first%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stream-first</a></span>
or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528def._%2528%2528lib._racket%252Fstream..rkt%2529._stream-rest%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">stream-rest</a></span>) will block until the request has been sent
and the response has begun to be received.
<a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> values are thread-safe:
<a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> can be called with the same worker concurrently
from multiple Racket <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval-model.html%23%2528tech._thread%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">threads</span></a>, and one client thread
being terminated, blocking, etc<span class="Sendabbrev">.</span> will not interfere with use of
the worker from other client threads.
However, workers intentionally are <span style="font-style: italic">not</span> fully &ldquo;kill-safe&rdquo;
in the sense of [<a href="doc-bibliography.html#%28cite._.Flatt04%29" data-pltdoc="x">Flatt04</a>]:
shutting down the managing <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval-model.html%23%2528tech._custodian%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">custodian</span></a> must release
the system-level resources, and clients can cause the worker to
become <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> (intentionally or not) in various other ways.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Process-level parallelism can be obtained by
using <a href="#%28elem._%28gentag._2._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktSym"><span class="RktSym">launch-</span></span><span class="RktVar">id</span></span></a> to create multiple workers of the same
<a href="#%28tech._python._worker._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker type</span></a>. However, note that the
<a href="https://digitalricoeur.org/">digitalricoeur.org</a>
server currently doesn&rsquo;t have very many cores, anyway.</p></blockquote></blockquote></blockquote><p>The functions implemented by <a href="#%28tech._python._worker._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker types</span></a>
are often expensive.
The <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a> value is defined to support caching
and avoid redundant calls to <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a>.
When <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a> is <span class="RktVal">#false</span>, any cached value
should be ignored.
Otherwise, if <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a> is <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> to
a cached value of <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a> from a previous run,
it means that the Python module encapsulated
by the <a href="#%28tech._python._worker._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker type</span></a> promises that
calling <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> with &ldquo;the same&rdquo; request
would produce &ldquo;the same&rdquo; response,
and therefore cached responses can be used.
<span class="refelem"><span class="refcolumn"><span class="refcontent">Of course, the Python module must take care
to live up to this promise when implementing
its <a href="#%28tech._python._revision._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python revision function</span></a>.</span></span></span>
Note that the applicable notion of &ldquo;the same&rdquo;
is specific to the Python module and <a href="#%28tech._python._worker._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker type</span></a>:
&ldquo;the same&rdquo; may mean something either stronger or
weaker that <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=Equality.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>.
In addition to the <a href="#%28tech._python._revision._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python revision function</span></a>,
the value of <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a> also reflects the versions
of the <a href="https://spacy.io/">spaCy</a> library and the language models being used.</p><p>Note that access to <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a> <span style="font-style: italic">does not</span> require running
Python (or even having it installed), even though
<a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a> incorporates values defined in Python code.
Instead, by enforcing constraints on the syntax of
<a href="#%28tech._python._revision._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python revision functions</span></a>, <a href="#%28mod-path._pydrnlp%2Fsupport%2Fpython-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">pydrnlp/support/python-lang</span></a>
is able to analyse their definitions statically and compile
them to Racket code.</p><p>The name of <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> reflects the fact that it enforces
only the raw, <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528tech._jsexpr%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">jsexpr</span></a>-based communication protocol common
to all <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python workers</span></a>.
In practice, the Racket and Python parties to a particular interaction
will both have invariants about the messages they expect to send
and receive.
When designing a new <a href="#%28tech._python._worker._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker type</span></a>, <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a>
should be used to implement higher-level communication functions,
which can enforce specific contracts and convert values
to and from the <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528tech._jsexpr%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">jsexpr</span></a> representation used for communication.
To facilitate such wrapper functions, <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> will
report errors that cannot be detected by first-order tests
using its <span class="RktPn">#:who</span> argument, if given,
rather than its own symbolic name.
On the other hand, <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> does enforce its documented
contract and will blame its callers for violating their obligations.</p><p><div class="SIntrapara"><a name="(elem._python-worker-running~3f._race)"></a>For example, a test like:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=when_unless.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._when%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-running~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker-running?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-worker</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a><span class="hspace">&nbsp;</span><span class="RktSym">a-worker</span><span class="hspace">&nbsp;</span><span class="RktVal">"Hi, world!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">is not sufficient to ensure that <span class="RktSym">a-worker</span> is running
when <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> is called, because <span class="RktSym">a-worker</span>
could have become <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> concurrently,
after <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-running~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker-running?</a></span> returns
but before <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> is called.</div></p><p>If the <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> given to <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a>
becomes <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> before <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> can enqueue
the <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=json&amp;rel=index.html%23%2528tech._jsexpr%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">jsexpr</span></a> value to be sent asynchronously,
<a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> raises an exception,
which will refer to its <span class="RktPn">#:who</span> argument, if given.
If the <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> becomes <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> before it has finished
producing its response, an exception is raised when
the corresponding part of the <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=streams.html%23%2528tech._stream%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">stream</span></a> returned
by <a href="#%28elem._%28gentag._3._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-send/raw</span></span></span></a> is forced.</p><p>A <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> is <a name="(tech._dead)"></a><span style="font-style: italic">dead</span> when it has
freed all of its system-level resources, and thus is no
longer in communication with a Python process.
Programmers must ensure that the worker is <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a>
when they no longer need it, and generally they will
need to do so explicitly.
The function <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="RktValLink" data-pltdoc="x">python-worker-kill</a></span> causes its
argument to become <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> immediately;
calling it on a <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> that is
already <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> has no effect.
Using <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="RktValLink" data-pltdoc="x">python-worker-kill</a></span> is equivalent
to shutting down the worker&rsquo;s managing <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=eval-model.html%23%2528tech._custodian%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">custodian</span></a>,
except that <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="RktValLink" data-pltdoc="x">python-worker-kill</a></span> only effects
resources encapsulated by the given <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> value.</p><p>It is almost always best to make a <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a>
<a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> with <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="RktValLink" data-pltdoc="x">python-worker-kill</a></span>
or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=custodians.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._custodian-shutdown-all%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">custodian-shutdown-all</a></span> as soon as you can
determine that the worker value is no longer needed.
However, calls to <a href="#%28elem._%28gentag._2._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktSym"><span class="RktSym">launch-</span></span><span class="RktVar">id</span></span></a> incur significant overhead,
so it is much better to reuse <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python workers</span></a>
than to create and free them repeatedly.
Even better, by consulting <a href="#%28elem._%28gentag._1._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktVar">id</span><span class="RktSym"><span class="RktSym">-revision</span></span></span></a>,
you may be able to avoid calling <a href="#%28elem._%28gentag._2._%28lib._pydrnlp%2Fscribblings%2Fpydrnlp..scrbl%29%29%29" data-pltdoc="x"><span class="nobreak"><span class="RktSym"><span class="RktSym">launch-</span></span><span class="RktVar">id</span></span></a> in the first place.</p><p>Even if it is never subjected to <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-kill%29%29" class="RktValLink" data-pltdoc="x">python-worker-kill</a></span>
or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=custodians.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._custodian-shutdown-all%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">custodian-shutdown-all</a></span>, a <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a>
may still become <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> for other reasons.
In particular, a <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> will become dead
if the Python process it manages exits of its own accord,
either successfully or, for example,
due to an unhandled exception.
Nonetheless, this possibility does not relieve programmers
of the burden of ensuring that the all <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python workers</span></a>
do, in fact, actually become <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a>.
Even if a <a href="#%28tech._python._worker._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker type</span></a> implements a comunication
protocol in which the Python module is expected to exit,
the Racket side of the communication should still check that
the worker actually is <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a>: if it isn&rsquo;t, the Racket
side should clean up and signal that the invariants of the
communication protocol have been violated.</p><p>The function <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-dead-evt%29%29" class="RktValLink" data-pltdoc="x">python-worker-dead-evt</a></span>
takes any <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> value and produces a
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sync.html%23%2528tech._synchronizable._event%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">synchronizable event</span></a> that becomes
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sync.html%23%2528tech._ready._for._synchronization%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">ready for synchronization</span></a> when the worker is <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a>.
The event&rsquo;s <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=sync.html%23%2528tech._synchronization._result%2529&amp;version=8.6" class="techoutside Sq" data-pltdoc="x"><span class="techinside">synchronization result</span></a> is either <span class="RktVal">#false</span>
or an <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span> that caused the worker to become <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a>.
Currently, a <span class="RktVal">#false</span> result does not necessarily mean that
the worker became <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a> &ldquo;normally&rdquo;:
this may be improved in the future.</p><p>Conversely, the predicate <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-running~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker-running?</a></span>
recognizes any <a href="#%28tech._python._worker%29" class="techoutside" data-pltdoc="x"><span class="techinside">Python worker</span></a> that is <span style="font-style: italic">not</span>
currently <a href="#%28tech._dead%29" class="techoutside" data-pltdoc="x"><span class="techinside">dead</span></a>.
Taking a point-in-time snapshot
<a href="#%28elem._python-worker-running~3f._race%29" data-pltdoc="x">has some limitations</a>,
but <span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport..rkt%29._python-worker-running~3f%29%29" class="RktValLink" data-pltdoc="x">python-worker-running?</a></span> has the benefit of being
an inexpensive first-order test.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._pydrnlp/support/revision-contract..rkt)._python-revision-value/c))"></a><span title="Provided from: pydrnlp/support | Package: pydrnlp"><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport%2Frevision-contract..rkt%29._python-revision-value%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">python-revision-value/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport%2Frevision-contract..rkt%29._python-revision-value%2Fc%29%29" class="RktValLink" data-pltdoc="x">python-revision-value/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><span style="font-style: italic">Documentation forthcoming.</span></div></p><h4 x-source-module="(lib &quot;pydrnlp/scribblings/pydrnlp.scrbl&quot;)" x-source-pkg="pydrnlp" x-part-tag="&quot;Python--Racket_Bridge_Language&quot;">2.2<tt>&nbsp;</tt><a name="(part._.Python--.Racket_.Bridge_.Language)"></a><a name="(mod-path._pydrnlp/support/python-lang)"></a>Python&ndash;Racket Bridge Language</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._pydrnlp%2Fsupport%2Fpython-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">pydrnlp/support/python-lang</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/pydrnlp" title="Install this package using `raco pkg install pydrnlp`"><span class="stt">pydrnlp</span></a></span></td></tr></table></p><p><span style="font-style: italic">Documentation forthcoming.</span></p><p><div class="SIntrapara">If you wish to begin your module with
both a <span class="RktCmt">#!</span> line and a
<a href="https://www.python.org/dev/peps/pep-0263/"><span class="stt">coding</span></a>
declaration, the following lines satisfy the Python,
Racket, and Emacs parsers simultaneously:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">#!/usr/bin/env</span><span class="hspace">&nbsp;</span><span class="RktCmt">python3</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">#lang</span><span class="hspace">&nbsp;</span><span class="RktMeta">pydrnlp/support/python-lang</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">#</span><span class="hspace">&nbsp;</span><span class="RktMeta">-*-</span><span class="hspace">&nbsp;</span><span class="RktMeta">coding:</span><span class="hspace">&nbsp;</span><span class="RktMeta">utf-8</span><span class="hspace">&nbsp;</span><span class="RktMeta">-*-</span></td></tr><tr><td><span class="RktMeta">"""Module</span><span class="hspace">&nbsp;</span><span class="RktMeta">docstring</span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta">Lots</span><span class="hspace">&nbsp;</span><span class="RktMeta">of</span><span class="hspace">&nbsp;</span><span class="RktMeta">great</span><span class="hspace">&nbsp;</span><span class="RktMeta">documentation</span><span class="hspace">&nbsp;</span><span class="RktMeta">here</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="RktMeta">"""</span><span class="RktMeta"></span></td></tr></table></blockquote></div></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>In Python 3,
<a href="https://docs.python.org/3/howto/unicode.html#unicode-literals-in-python-source-code">the default encoding is UTF-8</a>.</p></blockquote></blockquote></blockquote><p><a name="(tech._python._revision._function)"></a><span style="font-style: italic">Python revision function</span></p><h4 x-source-module="(lib &quot;pydrnlp/scribblings/pydrnlp.scrbl&quot;)" x-source-pkg="pydrnlp" x-part-tag="&quot;Scribbling_Python_Documentation&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Scribbling_.Python_.Documentation)"></a>Scribbling Python Documentation</h4><p><span style="font-style: italic">Documentation forthcoming.</span></p><h4 x-source-module="(lib &quot;pydrnlp/scribblings/pydrnlp.scrbl&quot;)" x-source-pkg="pydrnlp" x-part-tag="&quot;Python_Utility_Modules&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Python_.Utility_.Modules)"></a>Python Utility Modules</h4><h5 x-source-module="(lib &quot;pydrnlp/scribblings/pydrnlp.scrbl&quot;)" x-source-pkg="pydrnlp" x-part-tag="&quot;pydrnlp_language&quot;">2.4.1<tt>&nbsp;</tt><a name="(part._pydrnlp_language)"></a><a name="(mod-path._(lib._.'pydrnlp/py/pydrnlp/language..py.'))"></a><span class="RktMod">pydrnlp.language</span></h5><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktMod">import</span><span class="hspace">&nbsp;</span><a href="#%28mod-path._%28lib._.%27pydrnlp%2Fpy%2Fpydrnlp%2Flanguage..py.%27%29%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">pydrnlp.language</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/pydrnlp" title="Install this package using `raco pkg install pydrnlp`"><span class="stt">pydrnlp</span></a></span></td></tr></table></div><div class="SIntrapara">Uniform, lazy loading of SpaCy language models</div><div class="SIntrapara">The primary entry point for Spacy functionality is through a <span class="stt">spacy.language.Language</span> object, which must be loaded through a language-specific model package. Loading a language is expensive and should not be repeated. Additionally, pydrnlp should be change which model we use for each supported language without necessitating changes in every Python module that needs to use <span class="stt">spacy.language.Language</span> objects.</div><div class="SIntrapara">The functionality is supported through <span class="stt">pydrnlp.language.get()</span>, which is similar in spirit to <span class="stt">spacy.load()</span>.</div><div class="SIntrapara"><span style="font-weight: bold">TODO:</span> en_core_web_lg sounds like it has pre-trained models and may give better accuracy. OTOH it is an order of magnitude bigger (667 vs 36 MB).</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pydrnlp/py/pydrnlp/language..py)._revision))"></a><span title="Provided from: (lib &quot;pydrnlp/py/pydrnlp/language.py&quot;) | Package: pydrnlp"><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fpy%2Fpydrnlp%2Flanguage..py%29._revision%29%29" class="RktValDef RktValLink" data-pltdoc="x">revision</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._pydrnlp%2Fsupport%2Frevision-contract..rkt%29._python-revision-value%2Fc%29%29" class="RktValLink" data-pltdoc="x">python-revision-value/c</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%252A%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">let*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>Python method</p></div></div><p class="RForeground"><span class="RktSym">def</span><span class="hspace">&nbsp;</span><a name="(python-id._((mod-path._(lib._.'pydrnlp/py/pydrnlp/language..py.'))._get))" class="RktValDef RktValLink"></a><span class="RktSym"><a href="#%28python-id._%28%28mod-path._%28lib._.%27pydrnlp%2Fpy%2Fpydrnlp%2Flanguage..py.%27%29%29._get%29%29" class="RktValDef RktValLink" data-pltdoc="x">get</a></span><span class="RktPn">(</span><span class="RktVar">lang_str</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns a <span class="stt">spacy.language.Language</span> instance for the given IANA string.</div><div class="SIntrapara">Models from SpaCy are loaded lazily.</div></p><h5 x-source-module="(lib &quot;pydrnlp/scribblings/pydrnlp.scrbl&quot;)" x-source-pkg="pydrnlp" x-part-tag="&quot;pydrnlp_jsonio&quot;">2.4.2<tt>&nbsp;</tt><a name="(part._pydrnlp_jsonio)"></a><a name="(mod-path._(lib._.'pydrnlp/py/pydrnlp/jsonio..py.'))"></a><span class="RktMod">pydrnlp.jsonio</span></h5><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktMod">import</span><span class="hspace">&nbsp;</span><a href="#%28mod-path._%28lib._.%27pydrnlp%2Fpy%2Fpydrnlp%2Fjsonio..py.%27%29%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">pydrnlp.jsonio</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/pydrnlp" title="Install this package using `raco pkg install pydrnlp`"><span class="stt">pydrnlp</span></a></span></td></tr></table></div><div class="SIntrapara">Provides classes for programs that loop over JSON IO.</div><div class="SIntrapara">This module imposes the invariant that JSON values must be delimited by newlines (i.e. "\n") and that the JSON values in input may not use the newline character internally, even where insignificant whitespace is allowed by the JSON spec. Using newlines as a delimiter avoids a limitation of Python JSON parsers, which block until they encounter an EOF. This module also writes JSON with a terminating newline, though Racket&rsquo;s JSON parser doesn&rsquo;t need this.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>Python method</p></div></div><p class="RForeground"><span class="RktSym">def</span><span class="hspace">&nbsp;</span><a name="(python-id._((mod-path._(lib._.'pydrnlp/py/pydrnlp/jsonio..py.'))._start_loop))" class="RktValDef RktValLink"></a><span class="RktSym"><a href="#%28python-id._%28%28mod-path._%28lib._.%27pydrnlp%2Fpy%2Fpydrnlp%2Fjsonio..py.%27%29%29._start_loop%29%29" class="RktValDef RktValLink" data-pltdoc="x">start_loop</a></span><span class="RktPn">(</span><span class="RktVar">on_input</span><span class="RktPn">,</span><span class="hspace">&nbsp;</span><span class="RktPn">*</span><span class="RktPn">,</span><span class="hspace">&nbsp;</span><span class="sroman">[</span><span class="RktVar">description</span><span class="sroman">]</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="_Trends__Tool.html" title="backward to &quot;1 &quot;Trends&quot; Tool&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;pydrnlp: NLP Library for Digital RicÅ“ur&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-bibliography.html" title="forward to &quot;Bibliography&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/pydrnlp/framework.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:23:49 GMT -->
</html>