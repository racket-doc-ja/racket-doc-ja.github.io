<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/rs/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:05:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>rs - the Racket Sequencer</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#" class="tocviewselflink" data-pltdoc="x">rs -<wbr></wbr> the Racket Sequencer</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Overview%29" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Status%29" class="tocviewlink" data-pltdoc="x">Status</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Performance%29" class="tocviewlink" data-pltdoc="x">Performance</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Installation%29" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Getting_started%29" class="tocviewlink" data-pltdoc="x">Getting started</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._functions%29" class="tocviewlink" data-pltdoc="x">Functions</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._.Changelog%29" class="tocviewlink" data-pltdoc="x">Changelog</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">rs -<wbr></wbr> the Racket Sequencer</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Overview%29" class="tocsubseclink" data-pltdoc="x">Overview</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Status%29" class="tocsubseclink" data-pltdoc="x">Status</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Performance%29" class="tocsubseclink" data-pltdoc="x">Performance</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Installation%29" class="tocsubseclink" data-pltdoc="x">Installation</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.Installing_.Rt.Midi%29" class="tocsubseclink" data-pltdoc="x">Installing Rt<span class="mywbr"> &nbsp;</span>Midi</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.Installing_rs%29" class="tocsubseclink" data-pltdoc="x">Installing rs</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Getting_started%29" class="tocsubseclink" data-pltdoc="x">Getting started</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._functions%29" class="tocsubseclink" data-pltdoc="x">Functions</a></td></tr><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._functions-global%29" class="tocsubseclink" data-pltdoc="x">Global /<span class="mywbr"> &nbsp;</span> Main</a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-main-bpm%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>main-<wbr></wbr>bpm</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-main-div-length%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>main-<wbr></wbr>div-<wbr></wbr>length</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-main-steps%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>main-<wbr></wbr>steps</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-set-global-bpm%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>set-<wbr></wbr>global-<wbr></wbr>bpm!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-set-global-div-length%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>set-<wbr></wbr>global-<wbr></wbr>div-<wbr></wbr>length!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-set-global-steps%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>set-<wbr></wbr>global-<wbr></wbr>steps!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-start-main-loop%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>start-<wbr></wbr>main-<wbr></wbr>loop!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-stop-main-loop%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>stop-<wbr></wbr>main-<wbr></wbr>loop!</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._functions-tracks%29" class="tocsubseclink" data-pltdoc="x">Tracks</a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-queue-track%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>queue-<wbr></wbr>track!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-stop-track%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>stop-<wbr></wbr>track!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-track%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>track</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t-create%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>t-<wbr></wbr>create</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t-play-seq%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>t-<wbr></wbr>play-<wbr></wbr>seq!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>t</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6.3<tt>&nbsp;</tt></span><a href="#%28part._functions-events%29" class="tocsubseclink" data-pltdoc="x">Events</a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>e</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e-create%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>e-<wbr></wbr>create</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e-multiple%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>e-<wbr></wbr>multiple</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6.4<tt>&nbsp;</tt></span><a href="#%28part._functions-midi%29" class="tocsubseclink" data-pltdoc="x">MIDI functions</a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-list-ports%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>list-<wbr></wbr>ports</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-instr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>instr</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-event-play%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>event-<wbr></wbr>play</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-play%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>play</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-event-play-chord%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>event-<wbr></wbr>play-<wbr></wbr>chord</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-play-chord%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>play-<wbr></wbr>chord</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-event-cc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>event-<wbr></wbr>cc</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-cc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>m-<wbr></wbr>cc</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6.5<tt>&nbsp;</tt></span><a href="#%28part._functions-utility%29" class="tocsubseclink" data-pltdoc="x">Utility functions</a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-pause%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>pause</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-util-diag%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>util-<wbr></wbr>diag</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-util-set-diag-mode%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rs-<wbr></wbr>util-<wbr></wbr>set-<wbr></wbr>diag-<wbr></wbr>mode</span></span></a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.Changelog%29" class="tocsubseclink" data-pltdoc="x">Changelog</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._rs_-_the_.Racket_.Sequencer)"></a><a name="(mod-path._rs)"></a>rs - the Racket Sequencer</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">mcdejonge</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#" class="RktModLink" data-pltdoc="x"><span class="RktSym">rs</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/rs" title="Install this package using `raco pkg install rs`"><span class="stt">rs</span></a></span></td></tr></table></p><h3 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Overview&quot;">1<tt>&nbsp;</tt><a name="(part._.Overview)"></a>Overview</h3><p>rs - the Racket Sequencer - is a live coding tool that lets you sequence MIDI
using Racket. A sequence is a simple list of events, you can play multiple
sequences simultaneously and sequences can have different lengths and
subdivisions so it&rsquo;s easy to do complex polyrhythms and Euclidean sequencing.</p><p>Here&rsquo;s an example in which a boom tsss loop is assigned to a track:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">set-rs-t-seq!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">track1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">boom</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">tsss</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>A <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span> is an empty list or <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._null%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">null</a></span><span class="RktMeta"></span>, so this
sequence has four steps, on the first of which an event called "boom" plays and
on the third of which an event called "tsss" is played.</p><p>Sequences can have arbitrary lengths and the number of items in a sequence is
independent of the loop length of a track so it is very easy to play with
polymeter or polyrhythm. Sequences can even be nested!</p><p>You can have as many tracks, each running their own sequences, each of which
can be a different length (theoretically they could even run at different
speeds) as your system can handle (if it&rsquo;s too much timing will become
sloppier).</p><p>Programming happens in Racket, so if you can build it in Racket, you can use it to sequence your MIDI (soft) synths.</p><p>You will probably also want to install the <a href="https://pkgs.racket-lang.org/package/rs-l">rs-l</a> package. It contains utilities for sequencing, such as tools for conditional triggering of events and for rotating sequences. See the <a href="../rs-l/index.html">rs-l docs</a> for more info.</p><p>If you want to see how it works, there&rsquo;s a short video (with awful audio, sorry my computer can&rsquo;t do screencasts of audio applications very well) <a href="https://www.youtube.com/watch?v=GYTyBV1PdXw">here</a>.</p><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table><h3 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Status&quot;">2<tt>&nbsp;</tt><a name="(part._.Status)"></a>Status</h3><p>rs is a hobby project, built to scratch an itch for myself. It does work - on my system at least, which is a Macbook
with developer tools installed. If you&rsquo;re not afraid of compiling some code you may very well get it to work on your system too. I&rsquo;ve been told it works without problems on (Arch) Linux as well.</p><p>Sending MIDI messages is done with a Racket wrapper around the
<a href="https://www.music.mcgill.ca/~gary/rtmidi/">RtMidi library</a>.  I
did not write either the wrapper or the library but did manage to get them to
work on my system. Getting the wrapper to work took some elbow grease,
however. See the installation instructions.</p><h3 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Performance&quot;">3<tt>&nbsp;</tt><a name="(part._.Performance)"></a>Performance</h3><p>Racket is not built for real time computing and I am not a systems programmer so the timing of rs is a bit ... wobbly. If you examine its output in a DAW you will find events are close to where they should be but not exactly on the grid.</p><p>You will probably get the best results from running rs in a REPL on the command line. On my own computer, a 2015 Macbook pro with 8GB RAM and a 2,9 GHz Intel Core i5, this yields quite acceptable timing.</p><p>When running the REPL inside Emacs performance is slightly worse but still acceptable. This is what I do. rs *can* also
run from DrRacket but I&rsquo;ve found this causes noticeably sloppier timing.</p><h3 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Installation&quot;">4<tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h3><h4 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Installing_RtMidi&quot;">4.1<tt>&nbsp;</tt><a name="(part._.Installing_.Rt.Midi)"></a>Installing RtMidi</h4><p>This program needs RtMidi, a Racket wrapper around the RtMidi library. Install it using the Racket package manager (raco pkg install rtmidi).</p><p>RtMidi is not a standalone installation. You need download the RtMidi library into the directory where the RtMidi Racket
package lives *and compile it*. This works on Linux and on Mac OS X if you have the developer tools installed.</p><p><div class="SIntrapara">Instructions copied and pasted from the <a href="../rtmidi/index.html">RtMidi documentation</a>:
</div><div class="SIntrapara"><blockquote><p>This package is not self-contained. It depends on the RtMidi package, and also requires you to compile a dynamic library used to connect to the RtMidi code.</p><p>At this point, this means that installing this package will require you to locate the package directory where this package is installed.</p><p>The best way to do this is probably to install the package using raco pkg install or the package manager, and then
 to evaluate <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=collects.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._collection-path%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">collection-path</a></span><span class="stt"> </span><span class="RktVal">"rtmidi"</span><span class="RktPn">)</span> to see where the directory lives.</p><p>Once you&#8217;ve located the collection directory, you&#8217;ll need to extract
 <a href="http://www.music.mcgill.ca/~gary/rtmidi/release/rtmidi-2.1.0.tar.gz">http://www.music.mcgill.ca/~gary/rtmidi/release/rtmidi-2.1.0.tar.gz</a>
 to the collection directory. Then run <span class="RktSym">make</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$PLATFORM</span><span class="RktMeta"></span>, where <span class="RktSym">PLATFORM</span><span class="RktMeta"></span> is one of <span class="RktSym">linux</span><span class="RktMeta"></span>, <span class="RktSym">macosx</span><span class="RktMeta"></span>, or <span class="RktSym">windows</span><span class="RktMeta"></span>.</p><p>The wrapper is C++98 and should compile with any modern C++ compiler.</p><p>I haven&#8217;t tried the Windows build with this Makefile; you might need to make some adjustments.</p></blockquote></div></p><h4 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Installing_rs&quot;">4.2<tt>&nbsp;</tt><a name="(part._.Installing_rs)"></a>Installing rs</h4><p>Installing rs itself is a simple matter of installing it using the racket package manager (<span class="RktSym">raco</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">pkg</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">install</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">rs</span><span class="RktMeta"></span>).</p><p>You will also want to install the demos: <a href="https://github.com/mcdejonge/rs-demos"><span class="url">https://github.com/mcdejonge/rs-demos</span></a> , if only because this repository contains a starting template.</p><h3 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Getting_started&quot;">5<tt>&nbsp;</tt><a name="(part._.Getting_started)"></a>Getting started</h3><p>1. First, make sure you have at least one available MIDI port on your system that is connected to something that
makes a sound. A loopback device to a DAW would be a good choice but hardware should also work.</p><p>2. Next, open one of the demo files (available from <a href="https://github.com/mcdejonge/rs-demos"><span class="url">https://github.com/mcdejonge/rs-demos</span></a> in your Racket editing
environment of choice and run it. If you&rsquo;ve set up everything correctly you should be hearing a simple sequence.</p><p>rs has been tested with DrRacket and with Emacs running racket-mode. When using DrRacket, make sure to disable
debugging (Language -&gt; Choose Language -&gt; The Racket Language -&gt; No debugging or profiling). Even with debugging
disabled timing in DrRacket is quite sloppy (see "Performance" above) so your best bet is probably to run rs in
a REPL in a terminal and to copy and paste commands into it from your editor of choice.</p><p>3. Time to start exploring. There are a couple of demo files you can examine to see how rs works. There&rsquo;s also a file
called rs-live.rkt that you can load and modify to start doing live coding.</p><p>Have fun!</p><h3 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;functions&quot;">6<tt>&nbsp;</tt><a name="(part._functions)"></a>Functions</h3><p>This section lists all the functions that are available to do your live coding with.</p><h4 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;functions-global&quot;">6.1<tt>&nbsp;</tt><a name="(part._functions-global)"></a>Global / Main</h4><p>These functions and values deal with the global environment and the main loop.</p><p>The following values contain the current settings for the main loop:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rs/main..rkt)._rs-main-bpm))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-main-bpm%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-main-bpm</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The currently set main loop BPM.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rs/main..rkt)._rs-main-div-length))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-main-div-length%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-main-div-length</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The currently set main loop division length.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._rs/main..rkt)._rs-main-steps))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-main-steps%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-main-steps</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The currently set number of steps in the main loop.</div></p><p>These functions can be used to alter the settings for the main loop:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-set-global-bpm!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-set-global-bpm%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-set-global-bpm!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bpm</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bpm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span></td></tr></table></blockquote><p>Set the global BPM.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-set-global-div-length!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-set-global-div-length%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-set-global-div-length!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">div-length</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">div-length</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr></table></blockquote><p>Set the global division length. Division length is a multiplier of the main beat length, so a division length of 1/4 means there will be one step every quarter beat.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-set-global-steps!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-set-global-steps%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-set-global-steps!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">steps</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">steps</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span></td></tr></table></blockquote><p>Set the global number of steps per iteration of the main / global loop.</p><p>Use these functions to start and stop the main loop:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-start-main-loop!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-start-main-loop%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-start-main-loop!</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr></table></blockquote><p>Start the main loop.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-stop-main-loop!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-stop-main-loop%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-stop-main-loop!</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr></table></blockquote><p>Stop the main loop.</p><h4 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;functions-tracks&quot;">6.2<tt>&nbsp;</tt><a name="(part._functions-tracks)"></a>Tracks</h4><p>These functions deal with creating, queueing and stopping tracks.</p><p>Starting (queueing) and stopping tracks:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-queue-track!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-queue-track%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-queue-track!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">track</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">track</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t~3f%29%29" class="RktValLink" data-pltdoc="x">rs-t?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Enqueues the given track. It will be started on the next iteration of the main loop.</div></p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-stop-track!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-stop-track%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-stop-track!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">track</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">track</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-or-track?</span></td></tr></table></blockquote><p>Stops the given track, which can by either an rs-t struct or an index (useful when you want to stop the last track you started or somesuch). Stopping happens at the start of the next iteration of the main loop.</p><p>Creating tracks:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-track))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-track%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-track</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">sequence</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t%29%29" class="RktValLink" data-pltdoc="x">rs-t</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sequence</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr></table></blockquote><p>Creates a new track that uses the global settings for BPM, number of steps and division length. sequence should be a list where each element is either null, an event (rs-e?) or a valid sequence.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-t-create))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t-create%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-t-create</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:bpm</span><span class="hspace">&nbsp;</span><span class="RktVar">bpm</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:steps</span><span class="hspace">&nbsp;</span><span class="RktVar">steps</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:div-length</span><span class="hspace">&nbsp;</span><span class="RktVar">div-length</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:seq</span><span class="hspace">&nbsp;</span><span class="RktVar">seq</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t~3f%29%29" class="RktValLink" data-pltdoc="x">rs-t?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bpm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">steps</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">16</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">div-length</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">1/4</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote><p>Creates a new track but allows you to set some (or all) of the track settings manually.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-t-play-seq!))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t-play-seq%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-t-play-seq!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">seq</span><span class="hspace">&nbsp;</span><span class="RktVar">loop-length</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">loop-length</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr></table></blockquote><p>Plays a sequence during the given time in ms. seq should be a list of null, rs-e? or sequences. Allows you to create events that play sequences (of events that play sequences (of events that play sequences (etc))).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._rs/main..rkt)._rs-t-seq))"></a><a name="(def._((lib._rs/main..rkt)._rs-t-div-length))"></a><a name="(def._((lib._rs/main..rkt)._rs-t-steps))"></a><a name="(def._((lib._rs/main..rkt)._rs-t-bpm))"></a><a name="(def._((lib._rs/main..rkt)._make-rs-t))"></a><a name="(def._((lib._rs/main..rkt)._rs-t~3f))"></a><a name="(def._((lib._rs/main..rkt)._struct~3ars-t))"></a><a name="(def._((lib._rs/main..rkt)._rs-t))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-t%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-t</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bpm</span><span class="stt"> </span><span class="RktSym">steps</span><span class="stt"> </span><span class="RktSym">div-length</span><span class="stt"> </span><span class="RktSym">seq</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-rs-t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">bpm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">steps</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">div-length</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._positive%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">positive?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">seq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a track. Stores tempo, number of steps and division length as well as a sequence, which is a list of elements that can be either null, an event (rs-e) or another sequence.</div></p><h4 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;functions-events&quot;">6.3<tt>&nbsp;</tt><a name="(part._functions-events)"></a>Events</h4><p>Sequences consist of lists of events (null is also an event, albeit on in which nothing happens). An event in which something does happen is an rs-e structure, which combines a function to execute and an offset (optional, defaults to 0 but can be any number between -1 and +1 which is then multiplied by the length of the step it applies to and added from the length of the step).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._rs/main..rkt)._rs-e-offset))"></a><a name="(def._((lib._rs/main..rkt)._rs-e-fn))"></a><a name="(def._((lib._rs/main..rkt)._make-rs-e))"></a><a name="(def._((lib._rs/main..rkt)._rs-e~3f))"></a><a name="(def._((lib._rs/main..rkt)._struct~3ars-e))"></a><a name="(def._((lib._rs/main..rkt)._rs-e))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-e</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fn</span><span class="stt"> </span><span class="RktSym">offset</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-rs-e</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">fn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">procedure-list-or-null</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">offset</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The structure that contains an event. Offset should be a number between -1 and +1 and represents how far the event will take place from its regular position in the sequence. -1 is the start of the previous item in the sequence and +1 is the start of the next item in the sequence. fn can be either null, a sequence (that is a list of null, events or, gasp, sequences) or a function that should accept one argument. That one argument is the length of the step on which the event is executed, in milliseconds.</div></p><p>It&rsquo;s advisable to avoid creating rs-e events directly and instead use:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-e-create))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e-create%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-e-create</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">#:fn</span><span class="hspace">&nbsp;</span><span class="RktVar">fn</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:offset</span><span class="hspace">&nbsp;</span><span class="RktVar">offset</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e%29%29" class="RktValLink" data-pltdoc="x">rs-e</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">offset</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a new event. Does sanity checking.</div></p><p>If you want to fire off multiple events simultaneously, use:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-e-multiple))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e-multiple%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-e-multiple</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">procedures</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">procedure</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">procedures</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr></table></blockquote><p>Creates a function that will fire off multiple event procedures at the same time (and at the same offset).</p><h4 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;functions-midi&quot;">6.4<tt>&nbsp;</tt><a name="(part._functions-midi)"></a>MIDI functions</h4><p>These functions can be used to work with MIDI: create MIDI events, define MIDI instruments and determine which ports are available.</p><p>To check which ports are available use:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-list-ports))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-list-ports%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-list-ports</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span></p></blockquote></td></tr></table></blockquote><p>Returns a list of available MIDI ports on your system. This list contains the names of the ports.</p><p>To define a MIDI instrument use:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-instr))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-instr%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-instr</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">channel</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-instr-struct</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">valid-midi-port?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">channel</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">valid-midi-channel?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr></table></blockquote><p>Creates a new MIDI instrument on the supplied MIDI port index and on the supplied MIDI channel number. It returns a struct that can be used in the MIDI event functions listed below.</p><p>To create events that play MIDI notes, use these functions:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-event-play))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-event-play%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-event-play</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">instr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">note</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">note-length-ms</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">velocity</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:offset</span><span class="hspace">&nbsp;</span><span class="RktVar">valid-offset?</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e%29%29" class="RktValLink" data-pltdoc="x">rs-e</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">instr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-instr-struct?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">note</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">note-length-ms</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">velocity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">127</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">valid-offset?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr></table></blockquote><p>Create a MIDI event for use in a sequence that plays the given note of the given length and with the given velocity using the given instrument and offset. If note-length-ms is 0 (the default) the note will play for the length of the step.</p><p>Should you want to play your MIDI note directly instead of using it in a sequence use this function:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-play))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-play%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-play</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">instr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">note</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">note-length-ms</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">velocity</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">instr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-instr-struct?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">note</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">note-length-ms</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">velocity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">127</span></td></tr></table></blockquote></div><div class="SIntrapara">Directly play the given note for the given length using the given velocity on the given instrument.</div></p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-event-play-chord))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-event-play-chord%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-event-play-chord</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">instr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">notes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">note-length-ms</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">velocity</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:offset</span><span class="hspace">&nbsp;</span><span class="RktVar">valid-offset?</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e%29%29" class="RktValLink" data-pltdoc="x">rs-e</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">instr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-instr-struct?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">notes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-notes?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">note-length-ms</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">velocity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">127</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">valid-offset?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr></table></blockquote><p>Returns a MIDI event for use in a sequence that plays all notes in the given list of notes simultaneously for the given amount of time, at the given velocity and using the given instrument (and at the given offset). If note-length-ms is 0 (the default) the note will play for the length of the step.</p><p>Should you want to play your chord directly instead of using it in a sequence use this function:</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-play-chord))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-play-chord%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-play-chord</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">instr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">notes</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">note-length-ms</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">velocity</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">instr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-instr-struct?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">notes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-notes?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">note-length-ms</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">velocity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">127</span></td></tr></table></blockquote><p>Directly play the given notes simultaneously for the given amount of time, at the given velocity and using the given instrument.</p><p>It is also possible to set MIDI cc values. Use these functions:</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The rs-demos package at <a href="https://github.com/mcdejonge/rs-demos"><span class="url">https://github.com/mcdejonge/rs-demos</span></a> contains a tool for setting up MIDI cc listeners in your DAW / on your instument.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-event-cc))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-event-cc%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-event-cc</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">instr</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">cc-no</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">cc-val</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:offset</span><span class="hspace">&nbsp;</span><span class="RktVar">valid-offset?</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e%29%29" class="RktValLink" data-pltdoc="x">rs-e</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">instr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-instr-struct?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cc-no</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cc-val</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">valid-offset?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a MIDI event for use in a sequence that sets the given cc number to the given value for the given instrument. Supply an offset as needed.</div></p><p><div class="SIntrapara">Should you want to set the cc value directly instead of doing so in a sequence
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-m-cc))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-m-cc%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-m-cc</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">instr</span><span class="hspace">&nbsp;</span><span class="RktVar">cc-no</span><span class="hspace">&nbsp;</span><span class="RktVar">cc-val</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-e%29%29" class="RktValLink" data-pltdoc="x">rs-e</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">instr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-instr-struct?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cc-no</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cc-val</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">rs-m-valid-midi-value?</span></td></tr></table></blockquote></div></p><p>Set the given cc number to the given value for the given instrument. Supply an offset as needed.</p><h4 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;functions-utility&quot;">6.5<tt>&nbsp;</tt><a name="(part._functions-utility)"></a>Utility functions</h4><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-pause))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-pause%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-pause</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">num-loops</span><span class="hspace">&nbsp;</span><span class="RktVar">num-steps</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">num-loops</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">num-steps</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">zero-or-positive?</span></td></tr></table></blockquote><p>Pause (ie sleep) for the given number of beats and steps. Loop length and step length are calculated based on the global settings. The number of steps can be a fraction, so (rs-pause 2 1/4) would pause for two full loops and a quarter of a step / division length (meaning if the division length is 1/4 this would be two full loops and 1/16 of a beat).</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-util-diag))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-util-diag%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-util-diag</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">message-args</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message-args</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote><p>Print a diagnostic message, but only if rs-util-diag-mode (see below) is #t. args are inserted into the message. Printing is done using printf. Basically this is a printf that only runs when diagnostic mode is activated.</p><p>NOTE: if you need to perform a function call in one of your args, make sure it only happens when diag-mode is #t, in other words supply a procedure object rather than the result of a procedure call. If you do not do this, performance will suffer greatly as your procedure calls will also be executed if they don&rsquo;t need to be (namely when diag-mode is #f).</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._rs/main..rkt)._rs-util-set-diag-mode))"></a><span title="Provided from: rs | Package: rs"><span class="RktSym"><a href="#%28def._%28%28lib._rs%2Fmain..rkt%29._rs-util-set-diag-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">rs-util-set-diag-mode</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">diag-mode</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">void</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">diag-mode</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">true-or-false?</span></td></tr></table></blockquote><p>Activate (true-or-false is #t) or deactivate (true-or-false is #f) diagnostic mode. Diagnostic mode is #f by default. When #t it prints out a *lot* of messages.</p><h3 x-source-module="(lib &quot;rs/scribblings/rs.scrbl&quot;)" x-source-pkg="rs" x-part-tag="&quot;Changelog&quot;">7<tt>&nbsp;</tt><a name="(part._.Changelog)"></a>Changelog</h3><ul><li><p><div class="SIntrapara"><span style="font-weight: bold">2020-05-22</span>
</div><div class="SIntrapara"><ul><li><p>Exposed rs-t-play-seq! so you can play sequences manually.</p></li><li><p>Cleaned up loop playing code.</p></li></ul></div></p></li><li><p><div class="SIntrapara"><span style="font-weight: bold">2020-05-21</span>
</div><div class="SIntrapara"><ul><li><p>When supplied a note length of 0 (the default) rs-m-event-play and rs-m-event-play-chord will play for the duration of the step.</p></li><li><p>Added rs-pause function.</p></li><li><p>Some code cleanup.</p></li><li><p>Cleaned up documentation.</p></li></ul></div></p></li><li><p><span style="font-weight: bold">2020-05-17</span> Implemented offsets.</p></li><li><p><span style="font-weight: bold">2020-05-14</span> Created Scribble documentation (with help from Stephen De Gabrielle because I&rsquo;m a Racket noob).</p></li><li><p><span style="font-weight: bold">2020-05-13</span> Turned rs into a package.</p></li><li><p><div class="SIntrapara"><span style="font-weight: bold">2020-05-12</span>
</div><div class="SIntrapara"><ul><li><p><span style="font-weight: bold">New feature</span>: chords</p></li><li><p>Added polyrhythm demo.</p></li></ul></div></p></li><li><p><div class="SIntrapara"><span style="font-weight: bold">2020-05-10</span>
</div><div class="SIntrapara"><ul><li><p><span style="font-weight: bold">New feature</span>: sequences within sequences. A new demo, rs-demo-drums.rkt, shows off this feature.</p></li><li><p>Timing code has been slimmed down, which hopefully increases performance.</p></li><li><p>rs-util.rkt now exposes (rs-util-set-diag-mode #t|#f) and (rs-util-diag message . args) so you can have an idea what rs is doing.</p></li><li><p>Demos have been put in a separate directory.</p></li></ul></div></p></li><li><p><span style="font-weight: bold">2020-05-03</span> Some cleanup of the demos.</p></li><li><p><span style="font-weight: bold">2020-05-01</span> Initial release</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/rs/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:05:56 GMT -->
</html>