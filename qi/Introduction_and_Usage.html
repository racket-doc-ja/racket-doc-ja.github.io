<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/qi/Introduction_and_Usage.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:13:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;Introduction and Usage</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Qi:<span class="mywbr"> &nbsp;</span> A Functional, Flow-<wbr></wbr>Oriented DSL</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Using_These_Docs.html" class="tocviewlink" data-pltdoc="x">Using These Docs</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Introduction and Usage</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Tutorial.html" class="tocviewlink" data-pltdoc="x">Tutorial</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Language_Interface.html" class="tocviewlink" data-pltdoc="x">Language Interface</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Qi_Forms.html" class="tocviewlink" data-pltdoc="x">The Qi Language</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Qi_Macros.html" class="tocviewlink" data-pltdoc="x">Qi Macros</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Field_Guide.html" class="tocviewlink" data-pltdoc="x">Field Guide</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Principles_of_Qi.html" class="tocviewlink" data-pltdoc="x">Principles of Qi</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="When_Should_I_Use_Qi_.html" class="tocviewlink" data-pltdoc="x">When Should I Use Qi?</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Introduction and Usage</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Overview%29" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._.Installation%29" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Usage%29" class="tocviewlink" data-pltdoc="x">Usage</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._.Flowing_with_the_.Flow%29" class="tocviewlink" data-pltdoc="x">Flowing with the Flow</a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="#%28part._.Relationship_to_the_.Threading_.Macro%29" class="tocviewlink" data-pltdoc="x">Relationship to the Threading Macro</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Overview%29" class="tocsubseclink" data-pltdoc="x">Overview</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Installation%29" class="tocsubseclink" data-pltdoc="x">Installation</a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Usage%29" class="tocsubseclink" data-pltdoc="x">Usage</a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Flowing_with_the_.Flow%29" class="tocsubseclink" data-pltdoc="x">Flowing with the Flow</a></td></tr><tr><td><span class="tocsublinknumber">2.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Dr.Racket%29" class="tocsubseclink" data-pltdoc="x">Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr><tr><td><span class="tocsublinknumber">2.4.2<tt>&nbsp;</tt></span><a href="#%28part._.Vim_.Emacs%29" class="tocsubseclink" data-pltdoc="x">Vim/<span class="mywbr"> &nbsp;</span>Emacs</a></td></tr><tr><td><span class="tocsublinknumber">2.4.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Keybindings%29" class="tocsubseclink" data-pltdoc="x">Keybindings</a></td></tr><tr><td><span class="tocsublinknumber">2.4.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Indentation%29" class="tocsubseclink" data-pltdoc="x">Indentation</a></td></tr><tr><td><span class="tocsublinknumber">2.5<tt>&nbsp;</tt></span><a href="#%28part._.Relationship_to_the_.Threading_.Macro%29" class="tocsubseclink" data-pltdoc="x">Relationship to the Threading Macro</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Using_These_Docs.html" title="backward to &quot;1 Using These Docs&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Qi: A Functional, Flow-Oriented DSL&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Tutorial.html" title="forward to &quot;3 Tutorial&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Introduction_and_Usage&quot;">2<tt>&nbsp;</tt><a name="(part._.Introduction_and_.Usage)"></a>Introduction and Usage</h3><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Overview%29" class="toclink" data-pltdoc="x">2.1<span class="hspace">&nbsp;</span>Overview</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Installation%29" class="toclink" data-pltdoc="x">2.2<span class="hspace">&nbsp;</span>Installation</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Usage%29" class="toclink" data-pltdoc="x">2.3<span class="hspace">&nbsp;</span>Usage</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Flowing_with_the_.Flow%29" class="toclink" data-pltdoc="x">2.4<span class="hspace">&nbsp;</span>Flowing with the Flow</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Dr.Racket%29" class="toclink" data-pltdoc="x">2.4.1<span class="hspace">&nbsp;</span>DrRacket</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Vim_.Emacs%29" class="toclink" data-pltdoc="x">2.4.2<span class="hspace">&nbsp;</span>Vim/Emacs</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Keybindings%29" class="toclink" data-pltdoc="x">2.4.2.1<span class="hspace">&nbsp;</span>Keybindings</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Indentation%29" class="toclink" data-pltdoc="x">2.4.2.2<span class="hspace">&nbsp;</span>Indentation</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Relationship_to_the_.Threading_.Macro%29" class="toclink" data-pltdoc="x">2.5<span class="hspace">&nbsp;</span>Relationship to the Threading Macro</a></p></td></tr></table><h4 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Overview&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Overview)"></a>Overview</h4><p>One way to structure computations &ndash; the one we typically employ when writing functions in Racket or another programming language &ndash; is as a flowchart, with arrows representing transitions of control, indicating the sequence in which actions are performed. Aside from the implied ordering, the actions are independent of one another and could be anything at all. Another way &ndash; provided by the present module &ndash; is to structure computations as a fluid flow, like a flow of energy, electricity passing through a circuit, streams flowing around rocks. Here, arrows represent that actions feed into one another.</p><p>The former way is often necessary when writing functions at a low level, where the devil is in the details. But once these functional building blocks are available, the latter model is often more appropriate, allowing us to compose functions at a high level to derive complex and robust functional pipelines from simple components with a minimum of repetition and boilerplate, engendering <a href="https://www.theschooloflife.com/thebookoflife/wu-wei-doing-nothing/">effortless clarity</a>. The facilities in the present module allow you to employ this flow-oriented model in any source program.</p><h4 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Installation&quot;">2.2<tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h4><p>Qi is a hosted language on the <a href="https://racket-lang.org/">Racket platform</a>. If you don&rsquo;t already have Racket installed, you will need to <a href="https://download.racket-lang.org/">install it</a>. Then, install Qi at the command line using:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktSym">raco</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">pkg</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">install</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">qi</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Qi is designed to be used in tandem with a host language, such as Racket itself. To use it in a Racket module, simply <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><span class="RktSym">qi</span><span class="RktPn">)</span>.</p><h4 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Usage&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Usage)"></a>Usage</h4><p>Qi may be used in normal (e.g. Racket) code by employing an appropriate <a href="Language_Interface.html" data-pltdoc="x">interface</a> form. These forms embed the Qi language into the host language, that is, they allow you to use Qi anywhere in your program, and provide shorthands for common cases.</p><p>Since some of the forms use and favor unicode characters (while also providing plain-English aliases), see <a href="#%28part._.Flowing_with_the_.Flow%29" data-pltdoc="x">Flowing with the Flow</a> for tips on entering these characters. Otherwise, if you&rsquo;re all set, head on over to the <a href="Tutorial.html" data-pltdoc="x">tutorial</a>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">qi</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~e2~98~af%29%29" class="RktStxLink" data-pltdoc="x">&#9775;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~7e~3e%29%29" class="RktStxLink" data-pltdoc="x">~&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._add1%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">add1</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(2<span class="stt"> </span>5<span class="stt"> </span>10)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._filter%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">filter</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~e2~98~af%29%29" class="RktStxLink" data-pltdoc="x">&#9775;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(7<span class="stt"> </span>9)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~7e~3e%29%29" class="RktStxLink" data-pltdoc="x">~&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&gt;&lt;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">25</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._switch%29%29" class="RktStxLink" data-pltdoc="x">switch</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._define-flow%29%29" class="RktStxLink" data-pltdoc="x">define-flow</a></span><span class="hspace">&nbsp;</span><span class="RktSym">root-mean-square</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~7e~3e%29%29" class="RktStxLink" data-pltdoc="x">~&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#9651;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">&gt;&lt;</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._sqr%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sqr</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&lt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252F%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">/</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._sqrt%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">sqrt</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">root-mean-square</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._range%2529%2529&amp;version=8.6" class="RktValLink Sq" data-pltdoc="x">range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5.338539126015656</span></p></td></tr></table></blockquote><h4 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Flowing_with_the_Flow&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Flowing_with_the_.Flow)"></a>Flowing with the Flow</h4><p>If your code flows but you don&rsquo;t, then we&rsquo;re only halfway there. This section will cover some UX considerations related to programming in Qi, so that expressing flows in code is just a thought away.</p><p>The main thing is, you want to ensure that these forms have convenient keybindings:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~e2~98~af%29%29" class="RktStxLink" data-pltdoc="x">&#9775;</a></span></p></td></tr><tr><td><p><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~7e~3e%29%29" class="RktStxLink" data-pltdoc="x">~&gt;</a></span></p></td></tr><tr><td><p><span class="RktSym"><span class="nobreak">-&lt;</span></span></p></td></tr><tr><td><p><span class="RktSym">&#9651;</span></p></td></tr><tr><td><p><span class="RktSym">&#9661;</span></p></td></tr><tr><td><p><span class="RktSym">&#9178;</span></p></td></tr></table></p><p>Now, it isn&rsquo;t just about being <span class="emph">able</span> to enter them, but being able to enter them <span class="emph">without effort</span>. This makes a difference, because having convenient keybindings for Qi is less about entering unicode conveniently than it is about <span class="emph">expressing ideas</span> economically, just as having evocative symbols in Qi is less about brevity and more about appealing to the intuition. After all, as the old writer&rsquo;s adage goes, "show, don&rsquo;t tell."</p><p>Some specific suggestions are included below for commonly used editors.</p><h5 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;DrRacket&quot;">2.4.1<tt>&nbsp;</tt><a name="(part._.Dr.Racket)"></a>DrRacket</h5><p>Stephen De Gabrielle created a <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._quickscript%2Fscribblings%2Fquickscript..scrbl%29.%27._.%27top.%27%29%29&amp;version=8.6" class="Sq" data-pltdoc="x">quickscript</a> for convenient entry of Qi forms: <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._qi-quickscripts%2Fscribblings%2Fqi-quickscripts..scrbl%29.%27._.%27top.%27%29%29&amp;version=8.6" class="Sq" data-pltdoc="x">Qi Quickscripts</a>. This option is based on using keyboard shortcuts to enter exactly the form you need.</p><p>Laurent Orseau&rsquo;s <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._quickscript-extra%2Fscribblings%2Fquickscript-extra..scrbl%29.%27._.%27top.%27%29%29&amp;version=8.6" class="Sq" data-pltdoc="x">Quickscript Extra</a> library includes the <a href="https://github.com/Metaxal/quickscript-extra/blob/master/scripts/complete-word.rkt">complete-word</a> script that allows you to define shorthands that expand into pre-written templates (e.g. <span class="RktPn">(</span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~e2~98~af%29%29" class="RktStxLink" data-pltdoc="x">&#9775;</a></span><span class="stt"> </span><span class="RktSym">\|</span><span class="RktPn">)</span>, with <span class="RktSym">\|</span> indicating the cursor position), and includes some Qi templates with defaults that you could <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._quickscript%2Fscribblings%2Fquickscript..scrbl%29.%27._.%27.Shadow_scripts.%27%29%29&amp;version=8.6" class="Sq" data-pltdoc="x">customize further</a>. This option is based on short textual aliases with a common keyboard shortcut.</p><p>There are also a few general unicode entry options, including a quickscript for <a href="https://gist.github.com/Metaxal/c328dca7849018388f792094f8e0895c">unicode entry in DrRacket</a>, and <a href="../the-unicoder/index.html">The Unicoder</a> by William Hatch for system-wide unicode entry. While these options are useful and recommended, they are not a substitute for the Qi-specific options above but a complement to them.</p><p>Use any combination of the above that would help you express yourself economically and fluently.</p><h5 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Vim_Emacs&quot;">2.4.2<tt>&nbsp;</tt><a name="(part._.Vim_.Emacs)"></a>Vim/Emacs</h5><h5 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Keybindings&quot;">2.4.2.1<tt>&nbsp;</tt><a name="(part._.Keybindings)"></a>Keybindings</h5><p>For Vim and Emacs Evil users, here are suggested keybindings for use in insert mode:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span style="font-weight: bold">Form</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Keybinding</span></p></td></tr><tr><td><p><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~e2~98~af%29%29" class="RktStxLink" data-pltdoc="x">&#9775;</a></span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="RktSym">C-</span><span class="RktCmt">;</span><span class="RktMeta"></span></p></td></tr><tr><td><p><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~7e~3e%29%29" class="RktStxLink" data-pltdoc="x">~&gt;</a></span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="RktSym">C-&gt;</span><span class="RktMeta"></span></p></td></tr><tr><td><p><span class="RktSym"><span class="nobreak">-&lt;</span></span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="RktSym">C-&lt;</span><span class="RktMeta"></span></p></td></tr><tr><td><p><span class="RktSym">&#9651;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="RktSym">C-v</span><span class="RktMeta"></span></p></td></tr><tr><td><p><span class="RktSym">&#9661;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="RktSym">C-V</span><span class="RktMeta"></span></p></td></tr><tr><td><p><span class="RktSym">&#9178;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="RktSym">C-=</span><span class="RktMeta"></span></p></td></tr></table></p><p>For vanilla Emacs users, I don&rsquo;t have specific suggestions since usage patterns vary so widely. But you may want to define a custom <a href="https://www.emacswiki.org/emacs/InputMethods">input method</a> for use with Qi (i.e. don&rsquo;t rely on the LaTeX input method, which is too general, and therefore isn&rsquo;t fast), or possibly use a <a href="https://www.emacswiki.org/emacs/Hydra">Hydra</a>.</p><h5 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Indentation&quot;">2.4.2.2<tt>&nbsp;</tt><a name="(part._.Indentation)"></a>Indentation</h5><p>In Racket Mode for Emacs, use the following config to indent Qi forms correctly:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">put</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._switch%29%29" class="RktStxLink" data-pltdoc="x">switch</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym">racket-indent-function</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">put</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._switch-lambda%29%29" class="RktStxLink" data-pltdoc="x">switch-lambda</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym">racket-indent-function</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">put</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._on%29%29" class="RktStxLink" data-pltdoc="x">on</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym">racket-indent-function</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">put</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~cf~80%29%29" class="RktStxLink" data-pltdoc="x">&#960;</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym">racket-indent-function</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">put</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym">try</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">'</a></span><span class="RktSym">racket-indent-function</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;qi/scribblings/qi.scrbl&quot;)" x-source-pkg="qi-doc" x-part-tag="&quot;Relationship_to_the_Threading_Macro&quot;">2.5<tt>&nbsp;</tt><a name="(part._.Relationship_to_the_.Threading_.Macro)"></a>Relationship to the Threading Macro</h4><p>The usual threading macro in <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._scribblings%2Fthreading..scrbl%29.%27._.%27top.%27%29%29&amp;version=8.6" class="Sq" data-pltdoc="x">Threading Macros</a> is a purely syntactic transformation that does not make any assumptions about the expressions being threaded through, so that it works out of the box for threading values through both functions as well as macros. On the other hand, Qi is primarily oriented around <span class="emph">functions</span>, and flows are expected to be <a href="Principles_of_Qi.html#%28part._.What_is_a_.Flow_%29" data-pltdoc="x">function-valued</a>. Threading values through macros using Qi requires special handling.</p><p>In the most common case where you are threading functions, Qi&rsquo;s threading form <span class="RktSym"><a href="Language_Interface.html#%28form._%28%28lib._qi%2Fmain..rkt%29._~7e~3e%29%29" class="RktStxLink" data-pltdoc="x">~&gt;</a></span> is a more general version, and almost drop-in alternative, to the usual threading macro. You might consider migrating to Qi if you need to thread more than one argument or would like to make more pervasive use of flow-oriented reasoning. To do so, the only change that would be needed is to wrap the input argument in parentheses. This is necessary in order to be unambiguous since Qi&rsquo;s threading form can thread more than one argument.</p><p>For macros, we cannot use them naively as flows because macros expect all of their "arguments" to be provided syntactically at compile time &ndash; meaning that the number of arguments must be known at compile time. This is not in general possible with Qi since flows may consume and produce an arbitrary number of values, and this number is only determined at runtime. Depending on what you are trying to do, however, there are many ways in which you still can <a href="Field_Guide.html#%28part._.Converting_a_.Macro_to_a_.Flow%29" data-pltdoc="x">treat macros as flows in Qi</a> &ndash; from simple escapes into Racket to more structured approaches including <a href="Language_Interface.html#%28part._.Qi_.Dialect_.Interop%29" data-pltdoc="x">writing a Qi dialect</a>.</p><p>The threading library also provides numerous shorthands for common cases, many of which don&rsquo;t have equivalents in Qi &ndash; if you&rsquo;d like to have these, please <a href="https://github.com/countvajhula/qi/issues/">create an issue</a> on the source repo to register your interest.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Using_These_Docs.html" title="backward to &quot;1 Using These Docs&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Qi: A Functional, Flow-Oriented DSL&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Tutorial.html" title="forward to &quot;3 Tutorial&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/qi/Introduction_and_Usage.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:13:26 GMT -->
</html>