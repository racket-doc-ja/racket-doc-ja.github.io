<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from docs.racket-lang.org/megaparsack/differences-from-parsack.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:21:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>6&nbsp;Appendix: Parsack vs Megaparsack</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Megaparsack:<span class="mywbr"> &nbsp;</span> Practical Parser Combinators</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="parsing-basics.html" class="tocviewlink" data-pltdoc="x">Parsing Basics</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="choice.html" class="tocviewlink" data-pltdoc="x">Parsers with Choice</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="producing-syntax.html" class="tocviewlink" data-pltdoc="x">Producing Syntax</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="state.html" class="tocviewlink" data-pltdoc="x">Parsers with State</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="reference.html" class="tocviewlink" data-pltdoc="x">API Reference</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Appendix:<span class="mywbr"> &nbsp;</span> Parsack vs Megaparsack</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="reference.html" title="backward to &quot;5 API Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Megaparsack: Practical Parser Combinators&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3 x-source-module="(lib &quot;scribblings/megaparsack.scrbl&quot;)" x-source-pkg="megaparsack-doc" x-part-tag="&quot;differences-from-parsack&quot;">6<tt>&nbsp;</tt><a name="(part._differences-from-parsack)"></a>Appendix: Parsack vs Megaparsack</h3><p>Megaparsack is not the only port of Parsec to Racket, and in fact, it isn&#8217;t even the first. The
original Parsec port is <a href="../parsack/index.html">Parsack</a>. When
looking for a parser combinator library, you might be unsure which one to pick, so this attempts to
provide an unbiased comparison between the two libraries.</p><p>Without getting into the nitty gritty details, here&#8217;s a quick overview of the differences:</p><ul><li><p>Megaparsack is about two and a half years newer, initially released in the spring of 2016,
while Parsack was released in the fall of 2013.</p></li><li><p>Probably the most significant difference in the two libraries&#8217; APIs is that Megaparsack can
parse arbitrary tokens as input, while Parsack is specialized to exclusively operate on text or
bytes. This allows Megaparsack to operate after an initial lexing phase (such as using
<a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=parser-tools&amp;rel=Lexers.html&amp;version=8.6" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">parser-tools/lex</span></a> with <a href="reference.html#%28mod-path._megaparsack%2Fparser-tools%2Flex%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">megaparsack/parser-tools/lex</span></a>), while
Parsack is designed to exclusively parse input directly.</p></li><li><p>Megaparsack supports the production of syntax objects from parsers automatically, whereas
Parsack does not.</p></li><li><p>A less impactful difference but still significant design difference is that Megaparsack
implements the <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=functional&amp;rel=interfaces.html%23%2528form._%2528%2528lib._data%252Ffunctor..rkt%2529._gen%7E3afunctor%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">gen:functor</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=functional&amp;rel=interfaces.html%23%2528form._%2528%2528lib._data%252Fapplicative..rkt%2529._gen%7E3aapplicative%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">gen:applicative</a></span>, and <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=functional&amp;rel=interfaces.html%23%2528form._%2528%2528lib._data%252Fmonad..rkt%2529._gen%7E3amonad%2529%2529&amp;version=8.6" class="RktStxLink Sq" data-pltdoc="x">gen:monad</a></span>
interfaces from the <a href="https://download.racket-lang.org/releases/8.6/doc/local-redirect/index.html?doc=functional&amp;rel=index.html&amp;version=8.6" class="Sq" data-pltdoc="x"><span class="stt">functional</span></a> library, while Parsack is entirely monomorphic and provides its own
sequencing and composition operators.</p></li><li><p>Megaparsack provides contracts on parsers, while Parsack only includes a simple predicate. This
is more important for Megaparsack because of the different token types that parsers can accept,
but it&#8217;s also useful in general for denoting what parsers can produce.</p></li><li><p>As a consequence of the above four differences, Parsack is currently <span style="font-style: italic">considerably</span>
faster than Megaparsack, <span style="font-weight: bold">by more than an order of magnitude</span>.</p></li><li><p>Megaparsack&#8217;s documentation is better than Parsack&#8217;s, and it includes a tutorial-style guide.</p></li><li><p>Megaparsack&#8217;s naming conventions are somewhat closer to idiomatic Racket, whereas Parsack&#8217;s
names are more directly ported from Haskell.</p></li><li><p>Megaparsack provides <a href="reference.html#%28tech._parser._parameter%29" class="techoutside" data-pltdoc="x"><span class="techinside">parser parameters</span></a> for maintaining arbitrarily many distinct cells
of user-defined parser state, whereas Parsack only provides a single cell of state.</p></li><li><p>Both Megaparsack and Parsack use the same general model for parsing, backtracking, and error
reporting, which is adapted from the common parent, Parsec.</p></li><li><p>Both Megaparsack and Parsack expose a monadic interface for composing and sequencing parsers
together, and they both provide a minimal set of combinators for producing new parsers from
primitives.</p></li></ul><p>My general recommendation is to use Megaparsack unless performance is an issue, at which point it may
be worth it to use Parsack, instead. However, while some of Megaparsack&#8217;s design decisions do make it
inherently somewhat slower than Parsack, it&#8217;s likely that a lot of Megaparsack can be optimized much
more than it currently is. If you run into performance problems with Megaparsack, feel free to open
a bug report, and it might be possible to make Megaparsack palatably fast.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.6&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index-2.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.6&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="reference.html" title="backward to &quot;5 API Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Megaparsack: Practical Parser Combinators&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from docs.racket-lang.org/megaparsack/differences-from-parsack.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 03:21:40 GMT -->
</html>